const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-DsoUPvqS.js","assets/webworkerAll-C3NM7y3B.js","assets/colorToUniform-QOLbu4kI.js","assets/CanvasPool-CRw5ampt.js","assets/batchSamplersUniformGroup-CpV4Itsc.js","assets/WebGPURenderer-CiJou7JM.js","assets/SharedSystems-Ms0aaGqA.js","assets/WebGLRenderer-DZ1Ni6g0.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Zr(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var hc={exports:{}},Wa={};var Tm;function lx(){if(Tm)return Wa;Tm=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:l,type:a,key:h,ref:o!==void 0?o:null,props:u}}return Wa.Fragment=t,Wa.jsx=n,Wa.jsxs=n,Wa}var Em;function rx(){return Em||(Em=1,hc.exports=lx()),hc.exports}var j=rx(),fc={exports:{}},wt={};var zm;function ox(){if(zm)return wt;zm=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),v=Symbol.iterator;function w(S){return S===null||typeof S!="object"?null:(S=v&&S[v]||S["@@iterator"],typeof S=="function"?S:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,T={};function G(S,E,H){this.props=S,this.context=E,this.refs=T,this.updater=H||A}G.prototype.isReactComponent={},G.prototype.setState=function(S,E){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,E,"setState")},G.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function U(){}U.prototype=G.prototype;function L(S,E,H){this.props=S,this.context=E,this.refs=T,this.updater=H||A}var Z=L.prototype=new U;Z.constructor=L,D(Z,G.prototype),Z.isPureReactComponent=!0;var K=Array.isArray;function tt(){}var Q={H:null,A:null,T:null,S:null},nt=Object.prototype.hasOwnProperty;function Y(S,E,H){var W=H.ref;return{$$typeof:l,type:S,key:E,ref:W!==void 0?W:null,props:H}}function k(S,E){return Y(S.type,E,S.props)}function at(S){return typeof S=="object"&&S!==null&&S.$$typeof===l}function lt(S){var E={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(H){return E[H]})}var B=/\/+/g;function q(S,E){return typeof S=="object"&&S!==null&&S.key!=null?lt(""+S.key):E.toString(36)}function st(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(tt,tt):(S.status="pending",S.then(function(E){S.status==="pending"&&(S.status="fulfilled",S.value=E)},function(E){S.status==="pending"&&(S.status="rejected",S.reason=E)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function b(S,E,H,W,J){var rt=typeof S;(rt==="undefined"||rt==="boolean")&&(S=null);var ot=!1;if(S===null)ot=!0;else switch(rt){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(S.$$typeof){case l:case t:ot=!0;break;case g:return ot=S._init,b(ot(S._payload),E,H,W,J)}}if(ot)return J=J(S),ot=W===""?"."+q(S,0):W,K(J)?(H="",ot!=null&&(H=ot.replace(B,"$&/")+"/"),b(J,E,H,"",function(At){return At})):J!=null&&(at(J)&&(J=k(J,H+(J.key==null||S&&S.key===J.key?"":(""+J.key).replace(B,"$&/")+"/")+ot)),E.push(J)),1;ot=0;var ht=W===""?".":W+":";if(K(S))for(var ft=0;ft<S.length;ft++)W=S[ft],rt=ht+q(W,ft),ot+=b(W,E,H,rt,J);else if(ft=w(S),typeof ft=="function")for(S=ft.call(S),ft=0;!(W=S.next()).done;)W=W.value,rt=ht+q(W,ft++),ot+=b(W,E,H,rt,J);else if(rt==="object"){if(typeof S.then=="function")return b(st(S),E,H,W,J);throw E=String(S),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.")}return ot}function M(S,E,H){if(S==null)return S;var W=[],J=0;return b(S,W,"","",function(rt){return E.call(H,rt,J++)}),W}function C(S){if(S._status===-1){var E=S._result;E=E(),E.then(function(H){(S._status===0||S._status===-1)&&(S._status=1,S._result=H)},function(H){(S._status===0||S._status===-1)&&(S._status=2,S._result=H)}),S._status===-1&&(S._status=0,S._result=E)}if(S._status===1)return S._result.default;throw S._result}var R=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var E=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(E))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},z={map:M,forEach:function(S,E,H){M(S,function(){E.apply(this,arguments)},H)},count:function(S){var E=0;return M(S,function(){E++}),E},toArray:function(S){return M(S,function(E){return E})||[]},only:function(S){if(!at(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return wt.Activity=x,wt.Children=z,wt.Component=G,wt.Fragment=n,wt.Profiler=o,wt.PureComponent=L,wt.StrictMode=a,wt.Suspense=m,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,wt.__COMPILER_RUNTIME={__proto__:null,c:function(S){return Q.H.useMemoCache(S)}},wt.cache=function(S){return function(){return S.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(S,E,H){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var W=D({},S.props),J=S.key;if(E!=null)for(rt in E.key!==void 0&&(J=""+E.key),E)!nt.call(E,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&E.ref===void 0||(W[rt]=E[rt]);var rt=arguments.length-2;if(rt===1)W.children=H;else if(1<rt){for(var ot=Array(rt),ht=0;ht<rt;ht++)ot[ht]=arguments[ht+2];W.children=ot}return Y(S.type,J,W)},wt.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:u,_context:S},S},wt.createElement=function(S,E,H){var W,J={},rt=null;if(E!=null)for(W in E.key!==void 0&&(rt=""+E.key),E)nt.call(E,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(J[W]=E[W]);var ot=arguments.length-2;if(ot===1)J.children=H;else if(1<ot){for(var ht=Array(ot),ft=0;ft<ot;ft++)ht[ft]=arguments[ft+2];J.children=ht}if(S&&S.defaultProps)for(W in ot=S.defaultProps,ot)J[W]===void 0&&(J[W]=ot[W]);return Y(S,rt,J)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(S){return{$$typeof:d,render:S}},wt.isValidElement=at,wt.lazy=function(S){return{$$typeof:g,_payload:{_status:-1,_result:S},_init:C}},wt.memo=function(S,E){return{$$typeof:y,type:S,compare:E===void 0?null:E}},wt.startTransition=function(S){var E=Q.T,H={};Q.T=H;try{var W=S(),J=Q.S;J!==null&&J(H,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(tt,R)}catch(rt){R(rt)}finally{E!==null&&H.types!==null&&(E.types=H.types),Q.T=E}},wt.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},wt.use=function(S){return Q.H.use(S)},wt.useActionState=function(S,E,H){return Q.H.useActionState(S,E,H)},wt.useCallback=function(S,E){return Q.H.useCallback(S,E)},wt.useContext=function(S){return Q.H.useContext(S)},wt.useDebugValue=function(){},wt.useDeferredValue=function(S,E){return Q.H.useDeferredValue(S,E)},wt.useEffect=function(S,E){return Q.H.useEffect(S,E)},wt.useEffectEvent=function(S){return Q.H.useEffectEvent(S)},wt.useId=function(){return Q.H.useId()},wt.useImperativeHandle=function(S,E,H){return Q.H.useImperativeHandle(S,E,H)},wt.useInsertionEffect=function(S,E){return Q.H.useInsertionEffect(S,E)},wt.useLayoutEffect=function(S,E){return Q.H.useLayoutEffect(S,E)},wt.useMemo=function(S,E){return Q.H.useMemo(S,E)},wt.useOptimistic=function(S,E){return Q.H.useOptimistic(S,E)},wt.useReducer=function(S,E,H){return Q.H.useReducer(S,E,H)},wt.useRef=function(S){return Q.H.useRef(S)},wt.useState=function(S){return Q.H.useState(S)},wt.useSyncExternalStore=function(S,E,H){return Q.H.useSyncExternalStore(S,E,H)},wt.useTransition=function(){return Q.H.useTransition()},wt.version="19.2.0",wt}var Rm;function Wr(){return Rm||(Rm=1,fc.exports=ox()),fc.exports}var yt=Wr();const ux=Zr(yt);var dc={exports:{}},Qa={},mc={exports:{}},yc={};var Om;function cx(){return Om||(Om=1,(function(l){function t(b,M){var C=b.length;b.push(M);t:for(;0<C;){var R=C-1>>>1,z=b[R];if(0<o(z,M))b[R]=M,b[C]=z,C=R;else break t}}function n(b){return b.length===0?null:b[0]}function a(b){if(b.length===0)return null;var M=b[0],C=b.pop();if(C!==M){b[0]=C;t:for(var R=0,z=b.length,S=z>>>1;R<S;){var E=2*(R+1)-1,H=b[E],W=E+1,J=b[W];if(0>o(H,C))W<z&&0>o(J,H)?(b[R]=J,b[W]=C,R=W):(b[R]=H,b[E]=C,R=E);else if(W<z&&0>o(J,C))b[R]=J,b[W]=C,R=W;else break t}}return M}function o(b,M){var C=b.sortIndex-M.sortIndex;return C!==0?C:b.id-M.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;l.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();l.unstable_now=function(){return h.now()-d}}var m=[],y=[],g=1,x=null,v=3,w=!1,A=!1,D=!1,T=!1,G=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function Z(b){for(var M=n(y);M!==null;){if(M.callback===null)a(y);else if(M.startTime<=b)a(y),M.sortIndex=M.expirationTime,t(m,M);else break;M=n(y)}}function K(b){if(D=!1,Z(b),!A)if(n(m)!==null)A=!0,tt||(tt=!0,lt());else{var M=n(y);M!==null&&st(K,M.startTime-b)}}var tt=!1,Q=-1,nt=5,Y=-1;function k(){return T?!0:!(l.unstable_now()-Y<nt)}function at(){if(T=!1,tt){var b=l.unstable_now();Y=b;var M=!0;try{t:{A=!1,D&&(D=!1,U(Q),Q=-1),w=!0;var C=v;try{e:{for(Z(b),x=n(m);x!==null&&!(x.expirationTime>b&&k());){var R=x.callback;if(typeof R=="function"){x.callback=null,v=x.priorityLevel;var z=R(x.expirationTime<=b);if(b=l.unstable_now(),typeof z=="function"){x.callback=z,Z(b),M=!0;break e}x===n(m)&&a(m),Z(b)}else a(m);x=n(m)}if(x!==null)M=!0;else{var S=n(y);S!==null&&st(K,S.startTime-b),M=!1}}break t}finally{x=null,v=C,w=!1}M=void 0}}finally{M?lt():tt=!1}}}var lt;if(typeof L=="function")lt=function(){L(at)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,q=B.port2;B.port1.onmessage=at,lt=function(){q.postMessage(null)}}else lt=function(){G(at,0)};function st(b,M){Q=G(function(){b(l.unstable_now())},M)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(b){b.callback=null},l.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):nt=0<b?Math.floor(1e3/b):5},l.unstable_getCurrentPriorityLevel=function(){return v},l.unstable_next=function(b){switch(v){case 1:case 2:case 3:var M=3;break;default:M=v}var C=v;v=M;try{return b()}finally{v=C}},l.unstable_requestPaint=function(){T=!0},l.unstable_runWithPriority=function(b,M){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var C=v;v=b;try{return M()}finally{v=C}},l.unstable_scheduleCallback=function(b,M,C){var R=l.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?R+C:R):C=R,b){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=C+z,b={id:g++,callback:M,priorityLevel:b,startTime:C,expirationTime:z,sortIndex:-1},C>R?(b.sortIndex=C,t(y,b),n(m)===null&&b===n(y)&&(D?(U(Q),Q=-1):D=!0,st(K,C-R))):(b.sortIndex=z,t(m,b),A||w||(A=!0,tt||(tt=!0,lt()))),b},l.unstable_shouldYield=k,l.unstable_wrapCallback=function(b){var M=v;return function(){var C=v;v=M;try{return b.apply(this,arguments)}finally{v=C}}}})(yc)),yc}var Bm;function hx(){return Bm||(Bm=1,mc.exports=cx()),mc.exports}var gc={exports:{}},De={};var Dm;function fx(){if(Dm)return De;Dm=1;var l=Wr();function t(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)y+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,y,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:m,containerInfo:y,implementation:g}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return De.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,De.createPortal=function(m,y){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(m,y,null,g)},De.flushSync=function(m){var y=h.T,g=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=y,a.p=g,a.d.f()}},De.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(m,y))},De.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},De.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var g=y.as,x=d(g,y.crossOrigin),v=typeof y.integrity=="string"?y.integrity:void 0,w=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;g==="style"?a.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:w}):g==="script"&&a.d.X(m,{crossOrigin:x,integrity:v,fetchPriority:w,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},De.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var g=d(y.as,y.crossOrigin);a.d.M(m,{crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(m)},De.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var g=y.as,x=d(g,y.crossOrigin);a.d.L(m,g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},De.preloadModule=function(m,y){if(typeof m=="string")if(y){var g=d(y.as,y.crossOrigin);a.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(m)},De.requestFormReset=function(m){a.d.r(m)},De.unstable_batchedUpdates=function(m,y){return m(y)},De.useFormState=function(m,y,g){return h.H.useFormState(m,y,g)},De.useFormStatus=function(){return h.H.useHostTransitionStatus()},De.version="19.2.0",De}var Um;function dx(){if(Um)return gc.exports;Um=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),gc.exports=fx(),gc.exports}var Nm;function mx(){if(Nm)return Qa;Nm=1;var l=hx(),t=Wr(),n=dx();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function h(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function d(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(a(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(a(188));return i!==e?null:e}for(var s=e,r=i;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(r=c.return,r!==null){s=r;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return m(c),e;if(f===r)return m(c),i;f=f.sibling}throw Error(a(188))}if(s.return!==r.return)s=c,r=f;else{for(var p=!1,_=c.child;_;){if(_===s){p=!0,s=c,r=f;break}if(_===r){p=!0,r=c,s=f;break}_=_.sibling}if(!p){for(_=f.child;_;){if(_===s){p=!0,s=f,r=c;break}if(_===r){p=!0,r=f,s=c;break}_=_.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==r)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),L=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function lt(e){return e===null||typeof e!="object"?null:(e=at&&e[at]||e["@@iterator"],typeof e=="function"?e:null)}var B=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===B?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case G:return"Profiler";case T:return"StrictMode";case K:return"Suspense";case tt:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case L:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case Z:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return i=e.displayName||null,i!==null?i:q(e.type)||"Memo";case nt:i=e._payload,e=e._init;try{return q(e(i))}catch{}}return null}var st=Array.isArray,b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C={pending:!1,data:null,method:null,action:null},R=[],z=-1;function S(e){return{current:e}}function E(e){0>z||(e.current=R[z],R[z]=null,z--)}function H(e,i){z++,R[z]=e.current,e.current=i}var W=S(null),J=S(null),rt=S(null),ot=S(null);function ht(e,i){switch(H(rt,i),H(J,e),H(W,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?I0(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=I0(i),e=K0(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}E(W),H(W,e)}function ft(){E(W),E(J),E(rt)}function At(e){e.memoizedState!==null&&H(ot,e);var i=W.current,s=K0(i,e.type);i!==s&&(H(J,e),H(W,s))}function re(e){J.current===e&&(E(W),E(J)),ot.current===e&&(E(ot),Va._currentValue=C)}var ut,gt;function St(e){if(ut===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);ut=i&&i[1]||"",gt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ut+e+gt}var dt=!1;function ct(e,i){if(!e||dt)return"";dt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(I){var F=I}Reflect.construct(e,[],it)}else{try{it.call()}catch(I){F=I}e.call(it.prototype)}}else{try{throw Error()}catch(I){F=I}(it=e())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(I){if(I&&F&&typeof I.stack=="string")return[I.stack,F.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),p=f[0],_=f[1];if(p&&_){var O=p.split(`
`),P=_.split(`
`);for(c=r=0;r<O.length&&!O[r].includes("DetermineComponentFrameRoot");)r++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(r===O.length||c===P.length)for(r=O.length-1,c=P.length-1;1<=r&&0<=c&&O[r]!==P[c];)c--;for(;1<=r&&0<=c;r--,c--)if(O[r]!==P[c]){if(r!==1||c!==1)do if(r--,c--,0>c||O[r]!==P[c]){var $=`
`+O[r].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=r&&0<=c);break}}}finally{dt=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?St(s):""}function zt(e,i){switch(e.tag){case 26:case 27:case 5:return St(e.type);case 16:return St("Lazy");case 13:return e.child!==i&&i!==null?St("Suspense Fallback"):St("Suspense");case 19:return St("SuspenseList");case 0:case 15:return ct(e.type,!1);case 11:return ct(e.type.render,!1);case 1:return ct(e.type,!0);case 31:return St("Activity");default:return""}}function Et(e){try{var i="",s=null;do i+=zt(e,s),s=e,e=e.return;while(e);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Gt=Object.prototype.hasOwnProperty,jt=l.unstable_scheduleCallback,Ut=l.unstable_cancelCallback,pe=l.unstable_shouldYield,_t=l.unstable_requestPaint,xe=l.unstable_now,Ai=l.unstable_getCurrentPriorityLevel,Ye=l.unstable_ImmediatePriority,Jt=l.unstable_UserBlockingPriority,oe=l.unstable_NormalPriority,ns=l.unstable_LowPriority,zh=l.unstable_IdlePriority,Xg=l.log,qg=l.unstable_setDisableYieldValue,ia=null,We=null;function an(e){if(typeof Xg=="function"&&qg(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(ia,e)}catch{}}var Qe=Math.clz32?Math.clz32:Fg,Vg=Math.log,Pg=Math.LN2;function Fg(e){return e>>>=0,e===0?32:31-(Vg(e)/Pg|0)|0}var fl=256,dl=262144,ml=4194304;function Dn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yl(e,i,s){var r=e.pendingLanes;if(r===0)return 0;var c=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~f,r!==0?c=Dn(r):(p&=_,p!==0?c=Dn(p):s||(s=_&~e,s!==0&&(c=Dn(s))))):(_=r&~f,_!==0?c=Dn(_):p!==0?c=Dn(p):s||(s=r&~e,s!==0&&(c=Dn(s)))),c===0?0:i!==0&&i!==c&&(i&f)===0&&(f=c&-c,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:c}function na(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Zg(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rh(){var e=ml;return ml<<=1,(ml&62914560)===0&&(ml=4194304),e}function Jr(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function sa(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wg(e,i,s,r,c,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var _=e.entanglements,O=e.expirationTimes,P=e.hiddenUpdates;for(s=p&~s;0<s;){var $=31-Qe(s),it=1<<$;_[$]=0,O[$]=-1;var F=P[$];if(F!==null)for(P[$]=null,$=0;$<F.length;$++){var I=F[$];I!==null&&(I.lane&=-536870913)}s&=~it}r!==0&&Oh(e,r,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~i))}function Oh(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var r=31-Qe(i);e.entangledLanes|=i,e.entanglements[r]=e.entanglements[r]|1073741824|s&261930}function Bh(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var r=31-Qe(s),c=1<<r;c&i|e[r]&i&&(e[r]|=i),s&=~c}}function Dh(e,i){var s=i&-i;return s=(s&42)!==0?1:$r(s),(s&(e.suspendedLanes|i))!==0?0:s}function $r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function to(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Uh(){var e=M.p;return e!==0?e:(e=window.event,e===void 0?32:_m(e.type))}function Nh(e,i){var s=M.p;try{return M.p=e,i()}finally{M.p=s}}var ln=Math.random().toString(36).slice(2),Ce="__reactFiber$"+ln,He="__reactProps$"+ln,ss="__reactContainer$"+ln,eo="__reactEvents$"+ln,Qg="__reactListeners$"+ln,Ig="__reactHandles$"+ln,Gh="__reactResources$"+ln,aa="__reactMarker$"+ln;function io(e){delete e[Ce],delete e[He],delete e[eo],delete e[Qg],delete e[Ig]}function as(e){var i=e[Ce];if(i)return i;for(var s=e.parentNode;s;){if(i=s[ss]||s[Ce]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=sm(e);e!==null;){if(s=e[Ce])return s;e=sm(e)}return i}e=s,s=e.parentNode}return null}function ls(e){if(e=e[Ce]||e[ss]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function la(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function rs(e){var i=e[Gh];return i||(i=e[Gh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ve(e){e[aa]=!0}var Lh=new Set,Yh={};function Un(e,i){os(e,i),os(e+"Capture",i)}function os(e,i){for(Yh[e]=i,e=0;e<i.length;e++)Lh.add(i[e])}var Kg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hh={},jh={};function Jg(e){return Gt.call(jh,e)?!0:Gt.call(Hh,e)?!1:Kg.test(e)?jh[e]=!0:(Hh[e]=!0,!1)}function gl(e,i,s){if(Jg(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function pl(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function Bi(e,i,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+r)}}function si(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kh(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $g(e,i,s){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return c.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,i,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function no(e){if(!e._valueTracker){var i=kh(e)?"checked":"value";e._valueTracker=$g(e,i,""+e[i])}}function Xh(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),r="";return e&&(r=kh(e)?e.checked?"true":"false":e.value),e=r,e!==s?(i.setValue(e),!0):!1}function xl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tp=/[\n"\\]/g;function ai(e){return e.replace(tp,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function so(e,i,s,r,c,f,p,_){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),i!=null?p==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+si(i)):e.value!==""+si(i)&&(e.value=""+si(i)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),i!=null?ao(e,p,si(i)):s!=null?ao(e,p,si(s)):r!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+si(_):e.removeAttribute("name")}function qh(e,i,s,r,c,f,p,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){no(e);return}s=s!=null?""+si(s):"",i=i!=null?""+si(i):s,_||i===e.value||(e.value=i),e.defaultValue=i}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),no(e)}function ao(e,i,s){i==="number"&&xl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function us(e,i,s,r){if(e=e.options,i){i={};for(var c=0;c<s.length;c++)i["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=i.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&r&&(e[s].defaultSelected=!0)}else{for(s=""+si(s),i=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}i!==null||e[c].disabled||(i=e[c])}i!==null&&(i.selected=!0)}}function Vh(e,i,s){if(i!=null&&(i=""+si(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+si(s):""}function Ph(e,i,s,r){if(i==null){if(r!=null){if(s!=null)throw Error(a(92));if(st(r)){if(1<r.length)throw Error(a(93));r=r[0]}s=r}s==null&&(s=""),i=s}s=si(i),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r),no(e)}function cs(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var ep=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fh(e,i,s){var r=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":r?e.setProperty(i,s):typeof s!="number"||s===0||ep.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function Zh(e,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in i)r=i[c],i.hasOwnProperty(c)&&s[c]!==r&&Fh(e,c,r)}else for(var f in i)i.hasOwnProperty(f)&&Fh(e,f,i[f])}function lo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),np=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bl(e){return np.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Di(){}var ro=null;function oo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,fs=null;function Wh(e){var i=ls(e);if(i&&(e=i.stateNode)){var s=e[He]||null;t:switch(e=i.stateNode,i.type){case"input":if(so(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ai(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var r=s[i];if(r!==e&&r.form===e.form){var c=r[He]||null;if(!c)throw Error(a(90));so(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(i=0;i<s.length;i++)r=s[i],r.form===e.form&&Xh(r)}break t;case"textarea":Vh(e,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&us(e,!!s.multiple,i,!1)}}}var uo=!1;function Qh(e,i,s){if(uo)return e(i,s);uo=!0;try{var r=e(i);return r}finally{if(uo=!1,(hs!==null||fs!==null)&&(lr(),hs&&(i=hs,e=fs,fs=hs=null,Wh(i),e)))for(i=0;i<e.length;i++)Wh(e[i])}}function ra(e,i){var s=e.stateNode;if(s===null)return null;var r=s[He]||null;if(r===null)return null;s=r[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),co=!1;if(Ui)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){co=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{co=!1}var rn=null,ho=null,_l=null;function Ih(){if(_l)return _l;var e,i=ho,s=i.length,r,c="value"in rn?rn.value:rn.textContent,f=c.length;for(e=0;e<s&&i[e]===c[e];e++);var p=s-e;for(r=1;r<=p&&i[s-r]===c[f-r];r++);return _l=c.slice(e,1<r?1-r:void 0)}function vl(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Sl(){return!0}function Kh(){return!1}function je(e){function i(s,r,c,f,p){this._reactName=s,this._targetInst=c,this.type=r,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Sl:Kh,this.isPropagationStopped=Kh,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),i}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Al=je(Nn),ua=x({},Nn,{view:0,detail:0}),sp=je(ua),fo,mo,ca,wl=x({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:go,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ca&&(ca&&e.type==="mousemove"?(fo=e.screenX-ca.screenX,mo=e.screenY-ca.screenY):mo=fo=0,ca=e),fo)},movementY:function(e){return"movementY"in e?e.movementY:mo}}),Jh=je(wl),ap=x({},wl,{dataTransfer:0}),lp=je(ap),rp=x({},ua,{relatedTarget:0}),yo=je(rp),op=x({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),up=je(op),cp=x({},Nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hp=je(cp),fp=x({},Nn,{data:0}),$h=je(fp),dp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gp(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=yp[e])?!!i[e]:!1}function go(){return gp}var pp=x({},ua,{key:function(e){if(e.key){var i=dp[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:go,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xp=je(pp),bp=x({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tf=je(bp),_p=x({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:go}),vp=je(_p),Sp=x({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ap=je(Sp),wp=x({},wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mp=je(wp),Cp=x({},Nn,{newState:0,oldState:0}),Tp=je(Cp),Ep=[9,13,27,32],po=Ui&&"CompositionEvent"in window,ha=null;Ui&&"documentMode"in document&&(ha=document.documentMode);var zp=Ui&&"TextEvent"in window&&!ha,ef=Ui&&(!po||ha&&8<ha&&11>=ha),nf=" ",sf=!1;function af(e,i){switch(e){case"keyup":return Ep.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ds=!1;function Rp(e,i){switch(e){case"compositionend":return lf(i);case"keypress":return i.which!==32?null:(sf=!0,nf);case"textInput":return e=i.data,e===nf&&sf?null:e;default:return null}}function Op(e,i){if(ds)return e==="compositionend"||!po&&af(e,i)?(e=Ih(),_l=ho=rn=null,ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ef&&i.locale!=="ko"?null:i.data;default:return null}}var Bp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Bp[e.type]:i==="textarea"}function of(e,i,s,r){hs?fs?fs.push(r):fs=[r]:hs=r,i=dr(i,"onChange"),0<i.length&&(s=new Al("onChange","change",null,s,r),e.push({event:s,listeners:i}))}var fa=null,da=null;function Dp(e){V0(e,0)}function Ml(e){var i=la(e);if(Xh(i))return e}function uf(e,i){if(e==="change")return i}var cf=!1;if(Ui){var xo;if(Ui){var bo="oninput"in document;if(!bo){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),bo=typeof hf.oninput=="function"}xo=bo}else xo=!1;cf=xo&&(!document.documentMode||9<document.documentMode)}function ff(){fa&&(fa.detachEvent("onpropertychange",df),da=fa=null)}function df(e){if(e.propertyName==="value"&&Ml(da)){var i=[];of(i,da,e,oo(e)),Qh(Dp,i)}}function Up(e,i,s){e==="focusin"?(ff(),fa=i,da=s,fa.attachEvent("onpropertychange",df)):e==="focusout"&&ff()}function Np(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(da)}function Gp(e,i){if(e==="click")return Ml(i)}function Lp(e,i){if(e==="input"||e==="change")return Ml(i)}function Yp(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Ie=typeof Object.is=="function"?Object.is:Yp;function ma(e,i){if(Ie(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),r=Object.keys(i);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var c=s[r];if(!Gt.call(i,c)||!Ie(e[c],i[c]))return!1}return!0}function mf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yf(e,i){var s=mf(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=i&&r>=i)return{node:s,offset:i-e};e=r}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=mf(s)}}function gf(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?gf(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function pf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=xl(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=xl(e.document)}return i}function _o(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Hp=Ui&&"documentMode"in document&&11>=document.documentMode,ms=null,vo=null,ya=null,So=!1;function xf(e,i,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;So||ms==null||ms!==xl(r)||(r=ms,"selectionStart"in r&&_o(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ya&&ma(ya,r)||(ya=r,r=dr(vo,"onSelect"),0<r.length&&(i=new Al("onSelect","select",null,i,s),e.push({event:i,listeners:r}),i.target=ms)))}function Gn(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var ys={animationend:Gn("Animation","AnimationEnd"),animationiteration:Gn("Animation","AnimationIteration"),animationstart:Gn("Animation","AnimationStart"),transitionrun:Gn("Transition","TransitionRun"),transitionstart:Gn("Transition","TransitionStart"),transitioncancel:Gn("Transition","TransitionCancel"),transitionend:Gn("Transition","TransitionEnd")},Ao={},bf={};Ui&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Ln(e){if(Ao[e])return Ao[e];if(!ys[e])return e;var i=ys[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in bf)return Ao[e]=i[s];return e}var _f=Ln("animationend"),vf=Ln("animationiteration"),Sf=Ln("animationstart"),jp=Ln("transitionrun"),kp=Ln("transitionstart"),Xp=Ln("transitioncancel"),Af=Ln("transitionend"),wf=new Map,wo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wo.push("scrollEnd");function gi(e,i){wf.set(e,i),Un(i,[e])}var Cl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},li=[],gs=0,Mo=0;function Tl(){for(var e=gs,i=Mo=gs=0;i<e;){var s=li[i];li[i++]=null;var r=li[i];li[i++]=null;var c=li[i];li[i++]=null;var f=li[i];if(li[i++]=null,r!==null&&c!==null){var p=r.pending;p===null?c.next=c:(c.next=p.next,p.next=c),r.pending=c}f!==0&&Mf(s,c,f)}}function El(e,i,s,r){li[gs++]=e,li[gs++]=i,li[gs++]=s,li[gs++]=r,Mo|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Co(e,i,s,r){return El(e,i,s,r),zl(e)}function Yn(e,i){return El(e,null,null,i),zl(e)}function Mf(e,i,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,r=f.alternate,r!==null&&(r.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&i!==null&&(c=31-Qe(s),e=f.hiddenUpdates,r=e[c],r===null?e[c]=[i]:r.push(i),i.lane=s|536870912),f):null}function zl(e){if(50<La)throw La=0,Nu=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ps={};function qp(e,i,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,i,s,r){return new qp(e,i,s,r)}function To(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ni(e,i){var s=e.alternate;return s===null?(s=Ke(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Cf(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Rl(e,i,s,r,c,f){var p=0;if(r=e,typeof e=="function")To(e)&&(p=1);else if(typeof e=="string")p=W1(e,s,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Y:return e=Ke(31,s,i,c),e.elementType=Y,e.lanes=f,e;case D:return Hn(s.children,c,f,i);case T:p=8,c|=24;break;case G:return e=Ke(12,s,i,c|2),e.elementType=G,e.lanes=f,e;case K:return e=Ke(13,s,i,c),e.elementType=K,e.lanes=f,e;case tt:return e=Ke(19,s,i,c),e.elementType=tt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:p=10;break t;case U:p=9;break t;case Z:p=11;break t;case Q:p=14;break t;case nt:p=16,r=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),r=null}return i=Ke(p,s,i,c),i.elementType=e,i.type=r,i.lanes=f,i}function Hn(e,i,s,r){return e=Ke(7,e,r,i),e.lanes=s,e}function Eo(e,i,s){return e=Ke(6,e,null,i),e.lanes=s,e}function Tf(e){var i=Ke(18,null,null,0);return i.stateNode=e,i}function zo(e,i,s){return i=Ke(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Ef=new WeakMap;function ri(e,i){if(typeof e=="object"&&e!==null){var s=Ef.get(e);return s!==void 0?s:(i={value:e,source:i,stack:Et(i)},Ef.set(e,i),i)}return{value:e,source:i,stack:Et(i)}}var xs=[],bs=0,Ol=null,ga=0,oi=[],ui=0,on=null,wi=1,Mi="";function Gi(e,i){xs[bs++]=ga,xs[bs++]=Ol,Ol=e,ga=i}function zf(e,i,s){oi[ui++]=wi,oi[ui++]=Mi,oi[ui++]=on,on=e;var r=wi;e=Mi;var c=32-Qe(r)-1;r&=~(1<<c),s+=1;var f=32-Qe(i)+c;if(30<f){var p=c-c%5;f=(r&(1<<p)-1).toString(32),r>>=p,c-=p,wi=1<<32-Qe(i)+c|s<<c|r,Mi=f+e}else wi=1<<f|s<<c|r,Mi=e}function Ro(e){e.return!==null&&(Gi(e,1),zf(e,1,0))}function Oo(e){for(;e===Ol;)Ol=xs[--bs],xs[bs]=null,ga=xs[--bs],xs[bs]=null;for(;e===on;)on=oi[--ui],oi[ui]=null,Mi=oi[--ui],oi[ui]=null,wi=oi[--ui],oi[ui]=null}function Rf(e,i){oi[ui++]=wi,oi[ui++]=Mi,oi[ui++]=on,wi=i.id,Mi=i.overflow,on=e}var Te=null,$t=null,Nt=!1,un=null,ci=!1,Bo=Error(a(519));function cn(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pa(ri(i,e)),Bo}function Of(e){var i=e.stateNode,s=e.type,r=e.memoizedProps;switch(i[Ce]=e,i[He]=r,s){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(s=0;s<Ha.length;s++)Ot(Ha[s],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),qh(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),Ph(i,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||r.suppressHydrationWarning===!0||W0(i.textContent,s)?(r.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),r.onScroll!=null&&Ot("scroll",i),r.onScrollEnd!=null&&Ot("scrollend",i),r.onClick!=null&&(i.onclick=Di),i=!0):i=!1,i||cn(e,!0)}function Bf(e){for(Te=e.return;Te;)switch(Te.tag){case 5:case 31:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:Te=Te.return}}function _s(e){if(e!==Te)return!1;if(!Nt)return Bf(e),Nt=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Iu(e.type,e.memoizedProps)),s=!s),s&&$t&&cn(e),Bf(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));$t=nm(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));$t=nm(e)}else i===27?(i=$t,wn(e.type)?(e=ec,ec=null,$t=e):$t=i):$t=Te?fi(e.stateNode.nextSibling):null;return!0}function jn(){$t=Te=null,Nt=!1}function Do(){var e=un;return e!==null&&(Ve===null?Ve=e:Ve.push.apply(Ve,e),un=null),e}function pa(e){un===null?un=[e]:un.push(e)}var Uo=S(null),kn=null,Li=null;function hn(e,i,s){H(Uo,i._currentValue),i._currentValue=s}function Yi(e){e._currentValue=Uo.current,E(Uo)}function No(e,i,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),e===s)break;e=e.return}}function Go(e,i,s,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var _=f;f=c;for(var O=0;O<i.length;O++)if(_.context===i[O]){f.lanes|=s,_=f.alternate,_!==null&&(_.lanes|=s),No(f.return,s,e),r||(p=null);break t}f=_.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),No(p,s,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function vs(e,i,s,r){e=null;for(var c=i,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var _=c.type;Ie(c.pendingProps.value,p.value)||(e!==null?e.push(_):e=[_])}}else if(c===ot.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Va):e=[Va])}c=c.return}e!==null&&Go(i,e,s,r),i.flags|=262144}function Bl(e){for(e=e.firstContext;e!==null;){if(!Ie(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xn(e){kn=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ee(e){return Df(kn,e)}function Dl(e,i){return kn===null&&Xn(e),Df(e,i)}function Df(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Li===null){if(e===null)throw Error(a(308));Li=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Li=Li.next=i;return s}var Vp=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},Pp=l.unstable_scheduleCallback,Fp=l.unstable_NormalPriority,he={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lo(){return{controller:new Vp,data:new Map,refCount:0}}function xa(e){e.refCount--,e.refCount===0&&Pp(Fp,function(){e.controller.abort()})}var ba=null,Yo=0,Ss=0,As=null;function Zp(e,i){if(ba===null){var s=ba=[];Yo=0,Ss=ku(),As={status:"pending",value:void 0,then:function(r){s.push(r)}}}return Yo++,i.then(Uf,Uf),i}function Uf(){if(--Yo===0&&ba!==null){As!==null&&(As.status="fulfilled");var e=ba;ba=null,Ss=0,As=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Wp(e,i){var s=[],r={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){r.status="fulfilled",r.value=i;for(var c=0;c<s.length;c++)(0,s[c])(i)},function(c){for(r.status="rejected",r.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),r}var Nf=b.S;b.S=function(e,i){x0=xe(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Zp(e,i),Nf!==null&&Nf(e,i)};var qn=S(null);function Ho(){var e=qn.current;return e!==null?e:Wt.pooledCache}function Ul(e,i){i===null?H(qn,qn.current):H(qn,i.pool)}function Gf(){var e=Ho();return e===null?null:{parent:he._currentValue,pool:e}}var ws=Error(a(460)),jo=Error(a(474)),Nl=Error(a(542)),Gl={then:function(){}};function Lf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yf(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(Di,Di),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,jf(e),e;default:if(typeof i.status=="string")i.then(Di,Di);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(r){if(i.status==="pending"){var c=i;c.status="fulfilled",c.value=r}},function(r){if(i.status==="pending"){var c=i;c.status="rejected",c.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,jf(e),e}throw Pn=i,ws}}function Vn(e){try{var i=e._init;return i(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Pn=s,ws):s}}var Pn=null;function Hf(){if(Pn===null)throw Error(a(459));var e=Pn;return Pn=null,e}function jf(e){if(e===ws||e===Nl)throw Error(a(483))}var Ms=null,_a=0;function Ll(e){var i=_a;return _a+=1,Ms===null&&(Ms=[]),Yf(Ms,e,i)}function va(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Yl(e,i){throw i.$$typeof===v?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function kf(e){function i(X,N){if(e){var V=X.deletions;V===null?(X.deletions=[N],X.flags|=16):V.push(N)}}function s(X,N){if(!e)return null;for(;N!==null;)i(X,N),N=N.sibling;return null}function r(X){for(var N=new Map;X!==null;)X.key!==null?N.set(X.key,X):N.set(X.index,X),X=X.sibling;return N}function c(X,N){return X=Ni(X,N),X.index=0,X.sibling=null,X}function f(X,N,V){return X.index=V,e?(V=X.alternate,V!==null?(V=V.index,V<N?(X.flags|=67108866,N):V):(X.flags|=67108866,N)):(X.flags|=1048576,N)}function p(X){return e&&X.alternate===null&&(X.flags|=67108866),X}function _(X,N,V,et){return N===null||N.tag!==6?(N=Eo(V,X.mode,et),N.return=X,N):(N=c(N,V),N.return=X,N)}function O(X,N,V,et){var bt=V.type;return bt===D?$(X,N,V.props.children,et,V.key):N!==null&&(N.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===nt&&Vn(bt)===N.type)?(N=c(N,V.props),va(N,V),N.return=X,N):(N=Rl(V.type,V.key,V.props,null,X.mode,et),va(N,V),N.return=X,N)}function P(X,N,V,et){return N===null||N.tag!==4||N.stateNode.containerInfo!==V.containerInfo||N.stateNode.implementation!==V.implementation?(N=zo(V,X.mode,et),N.return=X,N):(N=c(N,V.children||[]),N.return=X,N)}function $(X,N,V,et,bt){return N===null||N.tag!==7?(N=Hn(V,X.mode,et,bt),N.return=X,N):(N=c(N,V),N.return=X,N)}function it(X,N,V){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Eo(""+N,X.mode,V),N.return=X,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case w:return V=Rl(N.type,N.key,N.props,null,X.mode,V),va(V,N),V.return=X,V;case A:return N=zo(N,X.mode,V),N.return=X,N;case nt:return N=Vn(N),it(X,N,V)}if(st(N)||lt(N))return N=Hn(N,X.mode,V,null),N.return=X,N;if(typeof N.then=="function")return it(X,Ll(N),V);if(N.$$typeof===L)return it(X,Dl(X,N),V);Yl(X,N)}return null}function F(X,N,V,et){var bt=N!==null?N.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return bt!==null?null:_(X,N,""+V,et);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return V.key===bt?O(X,N,V,et):null;case A:return V.key===bt?P(X,N,V,et):null;case nt:return V=Vn(V),F(X,N,V,et)}if(st(V)||lt(V))return bt!==null?null:$(X,N,V,et,null);if(typeof V.then=="function")return F(X,N,Ll(V),et);if(V.$$typeof===L)return F(X,N,Dl(X,V),et);Yl(X,V)}return null}function I(X,N,V,et,bt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return X=X.get(V)||null,_(N,X,""+et,bt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case w:return X=X.get(et.key===null?V:et.key)||null,O(N,X,et,bt);case A:return X=X.get(et.key===null?V:et.key)||null,P(N,X,et,bt);case nt:return et=Vn(et),I(X,N,V,et,bt)}if(st(et)||lt(et))return X=X.get(V)||null,$(N,X,et,bt,null);if(typeof et.then=="function")return I(X,N,V,Ll(et),bt);if(et.$$typeof===L)return I(X,N,V,Dl(N,et),bt);Yl(N,et)}return null}function mt(X,N,V,et){for(var bt=null,Lt=null,pt=N,Tt=N=0,Dt=null;pt!==null&&Tt<V.length;Tt++){pt.index>Tt?(Dt=pt,pt=null):Dt=pt.sibling;var Yt=F(X,pt,V[Tt],et);if(Yt===null){pt===null&&(pt=Dt);break}e&&pt&&Yt.alternate===null&&i(X,pt),N=f(Yt,N,Tt),Lt===null?bt=Yt:Lt.sibling=Yt,Lt=Yt,pt=Dt}if(Tt===V.length)return s(X,pt),Nt&&Gi(X,Tt),bt;if(pt===null){for(;Tt<V.length;Tt++)pt=it(X,V[Tt],et),pt!==null&&(N=f(pt,N,Tt),Lt===null?bt=pt:Lt.sibling=pt,Lt=pt);return Nt&&Gi(X,Tt),bt}for(pt=r(pt);Tt<V.length;Tt++)Dt=I(pt,X,Tt,V[Tt],et),Dt!==null&&(e&&Dt.alternate!==null&&pt.delete(Dt.key===null?Tt:Dt.key),N=f(Dt,N,Tt),Lt===null?bt=Dt:Lt.sibling=Dt,Lt=Dt);return e&&pt.forEach(function(zn){return i(X,zn)}),Nt&&Gi(X,Tt),bt}function vt(X,N,V,et){if(V==null)throw Error(a(151));for(var bt=null,Lt=null,pt=N,Tt=N=0,Dt=null,Yt=V.next();pt!==null&&!Yt.done;Tt++,Yt=V.next()){pt.index>Tt?(Dt=pt,pt=null):Dt=pt.sibling;var zn=F(X,pt,Yt.value,et);if(zn===null){pt===null&&(pt=Dt);break}e&&pt&&zn.alternate===null&&i(X,pt),N=f(zn,N,Tt),Lt===null?bt=zn:Lt.sibling=zn,Lt=zn,pt=Dt}if(Yt.done)return s(X,pt),Nt&&Gi(X,Tt),bt;if(pt===null){for(;!Yt.done;Tt++,Yt=V.next())Yt=it(X,Yt.value,et),Yt!==null&&(N=f(Yt,N,Tt),Lt===null?bt=Yt:Lt.sibling=Yt,Lt=Yt);return Nt&&Gi(X,Tt),bt}for(pt=r(pt);!Yt.done;Tt++,Yt=V.next())Yt=I(pt,X,Tt,Yt.value,et),Yt!==null&&(e&&Yt.alternate!==null&&pt.delete(Yt.key===null?Tt:Yt.key),N=f(Yt,N,Tt),Lt===null?bt=Yt:Lt.sibling=Yt,Lt=Yt);return e&&pt.forEach(function(ax){return i(X,ax)}),Nt&&Gi(X,Tt),bt}function Ft(X,N,V,et){if(typeof V=="object"&&V!==null&&V.type===D&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case w:t:{for(var bt=V.key;N!==null;){if(N.key===bt){if(bt=V.type,bt===D){if(N.tag===7){s(X,N.sibling),et=c(N,V.props.children),et.return=X,X=et;break t}}else if(N.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===nt&&Vn(bt)===N.type){s(X,N.sibling),et=c(N,V.props),va(et,V),et.return=X,X=et;break t}s(X,N);break}else i(X,N);N=N.sibling}V.type===D?(et=Hn(V.props.children,X.mode,et,V.key),et.return=X,X=et):(et=Rl(V.type,V.key,V.props,null,X.mode,et),va(et,V),et.return=X,X=et)}return p(X);case A:t:{for(bt=V.key;N!==null;){if(N.key===bt)if(N.tag===4&&N.stateNode.containerInfo===V.containerInfo&&N.stateNode.implementation===V.implementation){s(X,N.sibling),et=c(N,V.children||[]),et.return=X,X=et;break t}else{s(X,N);break}else i(X,N);N=N.sibling}et=zo(V,X.mode,et),et.return=X,X=et}return p(X);case nt:return V=Vn(V),Ft(X,N,V,et)}if(st(V))return mt(X,N,V,et);if(lt(V)){if(bt=lt(V),typeof bt!="function")throw Error(a(150));return V=bt.call(V),vt(X,N,V,et)}if(typeof V.then=="function")return Ft(X,N,Ll(V),et);if(V.$$typeof===L)return Ft(X,N,Dl(X,V),et);Yl(X,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,N!==null&&N.tag===6?(s(X,N.sibling),et=c(N,V),et.return=X,X=et):(s(X,N),et=Eo(V,X.mode,et),et.return=X,X=et),p(X)):s(X,N)}return function(X,N,V,et){try{_a=0;var bt=Ft(X,N,V,et);return Ms=null,bt}catch(pt){if(pt===ws||pt===Nl)throw pt;var Lt=Ke(29,pt,null,X.mode);return Lt.lanes=et,Lt.return=X,Lt}finally{}}}var Fn=kf(!0),Xf=kf(!1),fn=!1;function ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xo(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function dn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function mn(e,i,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(kt&2)!==0){var c=r.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),r.pending=i,i=zl(e),Mf(e,null,s),i}return El(e,r,i,s),zl(e)}function Sa(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var r=i.lanes;r&=e.pendingLanes,s|=r,i.lanes=s,Bh(e,s)}}function qo(e,i){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?c=f=i:f=f.next=i}else c=f=i;s={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var Vo=!1;function Aa(){if(Vo){var e=As;if(e!==null)throw e}}function wa(e,i,s,r){Vo=!1;var c=e.updateQueue;fn=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var O=_,P=O.next;O.next=null,p===null?f=P:p.next=P,p=O;var $=e.alternate;$!==null&&($=$.updateQueue,_=$.lastBaseUpdate,_!==p&&(_===null?$.firstBaseUpdate=P:_.next=P,$.lastBaseUpdate=O))}if(f!==null){var it=c.baseState;p=0,$=P=O=null,_=f;do{var F=_.lane&-536870913,I=F!==_.lane;if(I?(Bt&F)===F:(r&F)===F){F!==0&&F===Ss&&(Vo=!0),$!==null&&($=$.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var mt=e,vt=_;F=i;var Ft=s;switch(vt.tag){case 1:if(mt=vt.payload,typeof mt=="function"){it=mt.call(Ft,it,F);break t}it=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=vt.payload,F=typeof mt=="function"?mt.call(Ft,it,F):mt,F==null)break t;it=x({},it,F);break t;case 2:fn=!0}}F=_.callback,F!==null&&(e.flags|=64,I&&(e.flags|=8192),I=c.callbacks,I===null?c.callbacks=[F]:I.push(F))}else I={lane:F,tag:_.tag,payload:_.payload,callback:_.callback,next:null},$===null?(P=$=I,O=it):$=$.next=I,p|=F;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;I=_,_=I.next,I.next=null,c.lastBaseUpdate=I,c.shared.pending=null}}while(!0);$===null&&(O=it),c.baseState=O,c.firstBaseUpdate=P,c.lastBaseUpdate=$,f===null&&(c.shared.lanes=0),bn|=p,e.lanes=p,e.memoizedState=it}}function qf(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function Vf(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)qf(s[e],i)}var Cs=S(null),Hl=S(0);function Pf(e,i){e=Zi,H(Hl,e),H(Cs,i),Zi=e|i.baseLanes}function Po(){H(Hl,Zi),H(Cs,Cs.current)}function Fo(){Zi=Hl.current,E(Cs),E(Hl)}var Je=S(null),hi=null;function yn(e){var i=e.alternate;H(ue,ue.current&1),H(Je,e),hi===null&&(i===null||Cs.current!==null||i.memoizedState!==null)&&(hi=e)}function Zo(e){H(ue,ue.current),H(Je,e),hi===null&&(hi=e)}function Ff(e){e.tag===22?(H(ue,ue.current),H(Je,e),hi===null&&(hi=e)):gn()}function gn(){H(ue,ue.current),H(Je,Je.current)}function $e(e){E(Je),hi===e&&(hi=null),E(ue)}var ue=S(0);function jl(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||$u(s)||tc(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Hi=0,Ct=null,Vt=null,fe=null,kl=!1,Ts=!1,Zn=!1,Xl=0,Ma=0,Es=null,Qp=0;function ae(){throw Error(a(321))}function Wo(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!Ie(e[s],i[s]))return!1;return!0}function Qo(e,i,s,r,c,f){return Hi=f,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,b.H=e===null||e.memoizedState===null?zd:cu,Zn=!1,f=s(r,c),Zn=!1,Ts&&(f=Wf(i,s,r,c)),Zf(e),f}function Zf(e){b.H=Ea;var i=Vt!==null&&Vt.next!==null;if(Hi=0,fe=Vt=Ct=null,kl=!1,Ma=0,Es=null,i)throw Error(a(300));e===null||de||(e=e.dependencies,e!==null&&Bl(e)&&(de=!0))}function Wf(e,i,s,r){Ct=e;var c=0;do{if(Ts&&(Es=null),Ma=0,Ts=!1,25<=c)throw Error(a(301));if(c+=1,fe=Vt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}b.H=Rd,f=i(s,r)}while(Ts);return f}function Ip(){var e=b.H,i=e.useState()[0];return i=typeof i.then=="function"?Ca(i):i,e=e.useState()[0],(Vt!==null?Vt.memoizedState:null)!==e&&(Ct.flags|=1024),i}function Io(){var e=Xl!==0;return Xl=0,e}function Ko(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function Jo(e){if(kl){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}kl=!1}Hi=0,fe=Vt=Ct=null,Ts=!1,Ma=Xl=0,Es=null}function Ge(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?Ct.memoizedState=fe=e:fe=fe.next=e,fe}function ce(){if(Vt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Vt.next;var i=fe===null?Ct.memoizedState:fe.next;if(i!==null)fe=i,Vt=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));Vt=e,e={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},fe===null?Ct.memoizedState=fe=e:fe=fe.next=e}return fe}function ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ca(e){var i=Ma;return Ma+=1,Es===null&&(Es=[]),e=Yf(Es,e,i),i=Ct,(fe===null?i.memoizedState:fe.next)===null&&(i=i.alternate,b.H=i===null||i.memoizedState===null?zd:cu),e}function Vl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ca(e);if(e.$$typeof===L)return Ee(e)}throw Error(a(438,String(e)))}function $o(e){var i=null,s=Ct.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var r=Ct.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(c){return c.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=ql(),Ct.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),r=0;r<e;r++)s[r]=k;return i.index++,s}function ji(e,i){return typeof i=="function"?i(e):i}function Pl(e){var i=ce();return tu(i,Vt,e)}function tu(e,i,s){var r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=s;var c=e.baseQueue,f=r.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}i.baseQueue=c=f,r.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{i=c.next;var _=p=null,O=null,P=i,$=!1;do{var it=P.lane&-536870913;if(it!==P.lane?(Bt&it)===it:(Hi&it)===it){var F=P.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),it===Ss&&($=!0);else if((Hi&F)===F){P=P.next,F===Ss&&($=!0);continue}else it={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},O===null?(_=O=it,p=f):O=O.next=it,Ct.lanes|=F,bn|=F;it=P.action,Zn&&s(f,it),f=P.hasEagerState?P.eagerState:s(f,it)}else F={lane:it,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},O===null?(_=O=F,p=f):O=O.next=F,Ct.lanes|=it,bn|=it;P=P.next}while(P!==null&&P!==i);if(O===null?p=f:O.next=_,!Ie(f,e.memoizedState)&&(de=!0,$&&(s=As,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=O,r.lastRenderedState=f}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function eu(e){var i=ce(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var r=s.dispatch,c=s.pending,f=i.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);Ie(f,i.memoizedState)||(de=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,r]}function Qf(e,i,s){var r=Ct,c=ce(),f=Nt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=i();var p=!Ie((Vt||c).memoizedState,s);if(p&&(c.memoizedState=s,de=!0),c=c.queue,su(Jf.bind(null,r,c,e),[e]),c.getSnapshot!==i||p||fe!==null&&fe.memoizedState.tag&1){if(r.flags|=2048,zs(9,{destroy:void 0},Kf.bind(null,r,c,s,i),null),Wt===null)throw Error(a(349));f||(Hi&127)!==0||If(r,i,s)}return s}function If(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=Ct.updateQueue,i===null?(i=ql(),Ct.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function Kf(e,i,s,r){i.value=s,i.getSnapshot=r,$f(i)&&td(e)}function Jf(e,i,s){return s(function(){$f(i)&&td(e)})}function $f(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!Ie(e,s)}catch{return!0}}function td(e){var i=Yn(e,2);i!==null&&Pe(i,e,2)}function iu(e){var i=Ge();if(typeof e=="function"){var s=e;if(e=s(),Zn){an(!0);try{s()}finally{an(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},i}function ed(e,i,s,r){return e.baseState=s,tu(e,Vt,typeof r=="function"?r:ji)}function Kp(e,i,s,r,c){if(Wl(e))throw Error(a(485));if(e=i.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};b.T!==null?s(!0):f.isTransition=!1,r(f),s=i.pending,s===null?(f.next=i.pending=f,id(i,f)):(f.next=s.next,i.pending=s.next=f)}}function id(e,i){var s=i.action,r=i.payload,c=e.state;if(i.isTransition){var f=b.T,p={};b.T=p;try{var _=s(c,r),O=b.S;O!==null&&O(p,_),nd(e,i,_)}catch(P){nu(e,i,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),b.T=f}}else try{f=s(c,r),nd(e,i,f)}catch(P){nu(e,i,P)}}function nd(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){sd(e,i,r)},function(r){return nu(e,i,r)}):sd(e,i,s)}function sd(e,i,s){i.status="fulfilled",i.value=s,ad(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,id(e,s)))}function nu(e,i,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=s,ad(i),i=i.next;while(i!==r)}e.action=null}function ad(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function ld(e,i){return i}function rd(e,i){if(Nt){var s=Wt.formState;if(s!==null){t:{var r=Ct;if(Nt){if($t){e:{for(var c=$t,f=ci;c.nodeType!==8;){if(!f){c=null;break e}if(c=fi(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){$t=fi(c.nextSibling),r=c.data==="F!";break t}}cn(r)}r=!1}r&&(i=s[0])}}return s=Ge(),s.memoizedState=s.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ld,lastRenderedState:i},s.queue=r,s=Cd.bind(null,Ct,r),r.dispatch=s,r=iu(!1),f=uu.bind(null,Ct,!1,r.queue),r=Ge(),c={state:i,dispatch:null,action:e,pending:null},r.queue=c,s=Kp.bind(null,Ct,c,f,s),c.dispatch=s,r.memoizedState=e,[i,s,!1]}function od(e){var i=ce();return ud(i,Vt,e)}function ud(e,i,s){if(i=tu(e,i,ld)[0],e=Pl(ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=Ca(i)}catch(p){throw p===ws?Nl:p}else r=i;i=ce();var c=i.queue,f=c.dispatch;return s!==i.memoizedState&&(Ct.flags|=2048,zs(9,{destroy:void 0},Jp.bind(null,c,s),null)),[r,f,e]}function Jp(e,i){e.action=i}function cd(e){var i=ce(),s=Vt;if(s!==null)return ud(i,s,e);ce(),i=i.memoizedState,s=ce();var r=s.queue.dispatch;return s.memoizedState=e,[i,r,!1]}function zs(e,i,s,r){return e={tag:e,create:s,deps:r,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=ql(),Ct.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,i.lastEffect=e),e}function hd(){return ce().memoizedState}function Fl(e,i,s,r){var c=Ge();Ct.flags|=e,c.memoizedState=zs(1|i,{destroy:void 0},s,r===void 0?null:r)}function Zl(e,i,s,r){var c=ce();r=r===void 0?null:r;var f=c.memoizedState.inst;Vt!==null&&r!==null&&Wo(r,Vt.memoizedState.deps)?c.memoizedState=zs(i,f,s,r):(Ct.flags|=e,c.memoizedState=zs(1|i,f,s,r))}function fd(e,i){Fl(8390656,8,e,i)}function su(e,i){Zl(2048,8,e,i)}function $p(e){Ct.flags|=4;var i=Ct.updateQueue;if(i===null)i=ql(),Ct.updateQueue=i,i.events=[e];else{var s=i.events;s===null?i.events=[e]:s.push(e)}}function dd(e){var i=ce().memoizedState;return $p({ref:i,nextImpl:e}),function(){if((kt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function md(e,i){return Zl(4,2,e,i)}function yd(e,i){return Zl(4,4,e,i)}function gd(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function pd(e,i,s){s=s!=null?s.concat([e]):null,Zl(4,4,gd.bind(null,i,e),s)}function au(){}function xd(e,i){var s=ce();i=i===void 0?null:i;var r=s.memoizedState;return i!==null&&Wo(i,r[1])?r[0]:(s.memoizedState=[e,i],e)}function bd(e,i){var s=ce();i=i===void 0?null:i;var r=s.memoizedState;if(i!==null&&Wo(i,r[1]))return r[0];if(r=e(),Zn){an(!0);try{e()}finally{an(!1)}}return s.memoizedState=[r,i],r}function lu(e,i,s){return s===void 0||(Hi&1073741824)!==0&&(Bt&261930)===0?e.memoizedState=i:(e.memoizedState=s,e=_0(),Ct.lanes|=e,bn|=e,s)}function _d(e,i,s,r){return Ie(s,i)?s:Cs.current!==null?(e=lu(e,s,r),Ie(e,i)||(de=!0),e):(Hi&42)===0||(Hi&1073741824)!==0&&(Bt&261930)===0?(de=!0,e.memoizedState=s):(e=_0(),Ct.lanes|=e,bn|=e,i)}function vd(e,i,s,r,c){var f=M.p;M.p=f!==0&&8>f?f:8;var p=b.T,_={};b.T=_,uu(e,!1,i,s);try{var O=c(),P=b.S;if(P!==null&&P(_,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=Wp(O,r);Ta(e,i,$,ii(e))}else Ta(e,i,r,ii(e))}catch(it){Ta(e,i,{then:function(){},status:"rejected",reason:it},ii())}finally{M.p=f,p!==null&&_.types!==null&&(p.types=_.types),b.T=p}}function t1(){}function ru(e,i,s,r){if(e.tag!==5)throw Error(a(476));var c=Sd(e).queue;vd(e,c,i,C,s===null?t1:function(){return Ad(e),s(r)})}function Sd(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:C,baseState:C,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:C},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Ad(e){var i=Sd(e);i.next===null&&(i=e.alternate.memoizedState),Ta(e,i.next.queue,{},ii())}function ou(){return Ee(Va)}function wd(){return ce().memoizedState}function Md(){return ce().memoizedState}function e1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=ii();e=dn(s);var r=mn(i,e,s);r!==null&&(Pe(r,i,s),Sa(r,i,s)),i={cache:Lo()},e.payload=i;return}i=i.return}}function i1(e,i,s){var r=ii();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Wl(e)?Td(i,s):(s=Co(e,i,s,r),s!==null&&(Pe(s,e,r),Ed(s,i,r)))}function Cd(e,i,s){var r=ii();Ta(e,i,s,r)}function Ta(e,i,s,r){var c={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Wl(e))Td(i,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var p=i.lastRenderedState,_=f(p,s);if(c.hasEagerState=!0,c.eagerState=_,Ie(_,p))return El(e,i,c,0),Wt===null&&Tl(),!1}catch{}finally{}if(s=Co(e,i,c,r),s!==null)return Pe(s,e,r),Ed(s,i,r),!0}return!1}function uu(e,i,s,r){if(r={lane:2,revertLane:ku(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Wl(e)){if(i)throw Error(a(479))}else i=Co(e,s,r,2),i!==null&&Pe(i,e,2)}function Wl(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function Td(e,i){Ts=kl=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Ed(e,i,s){if((s&4194048)!==0){var r=i.lanes;r&=e.pendingLanes,s|=r,i.lanes=s,Bh(e,s)}}var Ea={readContext:Ee,use:Vl,useCallback:ae,useContext:ae,useEffect:ae,useImperativeHandle:ae,useLayoutEffect:ae,useInsertionEffect:ae,useMemo:ae,useReducer:ae,useRef:ae,useState:ae,useDebugValue:ae,useDeferredValue:ae,useTransition:ae,useSyncExternalStore:ae,useId:ae,useHostTransitionStatus:ae,useFormState:ae,useActionState:ae,useOptimistic:ae,useMemoCache:ae,useCacheRefresh:ae};Ea.useEffectEvent=ae;var zd={readContext:Ee,use:Vl,useCallback:function(e,i){return Ge().memoizedState=[e,i===void 0?null:i],e},useContext:Ee,useEffect:fd,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,Fl(4194308,4,gd.bind(null,i,e),s)},useLayoutEffect:function(e,i){return Fl(4194308,4,e,i)},useInsertionEffect:function(e,i){Fl(4,2,e,i)},useMemo:function(e,i){var s=Ge();i=i===void 0?null:i;var r=e();if(Zn){an(!0);try{e()}finally{an(!1)}}return s.memoizedState=[r,i],r},useReducer:function(e,i,s){var r=Ge();if(s!==void 0){var c=s(i);if(Zn){an(!0);try{s(i)}finally{an(!1)}}}else c=i;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=i1.bind(null,Ct,e),[r.memoizedState,e]},useRef:function(e){var i=Ge();return e={current:e},i.memoizedState=e},useState:function(e){e=iu(e);var i=e.queue,s=Cd.bind(null,Ct,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:au,useDeferredValue:function(e,i){var s=Ge();return lu(s,e,i)},useTransition:function(){var e=iu(!1);return e=vd.bind(null,Ct,e.queue,!0,!1),Ge().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var r=Ct,c=Ge();if(Nt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Wt===null)throw Error(a(349));(Bt&127)!==0||If(r,i,s)}c.memoizedState=s;var f={value:s,getSnapshot:i};return c.queue=f,fd(Jf.bind(null,r,f,e),[e]),r.flags|=2048,zs(9,{destroy:void 0},Kf.bind(null,r,f,s,i),null),s},useId:function(){var e=Ge(),i=Wt.identifierPrefix;if(Nt){var s=Mi,r=wi;s=(r&~(1<<32-Qe(r)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Xl++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=Qp++,i="_"+i+"r_"+s.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:ou,useFormState:rd,useActionState:rd,useOptimistic:function(e){var i=Ge();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=uu.bind(null,Ct,!0,s),s.dispatch=i,[e,i]},useMemoCache:$o,useCacheRefresh:function(){return Ge().memoizedState=e1.bind(null,Ct)},useEffectEvent:function(e){var i=Ge(),s={impl:e};return i.memoizedState=s,function(){if((kt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},cu={readContext:Ee,use:Vl,useCallback:xd,useContext:Ee,useEffect:su,useImperativeHandle:pd,useInsertionEffect:md,useLayoutEffect:yd,useMemo:bd,useReducer:Pl,useRef:hd,useState:function(){return Pl(ji)},useDebugValue:au,useDeferredValue:function(e,i){var s=ce();return _d(s,Vt.memoizedState,e,i)},useTransition:function(){var e=Pl(ji)[0],i=ce().memoizedState;return[typeof e=="boolean"?e:Ca(e),i]},useSyncExternalStore:Qf,useId:wd,useHostTransitionStatus:ou,useFormState:od,useActionState:od,useOptimistic:function(e,i){var s=ce();return ed(s,Vt,e,i)},useMemoCache:$o,useCacheRefresh:Md};cu.useEffectEvent=dd;var Rd={readContext:Ee,use:Vl,useCallback:xd,useContext:Ee,useEffect:su,useImperativeHandle:pd,useInsertionEffect:md,useLayoutEffect:yd,useMemo:bd,useReducer:eu,useRef:hd,useState:function(){return eu(ji)},useDebugValue:au,useDeferredValue:function(e,i){var s=ce();return Vt===null?lu(s,e,i):_d(s,Vt.memoizedState,e,i)},useTransition:function(){var e=eu(ji)[0],i=ce().memoizedState;return[typeof e=="boolean"?e:Ca(e),i]},useSyncExternalStore:Qf,useId:wd,useHostTransitionStatus:ou,useFormState:cd,useActionState:cd,useOptimistic:function(e,i){var s=ce();return Vt!==null?ed(s,Vt,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:$o,useCacheRefresh:Md};Rd.useEffectEvent=dd;function hu(e,i,s,r){i=e.memoizedState,s=s(r,i),s=s==null?i:x({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var fu={enqueueSetState:function(e,i,s){e=e._reactInternals;var r=ii(),c=dn(r);c.payload=i,s!=null&&(c.callback=s),i=mn(e,c,r),i!==null&&(Pe(i,e,r),Sa(i,e,r))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var r=ii(),c=dn(r);c.tag=1,c.payload=i,s!=null&&(c.callback=s),i=mn(e,c,r),i!==null&&(Pe(i,e,r),Sa(i,e,r))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=ii(),r=dn(s);r.tag=2,i!=null&&(r.callback=i),i=mn(e,r,s),i!==null&&(Pe(i,e,s),Sa(i,e,s))}};function Od(e,i,s,r,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,p):i.prototype&&i.prototype.isPureReactComponent?!ma(s,r)||!ma(c,f):!0}function Bd(e,i,s,r){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,r),i.state!==e&&fu.enqueueReplaceState(i,i.state,null)}function Wn(e,i){var s=i;if("ref"in i){s={};for(var r in i)r!=="ref"&&(s[r]=i[r])}if(e=e.defaultProps){s===i&&(s=x({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Dd(e){Cl(e)}function Ud(e){console.error(e)}function Nd(e){Cl(e)}function Ql(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function Gd(e,i,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function du(e,i,s){return s=dn(s),s.tag=3,s.payload={element:null},s.callback=function(){Ql(e,i)},s}function Ld(e){return e=dn(e),e.tag=3,e}function Yd(e,i,s,r){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;e.payload=function(){return c(f)},e.callback=function(){Gd(i,s,r)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Gd(i,s,r),typeof c!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function n1(e,i,s,r,c){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=s.alternate,i!==null&&vs(i,s,c,!0),s=Je.current,s!==null){switch(s.tag){case 31:case 13:return hi===null?rr():s.alternate===null&&le===0&&(le=3),s.flags&=-257,s.flags|=65536,s.lanes=c,r===Gl?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([r]):i.add(r),Yu(e,r,c)),!1;case 22:return s.flags|=65536,r===Gl?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([r]):s.add(r)),Yu(e,r,c)),!1}throw Error(a(435,s.tag))}return Yu(e,r,c),rr(),!1}if(Nt)return i=Je.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=c,r!==Bo&&(e=Error(a(422),{cause:r}),pa(ri(e,s)))):(r!==Bo&&(i=Error(a(423),{cause:r}),pa(ri(i,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=ri(r,s),c=du(e.stateNode,r,c),qo(e,c),le!==4&&(le=2)),!1;var f=Error(a(520),{cause:r});if(f=ri(f,s),Ga===null?Ga=[f]:Ga.push(f),le!==4&&(le=2),i===null)return!0;r=ri(r,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=du(s.stateNode,r,e),qo(s,e),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_n===null||!_n.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Ld(c),Yd(c,e,s,r),qo(s,c),!1}s=s.return}while(s!==null);return!1}var mu=Error(a(461)),de=!1;function ze(e,i,s,r){i.child=e===null?Xf(i,null,s,r):Fn(i,e.child,s,r)}function Hd(e,i,s,r,c){s=s.render;var f=i.ref;if("ref"in r){var p={};for(var _ in r)_!=="ref"&&(p[_]=r[_])}else p=r;return Xn(i),r=Qo(e,i,s,p,f,c),_=Io(),e!==null&&!de?(Ko(e,i,c),ki(e,i,c)):(Nt&&_&&Ro(i),i.flags|=1,ze(e,i,r,c),i.child)}function jd(e,i,s,r,c){if(e===null){var f=s.type;return typeof f=="function"&&!To(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,kd(e,i,f,r,c)):(e=Rl(s.type,null,r,i,i.mode,c),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Su(e,c)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:ma,s(p,r)&&e.ref===i.ref)return ki(e,i,c)}return i.flags|=1,e=Ni(f,r),e.ref=i.ref,e.return=i,i.child=e}function kd(e,i,s,r,c){if(e!==null){var f=e.memoizedProps;if(ma(f,r)&&e.ref===i.ref)if(de=!1,i.pendingProps=r=f,Su(e,c))(e.flags&131072)!==0&&(de=!0);else return i.lanes=e.lanes,ki(e,i,c)}return yu(e,i,s,r,c)}function Xd(e,i,s,r){var c=r.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(r=i.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~f}else r=0,i.child=null;return qd(e,i,f,s,r)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ul(i,f!==null?f.cachePool:null),f!==null?Pf(i,f):Po(),Ff(i);else return r=i.lanes=536870912,qd(e,i,f!==null?f.baseLanes|s:s,s,r)}else f!==null?(Ul(i,f.cachePool),Pf(i,f),gn(),i.memoizedState=null):(e!==null&&Ul(i,null),Po(),gn());return ze(e,i,c,s),i.child}function za(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function qd(e,i,s,r,c){var f=Ho();return f=f===null?null:{parent:he._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ul(i,null),Po(),Ff(i),e!==null&&vs(e,i,r,!0),i.childLanes=c,null}function Il(e,i){return i=Jl({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Vd(e,i,s){return Fn(i,e.child,null,s),e=Il(i,i.pendingProps),e.flags|=2,$e(i),i.memoizedState=null,e}function s1(e,i,s){var r=i.pendingProps,c=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Nt){if(r.mode==="hidden")return e=Il(i,r),i.lanes=536870912,za(null,e);if(Zo(i),(e=$t)?(e=im(e,ci),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:on!==null?{id:wi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},s=Tf(e),s.return=i,i.child=s,Te=i,$t=null)):e=null,e===null)throw cn(i);return i.lanes=536870912,null}return Il(i,r)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(Zo(i),c)if(i.flags&256)i.flags&=-257,i=Vd(e,i,s);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(de||vs(e,i,s,!1),c=(s&e.childLanes)!==0,de||c){if(r=Wt,r!==null&&(p=Dh(r,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Yn(e,p),Pe(r,e,p),mu;rr(),i=Vd(e,i,s)}else e=f.treeContext,$t=fi(p.nextSibling),Te=i,Nt=!0,un=null,ci=!1,e!==null&&Rf(i,e),i=Il(i,r),i.flags|=4096;return i}return e=Ni(e.child,{mode:r.mode,children:r.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Kl(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function yu(e,i,s,r,c){return Xn(i),s=Qo(e,i,s,r,void 0,c),r=Io(),e!==null&&!de?(Ko(e,i,c),ki(e,i,c)):(Nt&&r&&Ro(i),i.flags|=1,ze(e,i,s,c),i.child)}function Pd(e,i,s,r,c,f){return Xn(i),i.updateQueue=null,s=Wf(i,r,s,c),Zf(e),r=Io(),e!==null&&!de?(Ko(e,i,f),ki(e,i,f)):(Nt&&r&&Ro(i),i.flags|=1,ze(e,i,s,f),i.child)}function Fd(e,i,s,r,c){if(Xn(i),i.stateNode===null){var f=ps,p=s.contextType;typeof p=="object"&&p!==null&&(f=Ee(p)),f=new s(r,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=fu,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=r,f.state=i.memoizedState,f.refs={},ko(i),p=s.contextType,f.context=typeof p=="object"&&p!==null?Ee(p):ps,f.state=i.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(hu(i,s,p,r),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&fu.enqueueReplaceState(f,f.state,null),wa(i,r,f,c),Aa(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(e===null){f=i.stateNode;var _=i.memoizedProps,O=Wn(s,_);f.props=O;var P=f.context,$=s.contextType;p=ps,typeof $=="object"&&$!==null&&(p=Ee($));var it=s.getDerivedStateFromProps;$=typeof it=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=i.pendingProps!==_,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||P!==p)&&Bd(i,f,r,p),fn=!1;var F=i.memoizedState;f.state=F,wa(i,r,f,c),Aa(),P=i.memoizedState,_||F!==P||fn?(typeof it=="function"&&(hu(i,s,it,r),P=i.memoizedState),(O=fn||Od(i,s,O,r,F,P,p))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=P),f.props=r,f.state=P,f.context=p,r=O):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{f=i.stateNode,Xo(e,i),p=i.memoizedProps,$=Wn(s,p),f.props=$,it=i.pendingProps,F=f.context,P=s.contextType,O=ps,typeof P=="object"&&P!==null&&(O=Ee(P)),_=s.getDerivedStateFromProps,(P=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==it||F!==O)&&Bd(i,f,r,O),fn=!1,F=i.memoizedState,f.state=F,wa(i,r,f,c),Aa();var I=i.memoizedState;p!==it||F!==I||fn||e!==null&&e.dependencies!==null&&Bl(e.dependencies)?(typeof _=="function"&&(hu(i,s,_,r),I=i.memoizedState),($=fn||Od(i,s,$,r,F,I,O)||e!==null&&e.dependencies!==null&&Bl(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,I,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,I,O)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=I),f.props=r,f.state=I,f.context=O,r=$):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),r=!1)}return f=r,Kl(e,i),r=(i.flags&128)!==0,f||r?(f=i.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&r?(i.child=Fn(i,e.child,null,c),i.child=Fn(i,null,s,c)):ze(e,i,s,c),i.memoizedState=f.state,e=i.child):e=ki(e,i,c),e}function Zd(e,i,s,r){return jn(),i.flags|=256,ze(e,i,s,r),i.child}var gu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pu(e){return{baseLanes:e,cachePool:Gf()}}function xu(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=ei),e}function Wd(e,i,s){var r=i.pendingProps,c=!1,f=(i.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(ue.current&2)!==0),p&&(c=!0,i.flags&=-129),p=(i.flags&32)!==0,i.flags&=-33,e===null){if(Nt){if(c?yn(i):gn(),(e=$t)?(e=im(e,ci),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:on!==null?{id:wi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},s=Tf(e),s.return=i,i.child=s,Te=i,$t=null)):e=null,e===null)throw cn(i);return tc(e)?i.lanes=32:i.lanes=536870912,null}var _=r.children;return r=r.fallback,c?(gn(),c=i.mode,_=Jl({mode:"hidden",children:_},c),r=Hn(r,c,s,null),_.return=i,r.return=i,_.sibling=r,i.child=_,r=i.child,r.memoizedState=pu(s),r.childLanes=xu(e,p,s),i.memoizedState=gu,za(null,r)):(yn(i),bu(i,_))}var O=e.memoizedState;if(O!==null&&(_=O.dehydrated,_!==null)){if(f)i.flags&256?(yn(i),i.flags&=-257,i=_u(e,i,s)):i.memoizedState!==null?(gn(),i.child=e.child,i.flags|=128,i=null):(gn(),_=r.fallback,c=i.mode,r=Jl({mode:"visible",children:r.children},c),_=Hn(_,c,s,null),_.flags|=2,r.return=i,_.return=i,r.sibling=_,i.child=r,Fn(i,e.child,null,s),r=i.child,r.memoizedState=pu(s),r.childLanes=xu(e,p,s),i.memoizedState=gu,i=za(null,r));else if(yn(i),tc(_)){if(p=_.nextSibling&&_.nextSibling.dataset,p)var P=p.dgst;p=P,r=Error(a(419)),r.stack="",r.digest=p,pa({value:r,source:null,stack:null}),i=_u(e,i,s)}else if(de||vs(e,i,s,!1),p=(s&e.childLanes)!==0,de||p){if(p=Wt,p!==null&&(r=Dh(p,s),r!==0&&r!==O.retryLane))throw O.retryLane=r,Yn(e,r),Pe(p,e,r),mu;$u(_)||rr(),i=_u(e,i,s)}else $u(_)?(i.flags|=192,i.child=e.child,i=null):(e=O.treeContext,$t=fi(_.nextSibling),Te=i,Nt=!0,un=null,ci=!1,e!==null&&Rf(i,e),i=bu(i,r.children),i.flags|=4096);return i}return c?(gn(),_=r.fallback,c=i.mode,O=e.child,P=O.sibling,r=Ni(O,{mode:"hidden",children:r.children}),r.subtreeFlags=O.subtreeFlags&65011712,P!==null?_=Ni(P,_):(_=Hn(_,c,s,null),_.flags|=2),_.return=i,r.return=i,r.sibling=_,i.child=r,za(null,r),r=i.child,_=e.child.memoizedState,_===null?_=pu(s):(c=_.cachePool,c!==null?(O=he._currentValue,c=c.parent!==O?{parent:O,pool:O}:c):c=Gf(),_={baseLanes:_.baseLanes|s,cachePool:c}),r.memoizedState=_,r.childLanes=xu(e,p,s),i.memoizedState=gu,za(e.child,r)):(yn(i),s=e.child,e=s.sibling,s=Ni(s,{mode:"visible",children:r.children}),s.return=i,s.sibling=null,e!==null&&(p=i.deletions,p===null?(i.deletions=[e],i.flags|=16):p.push(e)),i.child=s,i.memoizedState=null,s)}function bu(e,i){return i=Jl({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Jl(e,i){return e=Ke(22,e,null,i),e.lanes=0,e}function _u(e,i,s){return Fn(i,e.child,null,s),e=bu(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Qd(e,i,s){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i),No(e.return,i,s)}function vu(e,i,s,r,c,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:c,treeForkCount:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=r,p.tail=s,p.tailMode=c,p.treeForkCount=f)}function Id(e,i,s){var r=i.pendingProps,c=r.revealOrder,f=r.tail;r=r.children;var p=ue.current,_=(p&2)!==0;if(_?(p=p&1|2,i.flags|=128):p&=1,H(ue,p),ze(e,i,r,s),r=Nt?ga:0,!_&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qd(e,s,i);else if(e.tag===19)Qd(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=i.child,c=null;s!==null;)e=s.alternate,e!==null&&jl(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=i.child,i.child=null):(c=s.sibling,s.sibling=null),vu(i,!1,c,s,f,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=i.child,i.child=null;c!==null;){if(e=c.alternate,e!==null&&jl(e)===null){i.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}vu(i,!0,s,null,f,r);break;case"together":vu(i,!1,null,null,void 0,r);break;default:i.memoizedState=null}return i.child}function ki(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),bn|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(vs(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,s=Ni(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=Ni(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function Su(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Bl(e)))}function a1(e,i,s){switch(i.tag){case 3:ht(i,i.stateNode.containerInfo),hn(i,he,e.memoizedState.cache),jn();break;case 27:case 5:At(i);break;case 4:ht(i,i.stateNode.containerInfo);break;case 10:hn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Zo(i),null;break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(yn(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Wd(e,i,s):(yn(i),e=ki(e,i,s),e!==null?e.sibling:null);yn(i);break;case 19:var c=(e.flags&128)!==0;if(r=(s&i.childLanes)!==0,r||(vs(e,i,s,!1),r=(s&i.childLanes)!==0),c){if(r)return Id(e,i,s);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),H(ue,ue.current),r)break;return null;case 22:return i.lanes=0,Xd(e,i,s,i.pendingProps);case 24:hn(i,he,e.memoizedState.cache)}return ki(e,i,s)}function Kd(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)de=!0;else{if(!Su(e,s)&&(i.flags&128)===0)return de=!1,a1(e,i,s);de=(e.flags&131072)!==0}else de=!1,Nt&&(i.flags&1048576)!==0&&zf(i,ga,i.index);switch(i.lanes=0,i.tag){case 16:t:{var r=i.pendingProps;if(e=Vn(i.elementType),i.type=e,typeof e=="function")To(e)?(r=Wn(e,r),i.tag=1,i=Fd(null,i,e,r,s)):(i.tag=0,i=yu(null,i,e,r,s));else{if(e!=null){var c=e.$$typeof;if(c===Z){i.tag=11,i=Hd(null,i,e,r,s);break t}else if(c===Q){i.tag=14,i=jd(null,i,e,r,s);break t}}throw i=q(e)||e,Error(a(306,i,""))}}return i;case 0:return yu(e,i,i.type,i.pendingProps,s);case 1:return r=i.type,c=Wn(r,i.pendingProps),Fd(e,i,r,c,s);case 3:t:{if(ht(i,i.stateNode.containerInfo),e===null)throw Error(a(387));r=i.pendingProps;var f=i.memoizedState;c=f.element,Xo(e,i),wa(i,r,null,s);var p=i.memoizedState;if(r=p.cache,hn(i,he,r),r!==f.cache&&Go(i,[he],s,!0),Aa(),r=p.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:p.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Zd(e,i,r,s);break t}else if(r!==c){c=ri(Error(a(424)),i),pa(c),i=Zd(e,i,r,s);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($t=fi(e.firstChild),Te=i,Nt=!0,un=null,ci=!0,s=Xf(i,null,r,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(jn(),r===c){i=ki(e,i,s);break t}ze(e,i,r,s)}i=i.child}return i;case 26:return Kl(e,i),e===null?(s=om(i.type,null,i.pendingProps,null))?i.memoizedState=s:Nt||(s=i.type,e=i.pendingProps,r=mr(rt.current).createElement(s),r[Ce]=i,r[He]=e,Re(r,s,e),ve(r),i.stateNode=r):i.memoizedState=om(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return At(i),e===null&&Nt&&(r=i.stateNode=am(i.type,i.pendingProps,rt.current),Te=i,ci=!0,c=$t,wn(i.type)?(ec=c,$t=fi(r.firstChild)):$t=c),ze(e,i,i.pendingProps.children,s),Kl(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Nt&&((c=r=$t)&&(r=N1(r,i.type,i.pendingProps,ci),r!==null?(i.stateNode=r,Te=i,$t=fi(r.firstChild),ci=!1,c=!0):c=!1),c||cn(i)),At(i),c=i.type,f=i.pendingProps,p=e!==null?e.memoizedProps:null,r=f.children,Iu(c,f)?r=null:p!==null&&Iu(c,p)&&(i.flags|=32),i.memoizedState!==null&&(c=Qo(e,i,Ip,null,null,s),Va._currentValue=c),Kl(e,i),ze(e,i,r,s),i.child;case 6:return e===null&&Nt&&((e=s=$t)&&(s=G1(s,i.pendingProps,ci),s!==null?(i.stateNode=s,Te=i,$t=null,e=!0):e=!1),e||cn(i)),null;case 13:return Wd(e,i,s);case 4:return ht(i,i.stateNode.containerInfo),r=i.pendingProps,e===null?i.child=Fn(i,null,r,s):ze(e,i,r,s),i.child;case 11:return Hd(e,i,i.type,i.pendingProps,s);case 7:return ze(e,i,i.pendingProps,s),i.child;case 8:return ze(e,i,i.pendingProps.children,s),i.child;case 12:return ze(e,i,i.pendingProps.children,s),i.child;case 10:return r=i.pendingProps,hn(i,i.type,r.value),ze(e,i,r.children,s),i.child;case 9:return c=i.type._context,r=i.pendingProps.children,Xn(i),c=Ee(c),r=r(c),i.flags|=1,ze(e,i,r,s),i.child;case 14:return jd(e,i,i.type,i.pendingProps,s);case 15:return kd(e,i,i.type,i.pendingProps,s);case 19:return Id(e,i,s);case 31:return s1(e,i,s);case 22:return Xd(e,i,s,i.pendingProps);case 24:return Xn(i),r=Ee(he),e===null?(c=Ho(),c===null&&(c=Wt,f=Lo(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),i.memoizedState={parent:r,cache:c},ko(i),hn(i,he,c)):((e.lanes&s)!==0&&(Xo(e,i),wa(i,null,null,s),Aa()),c=e.memoizedState,f=i.memoizedState,c.parent!==r?(c={parent:r,cache:r},i.memoizedState=c,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=c),hn(i,he,r)):(r=f.cache,hn(i,he,r),r!==c.cache&&Go(i,[he],s,!0))),ze(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Xi(e){e.flags|=4}function Au(e,i,s,r,c){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(w0())e.flags|=8192;else throw Pn=Gl,jo}else e.flags&=-16777217}function Jd(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dm(i))if(w0())e.flags|=8192;else throw Pn=Gl,jo}function $l(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Rh():536870912,e.lanes|=i,Ds|=i)}function Ra(e,i){if(!Nt)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function te(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(i)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=s,i}function l1(e,i,s){var r=i.pendingProps;switch(Oo(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(i),null;case 1:return te(i),null;case 3:return s=i.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Yi(he),ft(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(_s(i)?Xi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Do())),te(i),null;case 26:var c=i.type,f=i.memoizedState;return e===null?(Xi(i),f!==null?(te(i),Jd(i,f)):(te(i),Au(i,c,null,r,s))):f?f!==e.memoizedState?(Xi(i),te(i),Jd(i,f)):(te(i),i.flags&=-16777217):(e=e.memoizedProps,e!==r&&Xi(i),te(i),Au(i,c,e,r,s)),null;case 27:if(re(i),s=rt.current,c=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==r&&Xi(i);else{if(!r){if(i.stateNode===null)throw Error(a(166));return te(i),null}e=W.current,_s(i)?Of(i):(e=am(c,r,s),i.stateNode=e,Xi(i))}return te(i),null;case 5:if(re(i),c=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==r&&Xi(i);else{if(!r){if(i.stateNode===null)throw Error(a(166));return te(i),null}if(f=W.current,_s(i))Of(i);else{var p=mr(rt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?p.createElement("select",{is:r.is}):p.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?p.createElement(c,{is:r.is}):p.createElement(c)}}f[Ce]=i,f[He]=r;t:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break t;for(;p.sibling===null;){if(p.return===null||p.return===i)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=f;t:switch(Re(f,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Xi(i)}}return te(i),Au(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,s),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==r&&Xi(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(a(166));if(e=rt.current,_s(i)){if(e=i.stateNode,s=i.memoizedProps,r=null,c=Te,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[Ce]=i,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||W0(e.nodeValue,s)),e||cn(i,!0)}else e=mr(e).createTextNode(r),e[Ce]=i,i.stateNode=e}return te(i),null;case 31:if(s=i.memoizedState,e===null||e.memoizedState!==null){if(r=_s(i),s!==null){if(e===null){if(!r)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ce]=i}else jn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;te(i),e=!1}else s=Do(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return i.flags&256?($e(i),i):($e(i),null);if((i.flags&128)!==0)throw Error(a(558))}return te(i),null;case 13:if(r=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=_s(i),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Ce]=i}else jn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;te(i),c=!1}else c=Do(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return i.flags&256?($e(i),i):($e(i),null)}return $e(i),(i.flags&128)!==0?(i.lanes=s,i):(s=r!==null,e=e!==null&&e.memoizedState!==null,s&&(r=i.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048)),s!==e&&s&&(i.child.flags|=8192),$l(i,i.updateQueue),te(i),null);case 4:return ft(),e===null&&Pu(i.stateNode.containerInfo),te(i),null;case 10:return Yi(i.type),te(i),null;case 19:if(E(ue),r=i.memoizedState,r===null)return te(i),null;if(c=(i.flags&128)!==0,f=r.rendering,f===null)if(c)Ra(r,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=jl(e),f!==null){for(i.flags|=128,Ra(r,!1),e=f.updateQueue,i.updateQueue=e,$l(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)Cf(s,e),s=s.sibling;return H(ue,ue.current&1|2),Nt&&Gi(i,r.treeForkCount),i.child}e=e.sibling}r.tail!==null&&xe()>sr&&(i.flags|=128,c=!0,Ra(r,!1),i.lanes=4194304)}else{if(!c)if(e=jl(f),e!==null){if(i.flags|=128,c=!0,e=e.updateQueue,i.updateQueue=e,$l(i,e),Ra(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!Nt)return te(i),null}else 2*xe()-r.renderingStartTime>sr&&s!==536870912&&(i.flags|=128,c=!0,Ra(r,!1),i.lanes=4194304);r.isBackwards?(f.sibling=i.child,i.child=f):(e=r.last,e!==null?e.sibling=f:i.child=f,r.last=f)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=xe(),e.sibling=null,s=ue.current,H(ue,c?s&1|2:s&1),Nt&&Gi(i,r.treeForkCount),e):(te(i),null);case 22:case 23:return $e(i),Fo(),r=i.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(s&536870912)!==0&&(i.flags&128)===0&&(te(i),i.subtreeFlags&6&&(i.flags|=8192)):te(i),s=i.updateQueue,s!==null&&$l(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048),e!==null&&E(qn),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Yi(he),te(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function r1(e,i){switch(Oo(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Yi(he),ft(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return re(i),null;case 31:if(i.memoizedState!==null){if($e(i),i.alternate===null)throw Error(a(340));jn()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if($e(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));jn()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return E(ue),null;case 4:return ft(),null;case 10:return Yi(i.type),null;case 22:case 23:return $e(i),Fo(),e!==null&&E(qn),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Yi(he),null;case 25:return null;default:return null}}function $d(e,i){switch(Oo(i),i.tag){case 3:Yi(he),ft();break;case 26:case 27:case 5:re(i);break;case 4:ft();break;case 31:i.memoizedState!==null&&$e(i);break;case 13:$e(i);break;case 19:E(ue);break;case 10:Yi(i.type);break;case 22:case 23:$e(i),Fo(),e!==null&&E(qn);break;case 24:Yi(he)}}function Oa(e,i){try{var s=i.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var c=r.next;s=c;do{if((s.tag&e)===e){r=void 0;var f=s.create,p=s.inst;r=f(),p.destroy=r}s=s.next}while(s!==c)}}catch(_){qt(i,i.return,_)}}function pn(e,i,s){try{var r=i.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&e)===e){var p=r.inst,_=p.destroy;if(_!==void 0){p.destroy=void 0,c=i;var O=s,P=_;try{P()}catch($){qt(c,O,$)}}}r=r.next}while(r!==f)}}catch($){qt(i,i.return,$)}}function t0(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{Vf(i,s)}catch(r){qt(e,e.return,r)}}}function e0(e,i,s){s.props=Wn(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){qt(e,i,r)}}function Ba(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(c){qt(e,i,c)}}function Ci(e,i){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(c){qt(e,i,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){qt(e,i,c)}else s.current=null}function i0(e){var i=e.type,s=e.memoizedProps,r=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break t;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(c){qt(e,e.return,c)}}function wu(e,i,s){try{var r=e.stateNode;z1(r,e.type,s,i),r[He]=i}catch(c){qt(e,e.return,c)}}function n0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&wn(e.type)||e.tag===4}function Mu(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||n0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&wn(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cu(e,i,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Di));else if(r!==4&&(r===27&&wn(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(Cu(e,i,s),e=e.sibling;e!==null;)Cu(e,i,s),e=e.sibling}function tr(e,i,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(r!==4&&(r===27&&wn(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(tr(e,i,s),e=e.sibling;e!==null;)tr(e,i,s),e=e.sibling}function s0(e){var i=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,c=i.attributes;c.length;)i.removeAttributeNode(c[0]);Re(i,r,s),i[Ce]=e,i[He]=s}catch(f){qt(e,e.return,f)}}var qi=!1,me=!1,Tu=!1,a0=typeof WeakSet=="function"?WeakSet:Set,Se=null;function o1(e,i){if(e=e.containerInfo,Wu=vr,e=pf(e),_o(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var c=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,_=-1,O=-1,P=0,$=0,it=e,F=null;e:for(;;){for(var I;it!==s||c!==0&&it.nodeType!==3||(_=p+c),it!==f||r!==0&&it.nodeType!==3||(O=p+r),it.nodeType===3&&(p+=it.nodeValue.length),(I=it.firstChild)!==null;)F=it,it=I;for(;;){if(it===e)break e;if(F===s&&++P===c&&(_=p),F===f&&++$===r&&(O=p),(I=it.nextSibling)!==null)break;it=F,F=it.parentNode}it=I}s=_===-1||O===-1?null:{start:_,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(Qu={focusedElem:e,selectionRange:s},vr=!1,Se=i;Se!==null;)if(i=Se,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Se=e;else for(;Se!==null;){switch(i=Se,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=i,c=f.memoizedProps,f=f.memoizedState,r=s.stateNode;try{var mt=Wn(s.type,c);e=r.getSnapshotBeforeUpdate(mt,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(vt){qt(s,s.return,vt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)Ju(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ju(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,Se=e;break}Se=i.return}}function l0(e,i,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Pi(e,s),r&4&&Oa(5,s);break;case 1:if(Pi(e,s),r&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(p){qt(s,s.return,p)}else{var c=Wn(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(c,i,e.__reactInternalSnapshotBeforeUpdate)}catch(p){qt(s,s.return,p)}}r&64&&t0(s),r&512&&Ba(s,s.return);break;case 3:if(Pi(e,s),r&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Vf(e,i)}catch(p){qt(s,s.return,p)}}break;case 27:i===null&&r&4&&s0(s);case 26:case 5:Pi(e,s),i===null&&r&4&&i0(s),r&512&&Ba(s,s.return);break;case 12:Pi(e,s);break;case 31:Pi(e,s),r&4&&u0(e,s);break;case 13:Pi(e,s),r&4&&c0(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=p1.bind(null,s),L1(e,s))));break;case 22:if(r=s.memoizedState!==null||qi,!r){i=i!==null&&i.memoizedState!==null||me,c=qi;var f=me;qi=r,(me=i)&&!f?Fi(e,s,(s.subtreeFlags&8772)!==0):Pi(e,s),qi=c,me=f}break;case 30:break;default:Pi(e,s)}}function r0(e){var i=e.alternate;i!==null&&(e.alternate=null,r0(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&io(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,ke=!1;function Vi(e,i,s){for(s=s.child;s!==null;)o0(e,i,s),s=s.sibling}function o0(e,i,s){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(ia,s)}catch{}switch(s.tag){case 26:me||Ci(s,i),Vi(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:me||Ci(s,i);var r=ee,c=ke;wn(s.type)&&(ee=s.stateNode,ke=!1),Vi(e,i,s),ka(s.stateNode),ee=r,ke=c;break;case 5:me||Ci(s,i);case 6:if(r=ee,c=ke,ee=null,Vi(e,i,s),ee=r,ke=c,ee!==null)if(ke)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(s.stateNode)}catch(f){qt(s,i,f)}else try{ee.removeChild(s.stateNode)}catch(f){qt(s,i,f)}break;case 18:ee!==null&&(ke?(e=ee,tm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ks(e)):tm(ee,s.stateNode));break;case 4:r=ee,c=ke,ee=s.stateNode.containerInfo,ke=!0,Vi(e,i,s),ee=r,ke=c;break;case 0:case 11:case 14:case 15:pn(2,s,i),me||pn(4,s,i),Vi(e,i,s);break;case 1:me||(Ci(s,i),r=s.stateNode,typeof r.componentWillUnmount=="function"&&e0(s,i,r)),Vi(e,i,s);break;case 21:Vi(e,i,s);break;case 22:me=(r=me)||s.memoizedState!==null,Vi(e,i,s),me=r;break;default:Vi(e,i,s)}}function u0(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ks(e)}catch(s){qt(i,i.return,s)}}}function c0(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ks(e)}catch(s){qt(i,i.return,s)}}function u1(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new a0),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new a0),i;default:throw Error(a(435,e.tag))}}function er(e,i){var s=u1(e);i.forEach(function(r){if(!s.has(r)){s.add(r);var c=x1.bind(null,e,r);r.then(c,c)}})}function Xe(e,i){var s=i.deletions;if(s!==null)for(var r=0;r<s.length;r++){var c=s[r],f=e,p=i,_=p;t:for(;_!==null;){switch(_.tag){case 27:if(wn(_.type)){ee=_.stateNode,ke=!1;break t}break;case 5:ee=_.stateNode,ke=!1;break t;case 3:case 4:ee=_.stateNode.containerInfo,ke=!0;break t}_=_.return}if(ee===null)throw Error(a(160));o0(f,p,c),ee=null,ke=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)h0(i,e),i=i.sibling}var pi=null;function h0(e,i){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Xe(i,e),qe(e),r&4&&(pn(3,e,e.return),Oa(3,e),pn(5,e,e.return));break;case 1:Xe(i,e),qe(e),r&512&&(me||s===null||Ci(s,s.return)),r&64&&qi&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var c=pi;if(Xe(i,e),qe(e),r&512&&(me||s===null||Ci(s,s.return)),r&4){var f=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){t:{r=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(r){case"title":f=c.getElementsByTagName("title")[0],(!f||f[aa]||f[Ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(r),c.head.insertBefore(f,c.querySelector("head > title"))),Re(f,r,s),f[Ce]=e,ve(f),r=f;break t;case"link":var p=hm("link","href",c).get(r+(s.href||""));if(p){for(var _=0;_<p.length;_++)if(f=p[_],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(_,1);break e}}f=c.createElement(r),Re(f,r,s),c.head.appendChild(f);break;case"meta":if(p=hm("meta","content",c).get(r+(s.content||""))){for(_=0;_<p.length;_++)if(f=p[_],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(_,1);break e}}f=c.createElement(r),Re(f,r,s),c.head.appendChild(f);break;default:throw Error(a(468,r))}f[Ce]=e,ve(f),r=f}e.stateNode=r}else fm(c,e.type,e.stateNode);else e.stateNode=cm(c,r,e.memoizedProps);else f!==r?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,r===null?fm(c,e.type,e.stateNode):cm(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&wu(e,e.memoizedProps,s.memoizedProps)}break;case 27:Xe(i,e),qe(e),r&512&&(me||s===null||Ci(s,s.return)),s!==null&&r&4&&wu(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Xe(i,e),qe(e),r&512&&(me||s===null||Ci(s,s.return)),e.flags&32){c=e.stateNode;try{cs(c,"")}catch(mt){qt(e,e.return,mt)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,wu(e,c,s!==null?s.memoizedProps:c)),r&1024&&(Tu=!0);break;case 6:if(Xe(i,e),qe(e),r&4){if(e.stateNode===null)throw Error(a(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(mt){qt(e,e.return,mt)}}break;case 3:if(pr=null,c=pi,pi=yr(i.containerInfo),Xe(i,e),pi=c,qe(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{ks(i.containerInfo)}catch(mt){qt(e,e.return,mt)}Tu&&(Tu=!1,f0(e));break;case 4:r=pi,pi=yr(e.stateNode.containerInfo),Xe(i,e),qe(e),pi=r;break;case 12:Xe(i,e),qe(e);break;case 31:Xe(i,e),qe(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,er(e,r)));break;case 13:Xe(i,e),qe(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nr=xe()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,er(e,r)));break;case 22:c=e.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,P=qi,$=me;if(qi=P||c,me=$||O,Xe(i,e),me=$,qi=P,qe(e),r&8192)t:for(i=e.stateNode,i._visibility=c?i._visibility&-2:i._visibility|1,c&&(s===null||O||qi||me||Qn(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){O=s=i;try{if(f=O.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{_=O.stateNode;var it=O.memoizedProps.style,F=it!=null&&it.hasOwnProperty("display")?it.display:null;_.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(mt){qt(O,O.return,mt)}}}else if(i.tag===6){if(s===null){O=i;try{O.stateNode.nodeValue=c?"":O.memoizedProps}catch(mt){qt(O,O.return,mt)}}}else if(i.tag===18){if(s===null){O=i;try{var I=O.stateNode;c?em(I,!0):em(O.stateNode,!1)}catch(mt){qt(O,O.return,mt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,er(e,s))));break;case 19:Xe(i,e),qe(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,er(e,r)));break;case 30:break;case 21:break;default:Xe(i,e),qe(e)}}function qe(e){var i=e.flags;if(i&2){try{for(var s,r=e.return;r!==null;){if(n0(r)){s=r;break}r=r.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Mu(e);tr(e,f,c);break;case 5:var p=s.stateNode;s.flags&32&&(cs(p,""),s.flags&=-33);var _=Mu(e);tr(e,_,p);break;case 3:case 4:var O=s.stateNode.containerInfo,P=Mu(e);Cu(e,P,O);break;default:throw Error(a(161))}}catch($){qt(e,e.return,$)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function f0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;f0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Pi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)l0(e,i.alternate,i),i=i.sibling}function Qn(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:pn(4,i,i.return),Qn(i);break;case 1:Ci(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&e0(i,i.return,s),Qn(i);break;case 27:ka(i.stateNode);case 26:case 5:Ci(i,i.return),Qn(i);break;case 22:i.memoizedState===null&&Qn(i);break;case 30:Qn(i);break;default:Qn(i)}e=e.sibling}}function Fi(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,c=e,f=i,p=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(c,f,s),Oa(4,f);break;case 1:if(Fi(c,f,s),r=f,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){qt(r,r.return,P)}if(r=f,c=r.updateQueue,c!==null){var _=r.stateNode;try{var O=c.shared.hiddenCallbacks;if(O!==null)for(c.shared.hiddenCallbacks=null,c=0;c<O.length;c++)qf(O[c],_)}catch(P){qt(r,r.return,P)}}s&&p&64&&t0(f),Ba(f,f.return);break;case 27:s0(f);case 26:case 5:Fi(c,f,s),s&&r===null&&p&4&&i0(f),Ba(f,f.return);break;case 12:Fi(c,f,s);break;case 31:Fi(c,f,s),s&&p&4&&u0(c,f);break;case 13:Fi(c,f,s),s&&p&4&&c0(c,f);break;case 22:f.memoizedState===null&&Fi(c,f,s),Ba(f,f.return);break;case 30:break;default:Fi(c,f,s)}i=i.sibling}}function Eu(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&xa(s))}function zu(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&xa(e))}function xi(e,i,s,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)d0(e,i,s,r),i=i.sibling}function d0(e,i,s,r){var c=i.flags;switch(i.tag){case 0:case 11:case 15:xi(e,i,s,r),c&2048&&Oa(9,i);break;case 1:xi(e,i,s,r);break;case 3:xi(e,i,s,r),c&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&xa(e)));break;case 12:if(c&2048){xi(e,i,s,r),e=i.stateNode;try{var f=i.memoizedProps,p=f.id,_=f.onPostCommit;typeof _=="function"&&_(p,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){qt(i,i.return,O)}}else xi(e,i,s,r);break;case 31:xi(e,i,s,r);break;case 13:xi(e,i,s,r);break;case 23:break;case 22:f=i.stateNode,p=i.alternate,i.memoizedState!==null?f._visibility&2?xi(e,i,s,r):Da(e,i):f._visibility&2?xi(e,i,s,r):(f._visibility|=2,Rs(e,i,s,r,(i.subtreeFlags&10256)!==0||!1)),c&2048&&Eu(p,i);break;case 24:xi(e,i,s,r),c&2048&&zu(i.alternate,i);break;default:xi(e,i,s,r)}}function Rs(e,i,s,r,c){for(c=c&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,p=i,_=s,O=r,P=p.flags;switch(p.tag){case 0:case 11:case 15:Rs(f,p,_,O,c),Oa(8,p);break;case 23:break;case 22:var $=p.stateNode;p.memoizedState!==null?$._visibility&2?Rs(f,p,_,O,c):Da(f,p):($._visibility|=2,Rs(f,p,_,O,c)),c&&P&2048&&Eu(p.alternate,p);break;case 24:Rs(f,p,_,O,c),c&&P&2048&&zu(p.alternate,p);break;default:Rs(f,p,_,O,c)}i=i.sibling}}function Da(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,r=i,c=r.flags;switch(r.tag){case 22:Da(s,r),c&2048&&Eu(r.alternate,r);break;case 24:Da(s,r),c&2048&&zu(r.alternate,r);break;default:Da(s,r)}i=i.sibling}}var Ua=8192;function Os(e,i,s){if(e.subtreeFlags&Ua)for(e=e.child;e!==null;)m0(e,i,s),e=e.sibling}function m0(e,i,s){switch(e.tag){case 26:Os(e,i,s),e.flags&Ua&&e.memoizedState!==null&&Q1(s,pi,e.memoizedState,e.memoizedProps);break;case 5:Os(e,i,s);break;case 3:case 4:var r=pi;pi=yr(e.stateNode.containerInfo),Os(e,i,s),pi=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Ua,Ua=16777216,Os(e,i,s),Ua=r):Os(e,i,s));break;default:Os(e,i,s)}}function y0(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Na(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var r=i[s];Se=r,p0(r,e)}y0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)g0(e),e=e.sibling}function g0(e){switch(e.tag){case 0:case 11:case 15:Na(e),e.flags&2048&&pn(9,e,e.return);break;case 3:Na(e);break;case 12:Na(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ir(e)):Na(e);break;default:Na(e)}}function ir(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var r=i[s];Se=r,p0(r,e)}y0(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:pn(8,i,i.return),ir(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,ir(i));break;default:ir(i)}e=e.sibling}}function p0(e,i){for(;Se!==null;){var s=Se;switch(s.tag){case 0:case 11:case 15:pn(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:xa(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,Se=r;else t:for(s=e;Se!==null;){r=Se;var c=r.sibling,f=r.return;if(r0(r),r===s){Se=null;break t}if(c!==null){c.return=f,Se=c;break t}Se=f}}}var c1={getCacheForType:function(e){var i=Ee(he),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s},cacheSignal:function(){return Ee(he).controller.signal}},h1=typeof WeakMap=="function"?WeakMap:Map,kt=0,Wt=null,Rt=null,Bt=0,Xt=0,ti=null,xn=!1,Bs=!1,Ru=!1,Zi=0,le=0,bn=0,In=0,Ou=0,ei=0,Ds=0,Ga=null,Ve=null,Bu=!1,nr=0,x0=0,sr=1/0,ar=null,_n=null,be=0,vn=null,Us=null,Wi=0,Du=0,Uu=null,b0=null,La=0,Nu=null;function ii(){return(kt&2)!==0&&Bt!==0?Bt&-Bt:b.T!==null?ku():Uh()}function _0(){if(ei===0)if((Bt&536870912)===0||Nt){var e=dl;dl<<=1,(dl&3932160)===0&&(dl=262144),ei=e}else ei=536870912;return e=Je.current,e!==null&&(e.flags|=32),ei}function Pe(e,i,s){(e===Wt&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ns(e,0),Sn(e,Bt,ei,!1)),sa(e,s),((kt&2)===0||e!==Wt)&&(e===Wt&&((kt&2)===0&&(In|=s),le===4&&Sn(e,Bt,ei,!1)),Ti(e))}function v0(e,i,s){if((kt&6)!==0)throw Error(a(327));var r=!s&&(i&127)===0&&(i&e.expiredLanes)===0||na(e,i),c=r?m1(e,i):Lu(e,i,!0),f=r;do{if(c===0){Bs&&!r&&Sn(e,i,0,!1);break}else{if(s=e.current.alternate,f&&!f1(s)){c=Lu(e,i,!1),f=!1;continue}if(c===2){if(f=i,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){i=p;t:{var _=e;c=Ga;var O=_.current.memoizedState.isDehydrated;if(O&&(Ns(_,p).flags|=256),p=Lu(_,p,!1),p!==2){if(Ru&&!O){_.errorRecoveryDisabledLanes|=f,In|=f,c=4;break t}f=Ve,Ve=c,f!==null&&(Ve===null?Ve=f:Ve.push.apply(Ve,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){Ns(e,0),Sn(e,i,0,!0);break}t:{switch(r=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Sn(r,i,ei,!xn);break t;case 2:Ve=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(c=nr+300-xe(),10<c)){if(Sn(r,i,ei,!xn),yl(r,0,!0)!==0)break t;Wi=i,r.timeoutHandle=J0(S0.bind(null,r,s,Ve,ar,Bu,i,ei,In,Ds,xn,f,"Throttled",-0,0),c);break t}S0(r,s,Ve,ar,Bu,i,ei,In,Ds,xn,f,null,-0,0)}}break}while(!0);Ti(e)}function S0(e,i,s,r,c,f,p,_,O,P,$,it,F,I){if(e.timeoutHandle=-1,it=i.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Di},m0(i,f,it);var mt=(f&62914560)===f?nr-xe():(f&4194048)===f?x0-xe():0;if(mt=I1(it,mt),mt!==null){Wi=f,e.cancelPendingCommit=mt(R0.bind(null,e,i,f,s,r,c,p,_,O,$,it,null,F,I)),Sn(e,f,p,!P);return}}R0(e,i,f,s,r,c,p,_,O)}function f1(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var c=s[r],f=c.getSnapshot;c=c.value;try{if(!Ie(f(),c))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Sn(e,i,s,r){i&=~Ou,i&=~In,e.suspendedLanes|=i,e.pingedLanes&=~i,r&&(e.warmLanes|=i),r=e.expirationTimes;for(var c=i;0<c;){var f=31-Qe(c),p=1<<f;r[f]=-1,c&=~p}s!==0&&Oh(e,s,i)}function lr(){return(kt&6)===0?(Ya(0),!1):!0}function Gu(){if(Rt!==null){if(Xt===0)var e=Rt.return;else e=Rt,Li=kn=null,Jo(e),Ms=null,_a=0,e=Rt;for(;e!==null;)$d(e.alternate,e),e=e.return;Rt=null}}function Ns(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,B1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Wi=0,Gu(),Wt=e,Rt=s=Ni(e.current,null),Bt=i,Xt=0,ti=null,xn=!1,Bs=na(e,i),Ru=!1,Ds=ei=Ou=In=bn=le=0,Ve=Ga=null,Bu=!1,(i&8)!==0&&(i|=i&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=i;0<r;){var c=31-Qe(r),f=1<<c;i|=e[c],r&=~f}return Zi=i,Tl(),s}function A0(e,i){Ct=null,b.H=Ea,i===ws||i===Nl?(i=Hf(),Xt=3):i===jo?(i=Hf(),Xt=4):Xt=i===mu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ti=i,Rt===null&&(le=1,Ql(e,ri(i,e.current)))}function w0(){var e=Je.current;return e===null?!0:(Bt&4194048)===Bt?hi===null:(Bt&62914560)===Bt||(Bt&536870912)!==0?e===hi:!1}function M0(){var e=b.H;return b.H=Ea,e===null?Ea:e}function C0(){var e=b.A;return b.A=c1,e}function rr(){le=4,xn||(Bt&4194048)!==Bt&&Je.current!==null||(Bs=!0),(bn&134217727)===0&&(In&134217727)===0||Wt===null||Sn(Wt,Bt,ei,!1)}function Lu(e,i,s){var r=kt;kt|=2;var c=M0(),f=C0();(Wt!==e||Bt!==i)&&(ar=null,Ns(e,i)),i=!1;var p=le;t:do try{if(Xt!==0&&Rt!==null){var _=Rt,O=ti;switch(Xt){case 8:Gu(),p=6;break t;case 3:case 2:case 9:case 6:Je.current===null&&(i=!0);var P=Xt;if(Xt=0,ti=null,Gs(e,_,O,P),s&&Bs){p=0;break t}break;default:P=Xt,Xt=0,ti=null,Gs(e,_,O,P)}}d1(),p=le;break}catch($){A0(e,$)}while(!0);return i&&e.shellSuspendCounter++,Li=kn=null,kt=r,b.H=c,b.A=f,Rt===null&&(Wt=null,Bt=0,Tl()),p}function d1(){for(;Rt!==null;)T0(Rt)}function m1(e,i){var s=kt;kt|=2;var r=M0(),c=C0();Wt!==e||Bt!==i?(ar=null,sr=xe()+500,Ns(e,i)):Bs=na(e,i);t:do try{if(Xt!==0&&Rt!==null){i=Rt;var f=ti;e:switch(Xt){case 1:Xt=0,ti=null,Gs(e,i,f,1);break;case 2:case 9:if(Lf(f)){Xt=0,ti=null,E0(i);break}i=function(){Xt!==2&&Xt!==9||Wt!==e||(Xt=7),Ti(e)},f.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Lf(f)?(Xt=0,ti=null,E0(i)):(Xt=0,ti=null,Gs(e,i,f,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var _=Rt;if(p?dm(p):_.stateNode.complete){Xt=0,ti=null;var O=_.sibling;if(O!==null)Rt=O;else{var P=_.return;P!==null?(Rt=P,or(P)):Rt=null}break e}}Xt=0,ti=null,Gs(e,i,f,5);break;case 6:Xt=0,ti=null,Gs(e,i,f,6);break;case 8:Gu(),le=6;break t;default:throw Error(a(462))}}y1();break}catch($){A0(e,$)}while(!0);return Li=kn=null,b.H=r,b.A=c,kt=s,Rt!==null?0:(Wt=null,Bt=0,Tl(),le)}function y1(){for(;Rt!==null&&!pe();)T0(Rt)}function T0(e){var i=Kd(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,i===null?or(e):Rt=i}function E0(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=Pd(s,i,i.pendingProps,i.type,void 0,Bt);break;case 11:i=Pd(s,i,i.pendingProps,i.type.render,i.ref,Bt);break;case 5:Jo(i);default:$d(s,i),i=Rt=Cf(i,Zi),i=Kd(s,i,Zi)}e.memoizedProps=e.pendingProps,i===null?or(e):Rt=i}function Gs(e,i,s,r){Li=kn=null,Jo(i),Ms=null,_a=0;var c=i.return;try{if(n1(e,c,i,s,Bt)){le=1,Ql(e,ri(s,e.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;le=1,Ql(e,ri(s,e.current)),Rt=null;return}i.flags&32768?(Nt||r===1?e=!0:Bs||(Bt&536870912)!==0?e=!1:(xn=e=!0,(r===2||r===9||r===3||r===6)&&(r=Je.current,r!==null&&r.tag===13&&(r.flags|=16384))),z0(i,e)):or(i)}function or(e){var i=e;do{if((i.flags&32768)!==0){z0(i,xn);return}e=i.return;var s=l1(i.alternate,i,Zi);if(s!==null){Rt=s;return}if(i=i.sibling,i!==null){Rt=i;return}Rt=i=e}while(i!==null);le===0&&(le=5)}function z0(e,i){do{var s=r1(e.alternate,e);if(s!==null){s.flags&=32767,Rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=s}while(e!==null);le=6,Rt=null}function R0(e,i,s,r,c,f,p,_,O){e.cancelPendingCommit=null;do ur();while(be!==0);if((kt&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=Mo,Wg(e,s,f,p,_,O),e===Wt&&(Rt=Wt=null,Bt=0),Us=i,vn=e,Wi=s,Du=f,Uu=c,b0=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,b1(oe,function(){return N0(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=b.T,b.T=null,c=M.p,M.p=2,p=kt,kt|=4;try{o1(e,i,s)}finally{kt=p,M.p=c,b.T=r}}be=1,O0(),B0(),D0()}}function O0(){if(be===1){be=0;var e=vn,i=Us,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=b.T,b.T=null;var r=M.p;M.p=2;var c=kt;kt|=4;try{h0(i,e);var f=Qu,p=pf(e.containerInfo),_=f.focusedElem,O=f.selectionRange;if(p!==_&&_&&_.ownerDocument&&gf(_.ownerDocument.documentElement,_)){if(O!==null&&_o(_)){var P=O.start,$=O.end;if($===void 0&&($=P),"selectionStart"in _)_.selectionStart=P,_.selectionEnd=Math.min($,_.value.length);else{var it=_.ownerDocument||document,F=it&&it.defaultView||window;if(F.getSelection){var I=F.getSelection(),mt=_.textContent.length,vt=Math.min(O.start,mt),Ft=O.end===void 0?vt:Math.min(O.end,mt);!I.extend&&vt>Ft&&(p=Ft,Ft=vt,vt=p);var X=yf(_,vt),N=yf(_,Ft);if(X&&N&&(I.rangeCount!==1||I.anchorNode!==X.node||I.anchorOffset!==X.offset||I.focusNode!==N.node||I.focusOffset!==N.offset)){var V=it.createRange();V.setStart(X.node,X.offset),I.removeAllRanges(),vt>Ft?(I.addRange(V),I.extend(N.node,N.offset)):(V.setEnd(N.node,N.offset),I.addRange(V))}}}}for(it=[],I=_;I=I.parentNode;)I.nodeType===1&&it.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<it.length;_++){var et=it[_];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}vr=!!Wu,Qu=Wu=null}finally{kt=c,M.p=r,b.T=s}}e.current=i,be=2}}function B0(){if(be===2){be=0;var e=vn,i=Us,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=b.T,b.T=null;var r=M.p;M.p=2;var c=kt;kt|=4;try{l0(e,i.alternate,i)}finally{kt=c,M.p=r,b.T=s}}be=3}}function D0(){if(be===4||be===3){be=0,_t();var e=vn,i=Us,s=Wi,r=b0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?be=5:(be=0,Us=vn=null,U0(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(_n=null),to(s),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(ia,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=b.T,c=M.p,M.p=2,b.T=null;try{for(var f=e.onRecoverableError,p=0;p<r.length;p++){var _=r[p];f(_.value,{componentStack:_.stack})}}finally{b.T=i,M.p=c}}(Wi&3)!==0&&ur(),Ti(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Nu?La++:(La=0,Nu=e):La=0,Ya(0)}}function U0(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,xa(i)))}function ur(){return O0(),B0(),D0(),N0()}function N0(){if(be!==5)return!1;var e=vn,i=Du;Du=0;var s=to(Wi),r=b.T,c=M.p;try{M.p=32>s?32:s,b.T=null,s=Uu,Uu=null;var f=vn,p=Wi;if(be=0,Us=vn=null,Wi=0,(kt&6)!==0)throw Error(a(331));var _=kt;if(kt|=4,g0(f.current),d0(f,f.current,p,s),kt=_,Ya(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(ia,f)}catch{}return!0}finally{M.p=c,b.T=r,U0(e,i)}}function G0(e,i,s){i=ri(s,i),i=du(e.stateNode,i,2),e=mn(e,i,2),e!==null&&(sa(e,2),Ti(e))}function qt(e,i,s){if(e.tag===3)G0(e,e,s);else for(;i!==null;){if(i.tag===3){G0(i,e,s);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_n===null||!_n.has(r))){e=ri(s,e),s=Ld(2),r=mn(i,s,2),r!==null&&(Yd(s,r,i,e),sa(r,2),Ti(r));break}}i=i.return}}function Yu(e,i,s){var r=e.pingCache;if(r===null){r=e.pingCache=new h1;var c=new Set;r.set(i,c)}else c=r.get(i),c===void 0&&(c=new Set,r.set(i,c));c.has(s)||(Ru=!0,c.add(s),e=g1.bind(null,e,i,s),i.then(e,e))}function g1(e,i,s){var r=e.pingCache;r!==null&&r.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Wt===e&&(Bt&s)===s&&(le===4||le===3&&(Bt&62914560)===Bt&&300>xe()-nr?(kt&2)===0&&Ns(e,0):Ou|=s,Ds===Bt&&(Ds=0)),Ti(e)}function L0(e,i){i===0&&(i=Rh()),e=Yn(e,i),e!==null&&(sa(e,i),Ti(e))}function p1(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),L0(e,s)}function x1(e,i){var s=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(i),L0(e,s)}function b1(e,i){return jt(e,i)}var cr=null,Ls=null,Hu=!1,hr=!1,ju=!1,An=0;function Ti(e){e!==Ls&&e.next===null&&(Ls===null?cr=Ls=e:Ls=Ls.next=e),hr=!0,Hu||(Hu=!0,v1())}function Ya(e,i){if(!ju&&hr){ju=!0;do for(var s=!1,r=cr;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var f=0;else{var p=r.suspendedLanes,_=r.pingedLanes;f=(1<<31-Qe(42|e)+1)-1,f&=c&~(p&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,k0(r,f))}else f=Bt,f=yl(r,r===Wt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||na(r,f)||(s=!0,k0(r,f));r=r.next}while(s);ju=!1}}function _1(){Y0()}function Y0(){hr=Hu=!1;var e=0;An!==0&&O1()&&(e=An);for(var i=xe(),s=null,r=cr;r!==null;){var c=r.next,f=H0(r,i);f===0?(r.next=null,s===null?cr=c:s.next=c,c===null&&(Ls=s)):(s=r,(e!==0||(f&3)!==0)&&(hr=!0)),r=c}be!==0&&be!==5||Ya(e),An!==0&&(An=0)}function H0(e,i){for(var s=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Qe(f),_=1<<p,O=c[p];O===-1?((_&s)===0||(_&r)!==0)&&(c[p]=Zg(_,i)):O<=i&&(e.expiredLanes|=_),f&=~_}if(i=Wt,s=Bt,s=yl(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ut(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||na(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(r!==null&&Ut(r),to(s)){case 2:case 8:s=Jt;break;case 32:s=oe;break;case 268435456:s=zh;break;default:s=oe}return r=j0.bind(null,e),s=jt(s,r),e.callbackPriority=i,e.callbackNode=s,i}return r!==null&&r!==null&&Ut(r),e.callbackPriority=2,e.callbackNode=null,2}function j0(e,i){if(be!==0&&be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ur()&&e.callbackNode!==s)return null;var r=Bt;return r=yl(e,e===Wt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(v0(e,r,i),H0(e,xe()),e.callbackNode!=null&&e.callbackNode===s?j0.bind(null,e):null)}function k0(e,i){if(ur())return null;v0(e,i,!0)}function v1(){D1(function(){(kt&6)!==0?jt(Ye,_1):Y0()})}function ku(){if(An===0){var e=Ss;e===0&&(e=fl,fl<<=1,(fl&261888)===0&&(fl=256)),An=e}return An}function X0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:bl(""+e)}function q0(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function S1(e,i,s,r,c){if(i==="submit"&&s&&s.stateNode===c){var f=X0((c[He]||null).action),p=r.submitter;p&&(i=(i=p[He]||null)?X0(i.formAction):p.getAttribute("formAction"),i!==null&&(f=i,p=null));var _=new Al("action","action",null,r,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(An!==0){var O=p?q0(c,p):new FormData(c);ru(s,{pending:!0,data:O,method:c.method,action:f},null,O)}}else typeof f=="function"&&(_.preventDefault(),O=p?q0(c,p):new FormData(c),ru(s,{pending:!0,data:O,method:c.method,action:f},f,O))},currentTarget:c}]})}}for(var Xu=0;Xu<wo.length;Xu++){var qu=wo[Xu],A1=qu.toLowerCase(),w1=qu[0].toUpperCase()+qu.slice(1);gi(A1,"on"+w1)}gi(_f,"onAnimationEnd"),gi(vf,"onAnimationIteration"),gi(Sf,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(jp,"onTransitionRun"),gi(kp,"onTransitionStart"),gi(Xp,"onTransitionCancel"),gi(Af,"onTransitionEnd"),os("onMouseEnter",["mouseout","mouseover"]),os("onMouseLeave",["mouseout","mouseover"]),os("onPointerEnter",["pointerout","pointerover"]),os("onPointerLeave",["pointerout","pointerover"]),Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Un("onBeforeInput",["compositionend","keypress","textInput","paste"]),Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ha));function V0(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],c=r.event;r=r.listeners;t:{var f=void 0;if(i)for(var p=r.length-1;0<=p;p--){var _=r[p],O=_.instance,P=_.currentTarget;if(_=_.listener,O!==f&&c.isPropagationStopped())break t;f=_,c.currentTarget=P;try{f(c)}catch($){Cl($)}c.currentTarget=null,f=O}else for(p=0;p<r.length;p++){if(_=r[p],O=_.instance,P=_.currentTarget,_=_.listener,O!==f&&c.isPropagationStopped())break t;f=_,c.currentTarget=P;try{f(c)}catch($){Cl($)}c.currentTarget=null,f=O}}}}function Ot(e,i){var s=i[eo];s===void 0&&(s=i[eo]=new Set);var r=e+"__bubble";s.has(r)||(P0(i,e,2,!1),s.add(r))}function Vu(e,i,s){var r=0;i&&(r|=4),P0(s,e,r,i)}var fr="_reactListening"+Math.random().toString(36).slice(2);function Pu(e){if(!e[fr]){e[fr]=!0,Lh.forEach(function(s){s!=="selectionchange"&&(M1.has(s)||Vu(s,!1,e),Vu(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[fr]||(i[fr]=!0,Vu("selectionchange",!1,i))}}function P0(e,i,s,r){switch(_m(i)){case 2:var c=$1;break;case 8:c=tx;break;default:c=lc}s=c.bind(null,i,s,e),c=void 0,!co||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(i,s,{capture:!0,passive:c}):e.addEventListener(i,s,!0):c!==void 0?e.addEventListener(i,s,{passive:c}):e.addEventListener(i,s,!1)}function Fu(e,i,s,r,c){var f=r;if((i&1)===0&&(i&2)===0&&r!==null)t:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var _=r.stateNode.containerInfo;if(_===c)break;if(p===4)for(p=r.return;p!==null;){var O=p.tag;if((O===3||O===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;_!==null;){if(p=as(_),p===null)return;if(O=p.tag,O===5||O===6||O===26||O===27){r=f=p;continue t}_=_.parentNode}}r=r.return}Qh(function(){var P=f,$=oo(s),it=[];t:{var F=wf.get(e);if(F!==void 0){var I=Al,mt=e;switch(e){case"keypress":if(vl(s)===0)break t;case"keydown":case"keyup":I=xp;break;case"focusin":mt="focus",I=yo;break;case"focusout":mt="blur",I=yo;break;case"beforeblur":case"afterblur":I=yo;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=lp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=vp;break;case _f:case vf:case Sf:I=up;break;case Af:I=Ap;break;case"scroll":case"scrollend":I=sp;break;case"wheel":I=Mp;break;case"copy":case"cut":case"paste":I=hp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=tf;break;case"toggle":case"beforetoggle":I=Tp}var vt=(i&4)!==0,Ft=!vt&&(e==="scroll"||e==="scrollend"),X=vt?F!==null?F+"Capture":null:F;vt=[];for(var N=P,V;N!==null;){var et=N;if(V=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||V===null||X===null||(et=ra(N,X),et!=null&&vt.push(ja(N,et,V))),Ft)break;N=N.return}0<vt.length&&(F=new I(F,mt,null,s,$),it.push({event:F,listeners:vt}))}}if((i&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",F&&s!==ro&&(mt=s.relatedTarget||s.fromElement)&&(as(mt)||mt[ss]))break t;if((I||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,I?(mt=s.relatedTarget||s.toElement,I=P,mt=mt?as(mt):null,mt!==null&&(Ft=u(mt),vt=mt.tag,mt!==Ft||vt!==5&&vt!==27&&vt!==6)&&(mt=null)):(I=null,mt=P),I!==mt)){if(vt=Jh,et="onMouseLeave",X="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(vt=tf,et="onPointerLeave",X="onPointerEnter",N="pointer"),Ft=I==null?F:la(I),V=mt==null?F:la(mt),F=new vt(et,N+"leave",I,s,$),F.target=Ft,F.relatedTarget=V,et=null,as($)===P&&(vt=new vt(X,N+"enter",mt,s,$),vt.target=V,vt.relatedTarget=Ft,et=vt),Ft=et,I&&mt)e:{for(vt=C1,X=I,N=mt,V=0,et=X;et;et=vt(et))V++;et=0;for(var bt=N;bt;bt=vt(bt))et++;for(;0<V-et;)X=vt(X),V--;for(;0<et-V;)N=vt(N),et--;for(;V--;){if(X===N||N!==null&&X===N.alternate){vt=X;break e}X=vt(X),N=vt(N)}vt=null}else vt=null;I!==null&&F0(it,F,I,vt,!1),mt!==null&&Ft!==null&&F0(it,Ft,mt,vt,!0)}}t:{if(F=P?la(P):window,I=F.nodeName&&F.nodeName.toLowerCase(),I==="select"||I==="input"&&F.type==="file")var Lt=uf;else if(rf(F))if(cf)Lt=Lp;else{Lt=Np;var pt=Up}else I=F.nodeName,!I||I.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?P&&lo(P.elementType)&&(Lt=uf):Lt=Gp;if(Lt&&(Lt=Lt(e,P))){of(it,Lt,s,$);break t}pt&&pt(e,F,P),e==="focusout"&&P&&F.type==="number"&&P.memoizedProps.value!=null&&ao(F,"number",F.value)}switch(pt=P?la(P):window,e){case"focusin":(rf(pt)||pt.contentEditable==="true")&&(ms=pt,vo=P,ya=null);break;case"focusout":ya=vo=ms=null;break;case"mousedown":So=!0;break;case"contextmenu":case"mouseup":case"dragend":So=!1,xf(it,s,$);break;case"selectionchange":if(Hp)break;case"keydown":case"keyup":xf(it,s,$)}var Tt;if(po)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else ds?af(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(ef&&s.locale!=="ko"&&(ds||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&ds&&(Tt=Ih()):(rn=$,ho="value"in rn?rn.value:rn.textContent,ds=!0)),pt=dr(P,Dt),0<pt.length&&(Dt=new $h(Dt,e,null,s,$),it.push({event:Dt,listeners:pt}),Tt?Dt.data=Tt:(Tt=lf(s),Tt!==null&&(Dt.data=Tt)))),(Tt=zp?Rp(e,s):Op(e,s))&&(Dt=dr(P,"onBeforeInput"),0<Dt.length&&(pt=new $h("onBeforeInput","beforeinput",null,s,$),it.push({event:pt,listeners:Dt}),pt.data=Tt)),S1(it,e,P,s,$)}V0(it,i)})}function ja(e,i,s){return{instance:e,listener:i,currentTarget:s}}function dr(e,i){for(var s=i+"Capture",r=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ra(e,s),c!=null&&r.unshift(ja(e,c,f)),c=ra(e,i),c!=null&&r.push(ja(e,c,f))),e.tag===3)return r;e=e.return}return[]}function C1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function F0(e,i,s,r,c){for(var f=i._reactName,p=[];s!==null&&s!==r;){var _=s,O=_.alternate,P=_.stateNode;if(_=_.tag,O!==null&&O===r)break;_!==5&&_!==26&&_!==27||P===null||(O=P,c?(P=ra(s,f),P!=null&&p.unshift(ja(s,P,O))):c||(P=ra(s,f),P!=null&&p.push(ja(s,P,O)))),s=s.return}p.length!==0&&e.push({event:i,listeners:p})}var T1=/\r\n?/g,E1=/\u0000|\uFFFD/g;function Z0(e){return(typeof e=="string"?e:""+e).replace(T1,`
`).replace(E1,"")}function W0(e,i){return i=Z0(i),Z0(e)===i}function Pt(e,i,s,r,c,f){switch(s){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||cs(e,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&cs(e,""+r);break;case"className":pl(e,"class",r);break;case"tabIndex":pl(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(e,s,r);break;case"style":Zh(e,r,f);break;case"data":if(i!=="object"){pl(e,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=bl(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&Pt(e,i,"name",c.name,c,null),Pt(e,i,"formEncType",c.formEncType,c,null),Pt(e,i,"formMethod",c.formMethod,c,null),Pt(e,i,"formTarget",c.formTarget,c,null)):(Pt(e,i,"encType",c.encType,c,null),Pt(e,i,"method",c.method,c,null),Pt(e,i,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=bl(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=Di);break;case"onScroll":r!=null&&Ot("scroll",e);break;case"onScrollEnd":r!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=bl(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),gl(e,"popover",r);break;case"xlinkActuate":Bi(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Bi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Bi(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Bi(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Bi(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Bi(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Bi(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Bi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Bi(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":gl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ip.get(s)||s,gl(e,s,r))}}function Zu(e,i,s,r,c,f){switch(s){case"style":Zh(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof r=="string"?cs(e,r):(typeof r=="number"||typeof r=="bigint")&&cs(e,""+r);break;case"onScroll":r!=null&&Ot("scroll",e);break;case"onScrollEnd":r!=null&&Ot("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yh.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),i=s.slice(2,c?s.length-7:void 0),f=e[He]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(i,f,c),typeof r=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,r,c);break t}s in e?e[s]=r:r===!0?e.setAttribute(s,""):gl(e,s,r)}}}function Re(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var r=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Pt(e,i,f,p,s,null)}}c&&Pt(e,i,"srcSet",s.srcSet,s,null),r&&Pt(e,i,"src",s.src,s,null);return;case"input":Ot("invalid",e);var _=f=p=c=null,O=null,P=null;for(r in s)if(s.hasOwnProperty(r)){var $=s[r];if($!=null)switch(r){case"name":c=$;break;case"type":p=$;break;case"checked":O=$;break;case"defaultChecked":P=$;break;case"value":f=$;break;case"defaultValue":_=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:Pt(e,i,r,$,s,null)}}qh(e,f,_,O,P,p,c,!1);return;case"select":Ot("invalid",e),r=p=f=null;for(c in s)if(s.hasOwnProperty(c)&&(_=s[c],_!=null))switch(c){case"value":f=_;break;case"defaultValue":p=_;break;case"multiple":r=_;default:Pt(e,i,c,_,s,null)}i=f,s=p,e.multiple=!!r,i!=null?us(e,!!r,i,!1):s!=null&&us(e,!!r,s,!0);return;case"textarea":Ot("invalid",e),f=c=r=null;for(p in s)if(s.hasOwnProperty(p)&&(_=s[p],_!=null))switch(p){case"value":r=_;break;case"defaultValue":c=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Pt(e,i,p,_,s,null)}Ph(e,r,c,f);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(r=s[O],r!=null))switch(O){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Pt(e,i,O,r,s,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(r=0;r<Ha.length;r++)Ot(Ha[r],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(r=s[P],r!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Pt(e,i,P,r,s,null)}return;default:if(lo(i)){for($ in s)s.hasOwnProperty($)&&(r=s[$],r!==void 0&&Zu(e,i,$,r,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(r=s[_],r!=null&&Pt(e,i,_,r,s,null))}function z1(e,i,s,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,_=null,O=null,P=null,$=null;for(I in s){var it=s[I];if(s.hasOwnProperty(I)&&it!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":O=it;default:r.hasOwnProperty(I)||Pt(e,i,I,null,r,it)}}for(var F in r){var I=r[F];if(it=s[F],r.hasOwnProperty(F)&&(I!=null||it!=null))switch(F){case"type":f=I;break;case"name":c=I;break;case"checked":P=I;break;case"defaultChecked":$=I;break;case"value":p=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,i));break;default:I!==it&&Pt(e,i,F,I,r,it)}}so(e,p,_,O,P,$,f,c);return;case"select":I=p=_=F=null;for(f in s)if(O=s[f],s.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":I=O;default:r.hasOwnProperty(f)||Pt(e,i,f,null,r,O)}for(c in r)if(f=r[c],O=s[c],r.hasOwnProperty(c)&&(f!=null||O!=null))switch(c){case"value":F=f;break;case"defaultValue":_=f;break;case"multiple":p=f;default:f!==O&&Pt(e,i,c,f,r,O)}i=_,s=p,r=I,F!=null?us(e,!!s,F,!1):!!r!=!!s&&(i!=null?us(e,!!s,i,!0):us(e,!!s,s?[]:"",!1));return;case"textarea":I=F=null;for(_ in s)if(c=s[_],s.hasOwnProperty(_)&&c!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Pt(e,i,_,null,r,c)}for(p in r)if(c=r[p],f=s[p],r.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":F=c;break;case"defaultValue":I=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Pt(e,i,p,c,r,f)}Vh(e,F,I);return;case"option":for(var mt in s)if(F=s[mt],s.hasOwnProperty(mt)&&F!=null&&!r.hasOwnProperty(mt))switch(mt){case"selected":e.selected=!1;break;default:Pt(e,i,mt,null,r,F)}for(O in r)if(F=r[O],I=s[O],r.hasOwnProperty(O)&&F!==I&&(F!=null||I!=null))switch(O){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Pt(e,i,O,F,r,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in s)F=s[vt],s.hasOwnProperty(vt)&&F!=null&&!r.hasOwnProperty(vt)&&Pt(e,i,vt,null,r,F);for(P in r)if(F=r[P],I=s[P],r.hasOwnProperty(P)&&F!==I&&(F!=null||I!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:Pt(e,i,P,F,r,I)}return;default:if(lo(i)){for(var Ft in s)F=s[Ft],s.hasOwnProperty(Ft)&&F!==void 0&&!r.hasOwnProperty(Ft)&&Zu(e,i,Ft,void 0,r,F);for($ in r)F=r[$],I=s[$],!r.hasOwnProperty($)||F===I||F===void 0&&I===void 0||Zu(e,i,$,F,r,I);return}}for(var X in s)F=s[X],s.hasOwnProperty(X)&&F!=null&&!r.hasOwnProperty(X)&&Pt(e,i,X,null,r,F);for(it in r)F=r[it],I=s[it],!r.hasOwnProperty(it)||F===I||F==null&&I==null||Pt(e,i,it,F,r,I)}function Q0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var c=s[r],f=c.transferSize,p=c.initiatorType,_=c.duration;if(f&&_&&Q0(p)){for(p=0,_=c.responseEnd,r+=1;r<s.length;r++){var O=s[r],P=O.startTime;if(P>_)break;var $=O.transferSize,it=O.initiatorType;$&&Q0(it)&&(O=O.responseEnd,p+=$*(O<_?1:(_-P)/(O-P)))}if(--r,i+=8*(f+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wu=null,Qu=null;function mr(e){return e.nodeType===9?e:e.ownerDocument}function I0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K0(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Iu(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ku=null;function O1(){var e=window.event;return e&&e.type==="popstate"?e===Ku?!1:(Ku=e,!0):(Ku=null,!1)}var J0=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,D1=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(e){return $0.resolve(null).then(e).catch(U1)}:J0;function U1(e){setTimeout(function(){throw e})}function wn(e){return e==="head"}function tm(e,i){var s=i,r=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(r===0){e.removeChild(c),ks(i);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")ka(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ka(s);for(var f=s.firstChild;f;){var p=f.nextSibling,_=f.nodeName;f[aa]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&ka(e.ownerDocument.body);s=c}while(s);ks(i)}function em(e,i){var s=e;e=0;do{var r=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=r}while(s)}function Ju(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ju(s),io(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function N1(e,i,s,r){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[aa])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=fi(e.nextSibling),e===null)break}return null}function G1(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=fi(e.nextSibling),e===null))return null;return e}function im(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=fi(e.nextSibling),e===null))return null;return e}function $u(e){return e.data==="$?"||e.data==="$~"}function tc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function L1(e,i){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||s.readyState!=="loading")i();else{var r=function(){i(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function fi(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var ec=null;function nm(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(i===0)return fi(e.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}e=e.nextSibling}return null}function sm(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return e;i--}else s!=="/$"&&s!=="/&"||i++}e=e.previousSibling}return null}function am(e,i,s){switch(i=mr(s),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ka(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);io(e)}var di=new Map,lm=new Set;function yr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=M.d;M.d={f:Y1,r:H1,D:j1,C:k1,L:X1,m:q1,X:P1,S:V1,M:F1};function Y1(){var e=Qi.f(),i=lr();return e||i}function H1(e){var i=ls(e);i!==null&&i.tag===5&&i.type==="form"?Ad(i):Qi.r(e)}var Ys=typeof document>"u"?null:document;function rm(e,i,s){var r=Ys;if(r&&typeof i=="string"&&i){var c=ai(i);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),lm.has(c)||(lm.add(c),e={rel:e,crossOrigin:s,href:i},r.querySelector(c)===null&&(i=r.createElement("link"),Re(i,"link",e),ve(i),r.head.appendChild(i)))}}function j1(e){Qi.D(e),rm("dns-prefetch",e,null)}function k1(e,i){Qi.C(e,i),rm("preconnect",e,i)}function X1(e,i,s){Qi.L(e,i,s);var r=Ys;if(r&&e&&i){var c='link[rel="preload"][as="'+ai(i)+'"]';i==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+ai(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+ai(s.imageSizes)+'"]')):c+='[href="'+ai(e)+'"]';var f=c;switch(i){case"style":f=Hs(e);break;case"script":f=js(e)}di.has(f)||(e=x({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),di.set(f,e),r.querySelector(c)!==null||i==="style"&&r.querySelector(Xa(f))||i==="script"&&r.querySelector(qa(f))||(i=r.createElement("link"),Re(i,"link",e),ve(i),r.head.appendChild(i)))}}function q1(e,i){Qi.m(e,i);var s=Ys;if(s&&e){var r=i&&typeof i.as=="string"?i.as:"script",c='link[rel="modulepreload"][as="'+ai(r)+'"][href="'+ai(e)+'"]',f=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=js(e)}if(!di.has(f)&&(e=x({rel:"modulepreload",href:e},i),di.set(f,e),s.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(qa(f)))return}r=s.createElement("link"),Re(r,"link",e),ve(r),s.head.appendChild(r)}}}function V1(e,i,s){Qi.S(e,i,s);var r=Ys;if(r&&e){var c=rs(r).hoistableStyles,f=Hs(e);i=i||"default";var p=c.get(f);if(!p){var _={loading:0,preload:null};if(p=r.querySelector(Xa(f)))_.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":i},s),(s=di.get(f))&&ic(e,s);var O=p=r.createElement("link");ve(O),Re(O,"link",e),O._p=new Promise(function(P,$){O.onload=P,O.onerror=$}),O.addEventListener("load",function(){_.loading|=1}),O.addEventListener("error",function(){_.loading|=2}),_.loading|=4,gr(p,i,r)}p={type:"stylesheet",instance:p,count:1,state:_},c.set(f,p)}}}function P1(e,i){Qi.X(e,i);var s=Ys;if(s&&e){var r=rs(s).hoistableScripts,c=js(e),f=r.get(c);f||(f=s.querySelector(qa(c)),f||(e=x({src:e,async:!0},i),(i=di.get(c))&&nc(e,i),f=s.createElement("script"),ve(f),Re(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function F1(e,i){Qi.M(e,i);var s=Ys;if(s&&e){var r=rs(s).hoistableScripts,c=js(e),f=r.get(c);f||(f=s.querySelector(qa(c)),f||(e=x({src:e,async:!0,type:"module"},i),(i=di.get(c))&&nc(e,i),f=s.createElement("script"),ve(f),Re(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function om(e,i,s,r){var c=(c=rt.current)?yr(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Hs(s.href),s=rs(c).hoistableStyles,r=s.get(i),r||(r={type:"style",instance:null,count:0,state:null},s.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Hs(s.href);var f=rs(c).hoistableStyles,p=f.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=c.querySelector(Xa(e)))&&!f._p&&(p.instance=f,p.state.loading=5),di.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},di.set(e,s),f||Z1(c,e,s,p.state))),i&&r===null)throw Error(a(528,""));return p}if(i&&r!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=js(s),s=rs(c).hoistableScripts,r=s.get(i),r||(r={type:"script",instance:null,count:0,state:null},s.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Hs(e){return'href="'+ai(e)+'"'}function Xa(e){return'link[rel="stylesheet"]['+e+"]"}function um(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Z1(e,i,s,r){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=e.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),Re(i,"link",s),ve(i),e.head.appendChild(i))}function js(e){return'[src="'+ai(e)+'"]'}function qa(e){return"script[async]"+e}function cm(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var r=e.querySelector('style[data-href~="'+ai(s.href)+'"]');if(r)return i.instance=r,ve(r),r;var c=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),ve(r),Re(r,"style",c),gr(r,s.precedence,e),i.instance=r;case"stylesheet":c=Hs(s.href);var f=e.querySelector(Xa(c));if(f)return i.state.loading|=4,i.instance=f,ve(f),f;r=um(s),(c=di.get(c))&&ic(r,c),f=(e.ownerDocument||e).createElement("link"),ve(f);var p=f;return p._p=new Promise(function(_,O){p.onload=_,p.onerror=O}),Re(f,"link",r),i.state.loading|=4,gr(f,s.precedence,e),i.instance=f;case"script":return f=js(s.src),(c=e.querySelector(qa(f)))?(i.instance=c,ve(c),c):(r=s,(c=di.get(f))&&(r=x({},s),nc(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),ve(c),Re(c,"link",r),e.head.appendChild(c),i.instance=c);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,gr(r,s.precedence,e));return i.instance}function gr(e,i,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,f=c,p=0;p<r.length;p++){var _=r[p];if(_.dataset.precedence===i)f=_;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function ic(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function nc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var pr=null;function hm(e,i,s){if(pr===null){var r=new Map,c=pr=new Map;c.set(s,r)}else c=pr,r=c.get(s),r||(r=new Map,c.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[aa]||f[Ce]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(i)||"";p=e+p;var _=r.get(p);_?_.push(f):r.set(p,[f])}}return r}function fm(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function W1(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function dm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Q1(e,i,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Hs(r.href),f=i.querySelector(Xa(c));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=xr.bind(e),i.then(e,e)),s.state.loading|=4,s.instance=f,ve(f);return}f=i.ownerDocument||i,r=um(r),(c=di.get(c))&&ic(r,c),f=f.createElement("link"),ve(f);var p=f;p._p=new Promise(function(_,O){p.onload=_,p.onerror=O}),Re(f,"link",r),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=xr.bind(e),i.addEventListener("load",s),i.addEventListener("error",s))}}var sc=0;function I1(e,i){return e.stylesheets&&e.count===0&&_r(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var r=setTimeout(function(){if(e.stylesheets&&_r(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&sc===0&&(sc=62500*R1());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_r(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>sc?50:800)+i);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function xr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_r(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var br=null;function _r(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,br=new Map,i.forEach(K1,e),br=null,xr.call(e))}function K1(e,i){if(!(i.state.loading&4)){var s=br.get(e);if(s)var r=s.get(null);else{s=new Map,br.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),r=p)}r&&s.set(null,r)}c=i.instance,p=c.getAttribute("data-precedence"),f=s.get(p)||r,f===r&&s.set(null,c),s.set(p,c),this.count++,r=xr.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),i.state.loading|=4}}var Va={$$typeof:L,Provider:null,Consumer:null,_currentValue:C,_currentValue2:C,_threadCount:0};function J1(e,i,s,r,c,f,p,_,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.hiddenUpdates=Jr(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function mm(e,i,s,r,c,f,p,_,O,P,$,it){return e=new J1(e,i,s,p,O,P,$,it,_),i=1,f===!0&&(i|=24),f=Ke(3,null,null,i),e.current=f,f.stateNode=e,i=Lo(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:r,isDehydrated:s,cache:i},ko(f),e}function ym(e){return e?(e=ps,e):ps}function gm(e,i,s,r,c,f){c=ym(c),r.context===null?r.context=c:r.pendingContext=c,r=dn(i),r.payload={element:s},f=f===void 0?null:f,f!==null&&(r.callback=f),s=mn(e,r,i),s!==null&&(Pe(s,e,i),Sa(s,e,i))}function pm(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function ac(e,i){pm(e,i),(e=e.alternate)&&pm(e,i)}function xm(e){if(e.tag===13||e.tag===31){var i=Yn(e,67108864);i!==null&&Pe(i,e,67108864),ac(e,67108864)}}function bm(e){if(e.tag===13||e.tag===31){var i=ii();i=$r(i);var s=Yn(e,i);s!==null&&Pe(s,e,i),ac(e,i)}}var vr=!0;function $1(e,i,s,r){var c=b.T;b.T=null;var f=M.p;try{M.p=2,lc(e,i,s,r)}finally{M.p=f,b.T=c}}function tx(e,i,s,r){var c=b.T;b.T=null;var f=M.p;try{M.p=8,lc(e,i,s,r)}finally{M.p=f,b.T=c}}function lc(e,i,s,r){if(vr){var c=rc(r);if(c===null)Fu(e,i,r,Sr,s),vm(e,r);else if(ix(c,e,i,s,r))r.stopPropagation();else if(vm(e,r),i&4&&-1<ex.indexOf(e)){for(;c!==null;){var f=ls(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Dn(f.pendingLanes);if(p!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;p;){var O=1<<31-Qe(p);_.entanglements[1]|=O,p&=~O}Ti(f),(kt&6)===0&&(sr=xe()+500,Ya(0))}}break;case 31:case 13:_=Yn(f,2),_!==null&&Pe(_,f,2),lr(),ac(f,2)}if(f=rc(r),f===null&&Fu(e,i,r,Sr,s),f===c)break;c=f}c!==null&&r.stopPropagation()}else Fu(e,i,r,null,s)}}function rc(e){return e=oo(e),oc(e)}var Sr=null;function oc(e){if(Sr=null,e=as(e),e!==null){var i=u(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=h(i),e!==null)return e;e=null}else if(s===31){if(e=d(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Sr=e,null}function _m(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ai()){case Ye:return 2;case Jt:return 8;case oe:case ns:return 32;case zh:return 268435456;default:return 32}default:return 32}}var uc=!1,Mn=null,Cn=null,Tn=null,Pa=new Map,Fa=new Map,En=[],ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vm(e,i){switch(e){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Pa.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fa.delete(i.pointerId)}}function Za(e,i,s,r,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:s,eventSystemFlags:r,nativeEvent:f,targetContainers:[c]},i!==null&&(i=ls(i),i!==null&&xm(i)),e):(e.eventSystemFlags|=r,i=e.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),e)}function ix(e,i,s,r,c){switch(i){case"focusin":return Mn=Za(Mn,e,i,s,r,c),!0;case"dragenter":return Cn=Za(Cn,e,i,s,r,c),!0;case"mouseover":return Tn=Za(Tn,e,i,s,r,c),!0;case"pointerover":var f=c.pointerId;return Pa.set(f,Za(Pa.get(f)||null,e,i,s,r,c)),!0;case"gotpointercapture":return f=c.pointerId,Fa.set(f,Za(Fa.get(f)||null,e,i,s,r,c)),!0}return!1}function Sm(e){var i=as(e.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){e.blockedOn=i,Nh(e.priority,function(){bm(s)});return}}else if(i===31){if(i=d(s),i!==null){e.blockedOn=i,Nh(e.priority,function(){bm(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ar(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=rc(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);ro=r,s.target.dispatchEvent(r),ro=null}else return i=ls(s),i!==null&&xm(i),e.blockedOn=s,!1;i.shift()}return!0}function Am(e,i,s){Ar(e)&&s.delete(i)}function nx(){uc=!1,Mn!==null&&Ar(Mn)&&(Mn=null),Cn!==null&&Ar(Cn)&&(Cn=null),Tn!==null&&Ar(Tn)&&(Tn=null),Pa.forEach(Am),Fa.forEach(Am)}function wr(e,i){e.blockedOn===i&&(e.blockedOn=null,uc||(uc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,nx)))}var Mr=null;function wm(e){Mr!==e&&(Mr=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Mr===e&&(Mr=null);for(var i=0;i<e.length;i+=3){var s=e[i],r=e[i+1],c=e[i+2];if(typeof r!="function"){if(oc(r||s)===null)continue;break}var f=ls(s);f!==null&&(e.splice(i,3),i-=3,ru(f,{pending:!0,data:c,method:s.method,action:r},r,c))}}))}function ks(e){function i(O){return wr(O,e)}Mn!==null&&wr(Mn,e),Cn!==null&&wr(Cn,e),Tn!==null&&wr(Tn,e),Pa.forEach(i),Fa.forEach(i);for(var s=0;s<En.length;s++){var r=En[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<En.length&&(s=En[0],s.blockedOn===null);)Sm(s),s.blockedOn===null&&En.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var c=s[r],f=s[r+1],p=c[He]||null;if(typeof f=="function")p||wm(s);else if(p){var _=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[He]||null)_=p.formAction;else if(oc(c)!==null)continue}else _=p.action;typeof _=="function"?s[r+1]=_:(s.splice(r,3),r-=3),wm(s)}}}function Mm(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function i(){c!==null&&(c(),c=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),c!==null&&(c(),c=null)}}}function cc(e){this._internalRoot=e}Cr.prototype.render=cc.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,r=ii();gm(s,r,e,i,null,null)},Cr.prototype.unmount=cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;gm(e.current,2,null,e,null,null),lr(),i[ss]=null}};function Cr(e){this._internalRoot=e}Cr.prototype.unstable_scheduleHydration=function(e){if(e){var i=Uh();e={blockedOn:null,target:e,priority:i};for(var s=0;s<En.length&&i!==0&&i<En[s].priority;s++);En.splice(s,0,e),s===0&&Sm(e)}};var Cm=t.version;if(Cm!=="19.2.0")throw Error(a(527,Cm,"19.2.0"));M.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var sx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tr.isDisabled&&Tr.supportsFiber)try{ia=Tr.inject(sx),We=Tr}catch{}}return Qa.createRoot=function(e,i){if(!o(e))throw Error(a(299));var s=!1,r="",c=Dd,f=Ud,p=Nd;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=mm(e,1,!1,null,null,s,r,null,c,f,p,Mm),e[ss]=i.current,Pu(e),new cc(i)},Qa.hydrateRoot=function(e,i,s){if(!o(e))throw Error(a(299));var r=!1,c="",f=Dd,p=Ud,_=Nd,O=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.formState!==void 0&&(O=s.formState)),i=mm(e,1,!0,i,s??null,r,c,O,f,p,_,Mm),i.context=ym(null),s=i.current,r=ii(),r=$r(r),c=dn(r),c.callback=null,mn(s,c,r),s=r,i.current.lanes=s,sa(i,s),Ti(i),e[ss]=i.current,Pu(e),new Cr(i)},Qa.version="19.2.0",Qa}var Gm;function yx(){if(Gm)return dc.exports;Gm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),dc.exports=mx(),dc.exports}var gx=yx(),pc={exports:{}},xc={};var Lm;function px(){if(Lm)return xc;Lm=1;var l=Wr().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return xc.c=function(t){return l.H.useMemoCache(t)},xc}var Ym;function xx(){return Ym||(Ym=1,pc.exports=px()),pc.exports}var nn=xx();const bx="modulepreload",_x=function(l){return"/"+l},Hm={},Xr=function(t,n,a){let o=Promise.resolve();if(n&&n.length>0){let m=function(y){return Promise.all(y.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");o=m(n.map(y=>{if(y=_x(y),y in Hm)return;Hm[y]=!0;const g=y.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${x}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":bx,g||(v.as="script"),v.crossOrigin="",v.href=y,d&&v.setAttribute("nonce",d),document.head.appendChild(v),g)return new Promise((w,A)=>{v.addEventListener("load",w),v.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return o.then(h=>{for(const d of h||[])d.status==="rejected"&&u(d.reason);return t().catch(u)})};var Mt=(l=>(l.Application="application",l.WebGLPipes="webgl-pipes",l.WebGLPipesAdaptor="webgl-pipes-adaptor",l.WebGLSystem="webgl-system",l.WebGPUPipes="webgpu-pipes",l.WebGPUPipesAdaptor="webgpu-pipes-adaptor",l.WebGPUSystem="webgpu-system",l.CanvasSystem="canvas-system",l.CanvasPipesAdaptor="canvas-pipes-adaptor",l.CanvasPipes="canvas-pipes",l.Asset="asset",l.LoadParser="load-parser",l.ResolveParser="resolve-parser",l.CacheParser="cache-parser",l.DetectionParser="detection-parser",l.MaskEffect="mask-effect",l.BlendMode="blend-mode",l.TextureSource="texture-source",l.Environment="environment",l))(Mt||{});const Kc=l=>{if(typeof l=="function"||typeof l=="object"&&l.extension){if(!l.extension)throw new Error("Extension class must have an extension object");l={...typeof l.extension!="object"?{type:l.extension}:l.extension,ref:l}}if(typeof l=="object")l={...l};else throw new Error("Invalid extension type");return typeof l.type=="string"&&(l.type=[l.type]),l},Er=(l,t)=>Kc(l).priority??t,yi={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...l){return l.map(Kc).forEach(t=>{t.type.forEach(n=>this._removeHandlers[n]?.(t))}),this},add(...l){return l.map(Kc).forEach(t=>{t.type.forEach(n=>{const a=this._addHandlers,o=this._queue;a[n]?a[n]?.(t):(o[n]=o[n]||[],o[n]?.push(t))})}),this},handle(l,t,n){const a=this._addHandlers,o=this._removeHandlers;if(a[l]||o[l])throw new Error(`Extension type ${l} already has a handler`);a[l]=t,o[l]=n;const u=this._queue;return u[l]&&(u[l]?.forEach(h=>t(h)),delete u[l]),this},handleByMap(l,t){return this.handle(l,n=>{n.name&&(t[n.name]=n.ref)},n=>{n.name&&delete t[n.name]})},handleByNamedList(l,t,n=-1){return this.handle(l,a=>{t.findIndex(u=>u.name===a.name)>=0||(t.push({name:a.name,value:a.ref}),t.sort((u,h)=>Er(h.value,n)-Er(u.value,n)))},a=>{const o=t.findIndex(u=>u.name===a.name);o!==-1&&t.splice(o,1)})},handleByList(l,t,n=-1){return this.handle(l,a=>{t.includes(a.ref)||(t.push(a.ref),t.sort((o,u)=>Er(u,n)-Er(o,n)))},a=>{const o=t.indexOf(a.ref);o!==-1&&t.splice(o,1)})}},vx={extension:{type:Mt.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Xr(()=>import("./browserAll-DsoUPvqS.js"),__vite__mapDeps([0,1,2,3,4]))}},Sx={extension:{type:Mt.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Xr(()=>import("./webworkerAll-C3NM7y3B.js"),__vite__mapDeps([1,2,3,4]))}};class Fe{constructor(t,n,a){this._x=n||0,this._y=a||0,this._observer=t}clone(t){return new Fe(t??this._observer,this._x,this._y)}set(t=0,n=t){return(this._x!==t||this._y!==n)&&(this._x=t,this._y=n,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var bc={exports:{}},jm;function Ax(){return jm||(jm=1,(function(l){var t=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function o(m,y,g){this.fn=m,this.context=y,this.once=g||!1}function u(m,y,g,x,v){if(typeof g!="function")throw new TypeError("The listener must be a function");var w=new o(g,x||m,v),A=n?n+y:y;return m._events[A]?m._events[A].fn?m._events[A]=[m._events[A],w]:m._events[A].push(w):(m._events[A]=w,m._eventsCount++),m}function h(m,y){--m._eventsCount===0?m._events=new a:delete m._events[y]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var y=[],g,x;if(this._eventsCount===0)return y;for(x in g=this._events)t.call(g,x)&&y.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(g)):y},d.prototype.listeners=function(y){var g=n?n+y:y,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var v=0,w=x.length,A=new Array(w);v<w;v++)A[v]=x[v].fn;return A},d.prototype.listenerCount=function(y){var g=n?n+y:y,x=this._events[g];return x?x.fn?1:x.length:0},d.prototype.emit=function(y,g,x,v,w,A){var D=n?n+y:y;if(!this._events[D])return!1;var T=this._events[D],G=arguments.length,U,L;if(T.fn){switch(T.once&&this.removeListener(y,T.fn,void 0,!0),G){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,g),!0;case 3:return T.fn.call(T.context,g,x),!0;case 4:return T.fn.call(T.context,g,x,v),!0;case 5:return T.fn.call(T.context,g,x,v,w),!0;case 6:return T.fn.call(T.context,g,x,v,w,A),!0}for(L=1,U=new Array(G-1);L<G;L++)U[L-1]=arguments[L];T.fn.apply(T.context,U)}else{var Z=T.length,K;for(L=0;L<Z;L++)switch(T[L].once&&this.removeListener(y,T[L].fn,void 0,!0),G){case 1:T[L].fn.call(T[L].context);break;case 2:T[L].fn.call(T[L].context,g);break;case 3:T[L].fn.call(T[L].context,g,x);break;case 4:T[L].fn.call(T[L].context,g,x,v);break;default:if(!U)for(K=1,U=new Array(G-1);K<G;K++)U[K-1]=arguments[K];T[L].fn.apply(T[L].context,U)}}return!0},d.prototype.on=function(y,g,x){return u(this,y,g,x,!1)},d.prototype.once=function(y,g,x){return u(this,y,g,x,!0)},d.prototype.removeListener=function(y,g,x,v){var w=n?n+y:y;if(!this._events[w])return this;if(!g)return h(this,w),this;var A=this._events[w];if(A.fn)A.fn===g&&(!v||A.once)&&(!x||A.context===x)&&h(this,w);else{for(var D=0,T=[],G=A.length;D<G;D++)(A[D].fn!==g||v&&!A[D].once||x&&A[D].context!==x)&&T.push(A[D]);T.length?this._events[w]=T.length===1?T[0]:T:h(this,w)}return this},d.prototype.removeAllListeners=function(y){var g;return y?(g=n?n+y:y,this._events[g]&&h(this,g)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,l.exports=d})(bc)),bc.exports}var wx=Ax();const sn=Zr(wx);let _c=0;const km=500;function Oe(...l){_c!==km&&(_c++,_c===km?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...l))}const vi=(l,t,n=!1)=>(Array.isArray(l)||(l=[l]),t?l.map(a=>typeof a=="string"||n?t(a):a):l);class Mx{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const n=this._cache.get(t);return n||Oe(`[Assets] Asset id ${t} was not found in the Cache`),n}set(t,n){const a=vi(t);let o;for(let m=0;m<this.parsers.length;m++){const y=this.parsers[m];if(y.test(n)){o=y.getCacheableAssets(a,n);break}}const u=new Map(Object.entries(o||{}));o||a.forEach(m=>{u.set(m,n)});const h=[...u.keys()],d={cacheKeys:h,keys:a};a.forEach(m=>{this._cacheMap.set(m,d)}),h.forEach(m=>{const y=o?o[m]:n;this._cache.has(m)&&this._cache.get(m)!==y&&Oe("[Cache] already has key:",m),this._cache.set(m,u.get(m))})}remove(t){if(!this._cacheMap.has(t)){Oe(`[Assets] Asset id ${t} was not found in the Cache`);return}const n=this._cacheMap.get(t);n.cacheKeys.forEach(o=>{this._cache.delete(o)}),n.keys.forEach(o=>{this._cacheMap.delete(o)})}get parsers(){return this._parsers}}const Le=new Mx,Cx=Math.PI*2,Tx=180/Math.PI,Ex=Math.PI/180;class Ue{constructor(t=0,n=0){this.x=0,this.y=0,this.x=t,this.y=n}clone(){return new Ue(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,n=t){return this.x=t,this.y=n,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return vc.x=0,vc.y=0,vc}}const vc=new Ue;class Zt{constructor(t=1,n=0,a=0,o=1,u=0,h=0){this.array=null,this.a=t,this.b=n,this.c=a,this.d=o,this.tx=u,this.ty=h}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,n,a,o,u,h){return this.a=t,this.b=n,this.c=a,this.d=o,this.tx=u,this.ty=h,this}toArray(t,n){this.array||(this.array=new Float32Array(9));const a=n||this.array;return t?(a[0]=this.a,a[1]=this.b,a[2]=0,a[3]=this.c,a[4]=this.d,a[5]=0,a[6]=this.tx,a[7]=this.ty,a[8]=1):(a[0]=this.a,a[1]=this.c,a[2]=this.tx,a[3]=this.b,a[4]=this.d,a[5]=this.ty,a[6]=0,a[7]=0,a[8]=1),a}apply(t,n){n=n||new Ue;const a=t.x,o=t.y;return n.x=this.a*a+this.c*o+this.tx,n.y=this.b*a+this.d*o+this.ty,n}applyInverse(t,n){n=n||new Ue;const a=this.a,o=this.b,u=this.c,h=this.d,d=this.tx,m=this.ty,y=1/(a*h+u*-o),g=t.x,x=t.y;return n.x=h*y*g+-u*y*x+(m*u-d*h)*y,n.y=a*y*x+-o*y*g+(-m*a+d*o)*y,n}translate(t,n){return this.tx+=t,this.ty+=n,this}scale(t,n){return this.a*=t,this.d*=n,this.c*=t,this.b*=n,this.tx*=t,this.ty*=n,this}rotate(t){const n=Math.cos(t),a=Math.sin(t),o=this.a,u=this.c,h=this.tx;return this.a=o*n-this.b*a,this.b=o*a+this.b*n,this.c=u*n-this.d*a,this.d=u*a+this.d*n,this.tx=h*n-this.ty*a,this.ty=h*a+this.ty*n,this}append(t){const n=this.a,a=this.b,o=this.c,u=this.d;return this.a=t.a*n+t.b*o,this.b=t.a*a+t.b*u,this.c=t.c*n+t.d*o,this.d=t.c*a+t.d*u,this.tx=t.tx*n+t.ty*o+this.tx,this.ty=t.tx*a+t.ty*u+this.ty,this}appendFrom(t,n){const a=t.a,o=t.b,u=t.c,h=t.d,d=t.tx,m=t.ty,y=n.a,g=n.b,x=n.c,v=n.d;return this.a=a*y+o*x,this.b=a*g+o*v,this.c=u*y+h*x,this.d=u*g+h*v,this.tx=d*y+m*x+n.tx,this.ty=d*g+m*v+n.ty,this}setTransform(t,n,a,o,u,h,d,m,y){return this.a=Math.cos(d+y)*u,this.b=Math.sin(d+y)*u,this.c=-Math.sin(d-m)*h,this.d=Math.cos(d-m)*h,this.tx=t-(a*this.a+o*this.c),this.ty=n-(a*this.b+o*this.d),this}prepend(t){const n=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const a=this.a,o=this.c;this.a=a*t.a+this.b*t.c,this.b=a*t.b+this.b*t.d,this.c=o*t.a+this.d*t.c,this.d=o*t.b+this.d*t.d}return this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this}decompose(t){const n=this.a,a=this.b,o=this.c,u=this.d,h=t.pivot,d=-Math.atan2(-o,u),m=Math.atan2(a,n),y=Math.abs(d+m);return y<1e-5||Math.abs(Cx-y)<1e-5?(t.rotation=m,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=d,t.skew.y=m),t.scale.x=Math.sqrt(n*n+a*a),t.scale.y=Math.sqrt(o*o+u*u),t.position.x=this.tx+(h.x*n+h.y*o),t.position.y=this.ty+(h.x*a+h.y*u),t}invert(){const t=this.a,n=this.b,a=this.c,o=this.d,u=this.tx,h=t*o-n*a;return this.a=o/h,this.b=-n/h,this.c=-a/h,this.d=t/h,this.tx=(a*this.ty-o*u)/h,this.ty=-(t*this.ty-n*u)/h,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new Zt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Rx.identity()}static get shared(){return zx.identity()}}const zx=new Zt,Rx=new Zt,Jn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],$n=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ts=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],es=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Jc=[],Ry=[],zr=Math.sign;function Ox(){for(let l=0;l<16;l++){const t=[];Jc.push(t);for(let n=0;n<16;n++){const a=zr(Jn[l]*Jn[n]+ts[l]*$n[n]),o=zr($n[l]*Jn[n]+es[l]*$n[n]),u=zr(Jn[l]*ts[n]+ts[l]*es[n]),h=zr($n[l]*ts[n]+es[l]*es[n]);for(let d=0;d<16;d++)if(Jn[d]===a&&$n[d]===o&&ts[d]===u&&es[d]===h){t.push(d);break}}}for(let l=0;l<16;l++){const t=new Zt;t.set(Jn[l],$n[l],ts[l],es[l],0,0),Ry.push(t)}}Ox();const ie={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:l=>Jn[l],uY:l=>$n[l],vX:l=>ts[l],vY:l=>es[l],inv:l=>l&8?l&15:-l&7,add:(l,t)=>Jc[l][t],sub:(l,t)=>Jc[l][ie.inv(t)],rotate180:l=>l^4,isVertical:l=>(l&3)===2,byDirection:(l,t)=>Math.abs(l)*2<=Math.abs(t)?t>=0?ie.S:ie.N:Math.abs(t)*2<=Math.abs(l)?l>0?ie.E:ie.W:t>0?l>0?ie.SE:ie.SW:l>0?ie.NE:ie.NW,matrixAppendRotationInv:(l,t,n=0,a=0)=>{const o=Ry[ie.inv(t)];o.tx=n,o.ty=a,l.append(o)}},Rr=[new Ue,new Ue,new Ue,new Ue];class Be{constructor(t=0,n=0,a=0,o=0){this.type="rectangle",this.x=Number(t),this.y=Number(n),this.width=Number(a),this.height=Number(o)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Be(0,0,0,0)}clone(){return new Be(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,n){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&n>=this.y&&n<this.y+this.height}strokeContains(t,n,a){const{width:o,height:u}=this;if(o<=0||u<=0)return!1;const h=this.x,d=this.y,m=h-a/2,y=h+o+a/2,g=d-a/2,x=d+u+a/2,v=h+a/2,w=h+o-a/2,A=d+a/2,D=d+u-a/2;return t>=m&&t<=y&&n>=g&&n<=x&&!(t>v&&t<w&&n>A&&n<D)}intersects(t,n){if(!n){const nt=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=nt)return!1;const k=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>k}const a=this.left,o=this.right,u=this.top,h=this.bottom;if(o<=a||h<=u)return!1;const d=Rr[0].set(t.left,t.top),m=Rr[1].set(t.left,t.bottom),y=Rr[2].set(t.right,t.top),g=Rr[3].set(t.right,t.bottom);if(y.x<=d.x||m.y<=d.y)return!1;const x=Math.sign(n.a*n.d-n.b*n.c);if(x===0||(n.apply(d,d),n.apply(m,m),n.apply(y,y),n.apply(g,g),Math.max(d.x,m.x,y.x,g.x)<=a||Math.min(d.x,m.x,y.x,g.x)>=o||Math.max(d.y,m.y,y.y,g.y)<=u||Math.min(d.y,m.y,y.y,g.y)>=h))return!1;const v=x*(m.y-d.y),w=x*(d.x-m.x),A=v*a+w*u,D=v*o+w*u,T=v*a+w*h,G=v*o+w*h;if(Math.max(A,D,T,G)<=v*d.x+w*d.y||Math.min(A,D,T,G)>=v*g.x+w*g.y)return!1;const U=x*(d.y-y.y),L=x*(y.x-d.x),Z=U*a+L*u,K=U*o+L*u,tt=U*a+L*h,Q=U*o+L*h;return!(Math.max(Z,K,tt,Q)<=U*d.x+L*d.y||Math.min(Z,K,tt,Q)>=U*g.x+L*g.y)}pad(t=0,n=t){return this.x-=t,this.y-=n,this.width+=t*2,this.height+=n*2,this}fit(t){const n=Math.max(this.x,t.x),a=Math.min(this.x+this.width,t.x+t.width),o=Math.max(this.y,t.y),u=Math.min(this.y+this.height,t.y+t.height);return this.x=n,this.width=Math.max(a-n,0),this.y=o,this.height=Math.max(u-o,0),this}ceil(t=1,n=.001){const a=Math.ceil((this.x+this.width-n)*t)/t,o=Math.ceil((this.y+this.height-n)*t)/t;return this.x=Math.floor((this.x+n)*t)/t,this.y=Math.floor((this.y+n)*t)/t,this.width=a-this.x,this.height=o-this.y,this}enlarge(t){const n=Math.min(this.x,t.x),a=Math.max(this.x+this.width,t.x+t.width),o=Math.min(this.y,t.y),u=Math.max(this.y+this.height,t.y+t.height);return this.x=n,this.width=a-n,this.y=o,this.height=u-o,this}getBounds(t){return t=t||new Be,t.copyFrom(this),t}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Sc={default:-1};function _e(l="default"){return Sc[l]===void 0&&(Sc[l]=-1),++Sc[l]}const Xm={},ne="8.0.0";function se(l,t,n=3){if(Xm[t])return;let a=new Error().stack;typeof a>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${l}`):(a=a.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${l}`),console.warn(a),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${l}`),console.warn(a))),Xm[t]=!0}const Oy=()=>{};function qm(l){return l+=l===0?1:0,--l,l|=l>>>1,l|=l>>>2,l|=l>>>4,l|=l>>>8,l|=l>>>16,l+1}function Vm(l){return!(l&l-1)&&!!l}function Bx(l){const t={};for(const n in l)l[n]!==void 0&&(t[n]=l[n]);return t}const Pm=Object.create(null);function Dx(l){const t=Pm[l];return t===void 0&&(Pm[l]=_e("resource")),t}const By=class Dy extends sn{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,t={...Dy.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){se(ne,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Dx(t),this._resourceId}destroy(){this.emit("destroy",this),this.removeAllListeners()}};By.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Ux=By;const Uy=class Ny extends sn{constructor(t={}){super(),this.options=t,this.uid=_e("textureSource"),this._resourceType="textureSource",this._resourceId=_e("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...Ny.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new Ux(Bx(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){this.style!==t&&(this._style?.off("change",this._onStyleChange,this),this._style=t,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=_e("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,n,a){a=a||this._resolution,t=t||this.width,n=n||this.height;const o=Math.round(t*a),u=Math.round(n*a);return this.width=o/a,this.height=u/a,this._resolution=a,this.pixelWidth===o&&this.pixelHeight===u?!1:(this._refreshPOT(),this.pixelWidth=o,this.pixelHeight=u,this.emit("resize",this),this._resourceId=_e("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=Vm(this.pixelWidth)&&Vm(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};Uy.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let en=Uy;class mh extends en{constructor(t){const n=t.resource||new Float32Array(t.width*t.height*4);let a=t.format;a||(n instanceof Float32Array?a="rgba32float":n instanceof Int32Array||n instanceof Uint32Array?a="rgba32uint":n instanceof Int16Array||n instanceof Uint16Array?a="rgba16uint":(n instanceof Int8Array,a="bgra8unorm")),super({...t,resource:n,format:a}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}mh.extension=Mt.TextureSource;const $c=[];yi.handleByList(Mt.TextureSource,$c);function Nx(l={}){const t=l&&l.resource,n=t?l.resource:l,a=t?l:{resource:l};for(let o=0;o<$c.length;o++){const u=$c[o];if(u.test(n))return new u(a)}throw new Error(`Could not find a source type for resource: ${a.resource}`)}function Gx(l={},t=!1){const n=l&&l.resource,a=n?l.resource:l,o=n?l:{resource:l};if(!t&&Le.has(a))return Le.get(a);const u=new Qt({source:Nx(o)});return u.on("destroy",()=>{Le.has(a)&&Le.remove(a)}),t||Le.set(a,u),u}const Fm=new Zt;class Lx{constructor(t,n){this.mapCoord=new Zt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof n>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=n,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){this.texture!==t&&(this._texture?.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,n){n===void 0&&(n=t);const a=this.mapCoord;for(let o=0;o<t.length;o+=2){const u=t[o],h=t[o+1];n[o]=u*a.a+h*a.c+a.tx,n[o+1]=u*a.b+h*a.d+a.ty}return n}update(){const t=this._texture;this._updateID++;const n=t.uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const a=t.orig,o=t.trim;o&&(Fm.set(a.width/o.width,0,0,a.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(Fm));const u=t.source,h=this.uClampFrame,d=this.clampMargin/u._resolution,m=this.clampOffset;return h[0]=(t.frame.x+d+m)/u.width,h[1]=(t.frame.y+d+m)/u.height,h[2]=(t.frame.x+t.frame.width-d+m)/u.width,h[3]=(t.frame.y+t.frame.height-d+m)/u.height,this.uClampOffset[0]=m/u.pixelWidth,this.uClampOffset[1]=m/u.pixelHeight,this.isSimple=t.frame.width===u.width&&t.frame.height===u.height&&t.rotate===0,!0}}class Qt extends sn{constructor({source:t,label:n,frame:a,orig:o,trim:u,defaultAnchor:h,defaultBorders:d,rotate:m}={}){if(super(),this.uid=_e("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Be,this.noFrame=!1,this.isTexture=!0,this.label=n,this.source=t?.source??new en,this.noFrame=!a,a)this.frame.copyFrom(a);else{const{width:y,height:g}=this._source;this.frame.width=y,this.frame.height=g}this.orig=o||this.frame,this.trim=u,this.rotate=m??0,this.defaultAnchor=h,this.defaultBorders=d,this.destroyed=!1,this.updateUvs()}static from(t,n=!1){return typeof t=="string"?Le.get(t):t instanceof en?new Qt({source:t}):Gx(t,n)}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new Lx(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:n}=this,{width:a,height:o}=this._source,u=n.x/a,h=n.y/o,d=n.width/a,m=n.height/o;let y=this.rotate;if(y){const g=d/2,x=m/2,v=u+g,w=h+x;y=ie.add(y,ie.NW),t.x0=v+g*ie.uX(y),t.y0=w+x*ie.uY(y),y=ie.add(y,2),t.x1=v+g*ie.uX(y),t.y1=w+x*ie.uY(y),y=ie.add(y,2),t.x2=v+g*ie.uX(y),t.y2=w+x*ie.uY(y),y=ie.add(y,2),t.x3=v+g*ie.uX(y),t.y3=w+x*ie.uY(y)}else t.x0=u,t.y0=h,t.x1=u+d,t.y1=h,t.x2=u+d,t.y2=h+m,t.x3=u,t.y3=h+m}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return se(ne,"Texture.baseTexture is now Texture.source"),this._source}}Qt.EMPTY=new Qt({label:"EMPTY",source:new en({label:"EMPTY"})});Qt.EMPTY.destroy=Oy;Qt.WHITE=new Qt({source:new mh({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Qt.WHITE.destroy=Oy;function Yx(l,t,n,a){const{width:o,height:u}=n.orig,h=n.trim;if(h){const d=h.width,m=h.height;l.minX=h.x-t._x*o-a,l.maxX=l.minX+d,l.minY=h.y-t._y*u-a,l.maxY=l.minY+m}else l.minX=-t._x*o-a,l.maxX=l.minX+o,l.minY=-t._y*u-a,l.maxY=l.minY+u}var Hx={grad:.9,turn:360,rad:360/(2*Math.PI)},Ii=function(l){return typeof l=="string"?l.length>0:typeof l=="number"},we=function(l,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*l)/n+0},mi=function(l,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),l>n?n:l>t?l:t},Gy=function(l){return(l=isFinite(l)?l%360:0)>0?l:l+360},Zm=function(l){return{r:mi(l.r,0,255),g:mi(l.g,0,255),b:mi(l.b,0,255),a:mi(l.a)}},Ac=function(l){return{r:we(l.r),g:we(l.g),b:we(l.b),a:we(l.a,3)}},jx=/^#([0-9a-f]{3,8})$/i,Or=function(l){var t=l.toString(16);return t.length<2?"0"+t:t},Ly=function(l){var t=l.r,n=l.g,a=l.b,o=l.a,u=Math.max(t,n,a),h=u-Math.min(t,n,a),d=h?u===t?(n-a)/h:u===n?2+(a-t)/h:4+(t-n)/h:0;return{h:60*(d<0?d+6:d),s:u?h/u*100:0,v:u/255*100,a:o}},Yy=function(l){var t=l.h,n=l.s,a=l.v,o=l.a;t=t/360*6,n/=100,a/=100;var u=Math.floor(t),h=a*(1-n),d=a*(1-(t-u)*n),m=a*(1-(1-t+u)*n),y=u%6;return{r:255*[a,d,h,h,m,a][y],g:255*[m,a,a,d,h,h][y],b:255*[h,h,m,a,a,d][y],a:o}},Wm=function(l){return{h:Gy(l.h),s:mi(l.s,0,100),l:mi(l.l,0,100),a:mi(l.a)}},Qm=function(l){return{h:we(l.h),s:we(l.s),l:we(l.l),a:we(l.a,3)}},Im=function(l){return Yy((n=(t=l).s,{h:t.h,s:(n*=((a=t.l)<50?a:100-a)/100)>0?2*n/(a+n)*100:0,v:a+n,a:t.a}));var t,n,a},al=function(l){return{h:(t=Ly(l)).h,s:(o=(200-(n=t.s))*(a=t.v)/100)>0&&o<200?n*a/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,a,o},kx=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xx=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,qx=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Vx=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,th={string:[[function(l){var t=jx.exec(l);return t?(l=t[1]).length<=4?{r:parseInt(l[0]+l[0],16),g:parseInt(l[1]+l[1],16),b:parseInt(l[2]+l[2],16),a:l.length===4?we(parseInt(l[3]+l[3],16)/255,2):1}:l.length===6||l.length===8?{r:parseInt(l.substr(0,2),16),g:parseInt(l.substr(2,2),16),b:parseInt(l.substr(4,2),16),a:l.length===8?we(parseInt(l.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(l){var t=qx.exec(l)||Vx.exec(l);return t?t[2]!==t[4]||t[4]!==t[6]?null:Zm({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(l){var t=kx.exec(l)||Xx.exec(l);if(!t)return null;var n,a,o=Wm({h:(n=t[1],a=t[2],a===void 0&&(a="deg"),Number(n)*(Hx[a]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Im(o)},"hsl"]],object:[[function(l){var t=l.r,n=l.g,a=l.b,o=l.a,u=o===void 0?1:o;return Ii(t)&&Ii(n)&&Ii(a)?Zm({r:Number(t),g:Number(n),b:Number(a),a:Number(u)}):null},"rgb"],[function(l){var t=l.h,n=l.s,a=l.l,o=l.a,u=o===void 0?1:o;if(!Ii(t)||!Ii(n)||!Ii(a))return null;var h=Wm({h:Number(t),s:Number(n),l:Number(a),a:Number(u)});return Im(h)},"hsl"],[function(l){var t=l.h,n=l.s,a=l.v,o=l.a,u=o===void 0?1:o;if(!Ii(t)||!Ii(n)||!Ii(a))return null;var h=(function(d){return{h:Gy(d.h),s:mi(d.s,0,100),v:mi(d.v,0,100),a:mi(d.a)}})({h:Number(t),s:Number(n),v:Number(a),a:Number(u)});return Yy(h)},"hsv"]]},Km=function(l,t){for(var n=0;n<t.length;n++){var a=t[n][0](l);if(a)return[a,t[n][1]]}return[null,void 0]},Px=function(l){return typeof l=="string"?Km(l.trim(),th.string):typeof l=="object"&&l!==null?Km(l,th.object):[null,void 0]},wc=function(l,t){var n=al(l);return{h:n.h,s:mi(n.s+100*t,0,100),l:n.l,a:n.a}},Mc=function(l){return(299*l.r+587*l.g+114*l.b)/1e3/255},Jm=function(l,t){var n=al(l);return{h:n.h,s:n.s,l:mi(n.l+100*t,0,100),a:n.a}},eh=(function(){function l(t){this.parsed=Px(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return l.prototype.isValid=function(){return this.parsed!==null},l.prototype.brightness=function(){return we(Mc(this.rgba),2)},l.prototype.isDark=function(){return Mc(this.rgba)<.5},l.prototype.isLight=function(){return Mc(this.rgba)>=.5},l.prototype.toHex=function(){return t=Ac(this.rgba),n=t.r,a=t.g,o=t.b,h=(u=t.a)<1?Or(we(255*u)):"","#"+Or(n)+Or(a)+Or(o)+h;var t,n,a,o,u,h},l.prototype.toRgb=function(){return Ac(this.rgba)},l.prototype.toRgbString=function(){return t=Ac(this.rgba),n=t.r,a=t.g,o=t.b,(u=t.a)<1?"rgba("+n+", "+a+", "+o+", "+u+")":"rgb("+n+", "+a+", "+o+")";var t,n,a,o,u},l.prototype.toHsl=function(){return Qm(al(this.rgba))},l.prototype.toHslString=function(){return t=Qm(al(this.rgba)),n=t.h,a=t.s,o=t.l,(u=t.a)<1?"hsla("+n+", "+a+"%, "+o+"%, "+u+")":"hsl("+n+", "+a+"%, "+o+"%)";var t,n,a,o,u},l.prototype.toHsv=function(){return t=Ly(this.rgba),{h:we(t.h),s:we(t.s),v:we(t.v),a:we(t.a,3)};var t},l.prototype.invert=function(){return Ei({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},l.prototype.saturate=function(t){return t===void 0&&(t=.1),Ei(wc(this.rgba,t))},l.prototype.desaturate=function(t){return t===void 0&&(t=.1),Ei(wc(this.rgba,-t))},l.prototype.grayscale=function(){return Ei(wc(this.rgba,-1))},l.prototype.lighten=function(t){return t===void 0&&(t=.1),Ei(Jm(this.rgba,t))},l.prototype.darken=function(t){return t===void 0&&(t=.1),Ei(Jm(this.rgba,-t))},l.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},l.prototype.alpha=function(t){return typeof t=="number"?Ei({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):we(this.rgba.a,3);var n},l.prototype.hue=function(t){var n=al(this.rgba);return typeof t=="number"?Ei({h:t,s:n.s,l:n.l,a:n.a}):we(n.h)},l.prototype.isEqual=function(t){return this.toHex()===Ei(t).toHex()},l})(),Ei=function(l){return l instanceof eh?l:new eh(l)},$m=[],Fx=function(l){l.forEach(function(t){$m.indexOf(t)<0&&(t(eh,th),$m.push(t))})};function Zx(l,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},a={};for(var o in n)a[n[o]]=o;var u={};l.prototype.toName=function(h){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,m,y=a[this.toHex()];if(y)return y;if(h?.closest){var g=this.toRgb(),x=1/0,v="black";if(!u.length)for(var w in n)u[w]=new l(n[w]).toRgb();for(var A in n){var D=(d=g,m=u[A],Math.pow(d.r-m.r,2)+Math.pow(d.g-m.g,2)+Math.pow(d.b-m.b,2));D<x&&(x=D,v=A)}return v}},t.string.push([function(h){var d=h.toLowerCase(),m=d==="transparent"?"#0000":n[d];return m?new l(m).toRgb():null},"name"])}Fx([Zx]);const Ws=class tl{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof tl)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._normalize(t),this._value=this._cloneSource(t))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,n){const a=typeof t;if(a!==typeof n)return!1;if(a==="number"||a==="string"||t instanceof Number)return t===n;if(Array.isArray(t)&&Array.isArray(n)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(n))return t.length!==n.length?!1:t.every((u,h)=>u===n[h]);if(t!==null&&n!==null){const u=Object.keys(t),h=Object.keys(n);return u.length!==h.length?!1:u.every(d=>t[d]===n[d])}return t===n}toRgba(){const[t,n,a,o]=this._components;return{r:t,g:n,b:a,a:o}}toRgb(){const[t,n,a]=this._components;return{r:t,g:n,b:a}}toRgbaString(){const[t,n,a]=this.toUint8RgbArray();return`rgba(${t},${n},${a},${this.alpha})`}toUint8RgbArray(t){const[n,a,o]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t=t||this._arrayRgb,t[0]=Math.round(n*255),t[1]=Math.round(a*255),t[2]=Math.round(o*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t=t||this._arrayRgba;const[n,a,o,u]=this._components;return t[0]=n,t[1]=a,t[2]=o,t[3]=u,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t=t||this._arrayRgb;const[n,a,o]=this._components;return t[0]=n,t[1]=a,t[2]=o,t}toNumber(){return this._int}toBgrNumber(){const[t,n,a]=this.toUint8RgbArray();return(a<<16)+(n<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[n,a,o,u]=tl._temp.setValue(t)._components;return this._components[0]*=n,this._components[1]*=a,this._components[2]*=o,this._components[3]*=u,this._refreshInt(),this._value=null,this}premultiply(t,n=!0){return n&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,n=!0){if(t===1)return(255<<24)+this._int;if(t===0)return n?0:this._int;let a=this._int>>16&255,o=this._int>>8&255,u=this._int&255;return n&&(a=a*t+.5|0,o=o*t+.5|0,u=u*t+.5|0),(t*255<<24)+(a<<16)+(o<<8)+u}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const n=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-n.length)+n}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let n,a,o,u;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const h=t;n=(h>>16&255)/255,a=(h>>8&255)/255,o=(h&255)/255,u=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[n,a,o,u=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[n,a,o,u=255]=t,n/=255,a/=255,o/=255,u/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const d=tl.HEX_PATTERN.exec(t);d&&(t=`#${d[2]}`)}const h=Ei(t);h.isValid()&&({r:n,g:a,b:o,a:u}=h.rgba,n/=255,a/=255,o/=255)}if(n!==void 0)this._components[0]=n,this._components[1]=a,this._components[2]=o,this._components[3]=u,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,n,a]=this._components;this._int=(t*255<<16)+(n*255<<8)+(a*255|0)}_clamp(t,n=0,a=1){return typeof t=="number"?Math.min(Math.max(t,n),a):(t.forEach((o,u)=>{t[u]=Math.min(Math.max(o,n),a)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof tl||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};Ws.shared=new Ws;Ws._temp=new Ws;Ws.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Ne=Ws;const Wx={cullArea:null,cullable:!1,cullableChildren:!0};function Qx(l,t,n){const a=l.length;let o;if(t>=a||n===0)return;n=t+n>a?a-t:n;const u=a-n;for(o=t;o<u;++o)l[o]=l[o+n];l.length=u}const Ix={allowChildren:!0,removeChildren(l=0,t){const n=t??this.children.length,a=n-l,o=[];if(a>0&&a<=n){for(let u=n-1;u>=l;u--){const h=this.children[u];h&&(this.renderGroup&&this.renderGroup.removeChild(h),o.push(h),h.parent=null)}Qx(this.children,l,n);for(let u=0;u<o.length;++u)this.emit("childRemoved",o[u],this,u),o[u].emit("removed",this);return o}else if(a===0&&this.children.length===0)return o;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(l){const t=this.getChildAt(l);return this.removeChild(t)},getChildAt(l){if(l<0||l>=this.children.length)throw new Error(`getChildAt: Index (${l}) does not exist.`);return this.children[l]},setChildIndex(l,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(l),this.addChildAt(l,t)},getChildIndex(l){const t=this.children.indexOf(l);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(l,t){this.allowChildren||se(ne,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:n}=this;if(t<0||t>n.length)throw new Error(`${l}addChildAt: The index ${t} supplied is out of bounds ${n.length}`);if(l.parent){const a=l.parent.children.indexOf(l);if(l.parent===this&&a===t)return l;a!==-1&&l.parent.children.splice(a,1)}return t===n.length?n.push(l):n.splice(t,0,l),l.parent=this,l.didChange=!0,l.didViewUpdate=!1,l._updateFlags=15,this.renderGroup&&this.renderGroup.addChild(l),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",l,this,t),l.emit("added",this),l},swapChildren(l,t){if(l===t)return;const n=this.getChildIndex(l),a=this.getChildIndex(t);this.children[n]=t,this.children[a]=l},removeFromParent(){this.parent?.removeChild(this)}};class Kx{constructor(t){this.pipe="filter",this.priority=1,this.filters=t?.filters,this.filterArea=t?.filterArea}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}const Hy=[];function Jx(l,t){const n=Hy.pop()||new Kx;return n.filters=l,n.filterArea=t,n}function $x(l){l.filters=null,Hy.push(l)}class yh{constructor(t,n){this._pool=[],this._count=0,this._index=0,this._classType=t,n&&this.prepopulate(n)}prepopulate(t){for(let n=0;n<t;n++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){let n;return this._index>0?n=this._pool[--this._index]:n=new this._classType,n.init?.(t),n}return(t){t.reset?.(),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}}class tb{constructor(){this._poolsByClass=new Map}prepopulate(t,n){this.getPool(t).prepopulate(n)}get(t,n){return this.getPool(t).get(n)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new yh(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(n=>{const a=t[n._classType.name]?n._classType.name+n._classType.ID:n._classType.name;t[a]={free:n.totalFree,used:n.totalUsed,size:n.totalSize}}),t}}const $i=new tb;class eb{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let n=0;n<this._tests.length;n++){const a=this._tests[n];if(a.test(t))return $i.get(a.maskClass,t)}return t}returnMaskEffect(t){$i.return(t)}}const ih=new eb;yi.handleByList(Mt.MaskEffect,ih._effectClasses);const ib={_mask:null,_filters:null,effects:[],addEffect(l){this.effects.indexOf(l)===-1&&(this.effects.push(l),this.effects.sort((n,a)=>n.priority-a.priority),this.renderGroup&&(this.renderGroup.structureDidChange=!0),this._updateIsSimple())},removeEffect(l){const t=this.effects.indexOf(l);t!==-1&&(this.effects.splice(t,1),!this.isRenderGroupRoot&&this.renderGroup&&(this.renderGroup.structureDidChange=!0),this._updateIsSimple())},set mask(l){if(this._mask||(this._mask={mask:null,effect:null}),this._mask.mask===l||(this._mask.effect&&(this.removeEffect(this._mask.effect),ih.returnMaskEffect(this._mask.effect),this._mask.effect=null),this._mask.mask=l,l==null))return;const t=ih.getMaskEffect(l);this._mask.effect=t,this.addEffect(t)},get mask(){return this._mask?.mask},set filters(l){!Array.isArray(l)&&l&&(l=[l]),this._filters||(this._filters={filters:null,effect:null,filterArea:null});const t=l&&l.length>0,n=this._filters.effect&&!t||!this._filters.effect&&t;if(this._filters.filters=Object.freeze(l),n)if(t){const a=Jx(l,this.filterArea);this._filters.effect=a,this.addEffect(a)}else this.removeEffect(this._filters.effect),$x(this._filters.effect),this._filters.effect=null},get filters(){return this._filters?.filters},set filterArea(l){this._filters||(this._filters={filters:null,effect:null,filterArea:null}),this._filters.filterArea=l},get filterArea(){return this._filters?.filterArea}},nb={label:null,get name(){return se(ne,"Container.name property has been removed, use Container.label instead"),this.label},set name(l){se(ne,"Container.name property has been removed, use Container.label instead"),this.label=l},getChildByName(l,t=!1){return this.getChildByLabel(l,t)},getChildByLabel(l,t=!1){const n=this.children;for(let a=0;a<n.length;a++){const o=n[a];if(o.label===l||l instanceof RegExp&&l.test(o.label))return o}if(t)for(let a=0;a<n.length;a++){const u=n[a].getChildByLabel(l,!0);if(u)return u}return null},getChildrenByLabel(l,t=!1,n=[]){const a=this.children;for(let o=0;o<a.length;o++){const u=a[o];(u.label===l||l instanceof RegExp&&l.test(u.label))&&n.push(u)}if(t)for(let o=0;o<a.length;o++)a[o].getChildrenByLabel(l,!0,n);return n}},ty=new Zt;class Ri{constructor(t=1/0,n=1/0,a=-1/0,o=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=ty,this.minX=t,this.minY=n,this.maxX=a,this.maxY=o}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Be);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=ty,this}set(t,n,a,o){this.minX=t,this.minY=n,this.maxX=a,this.maxY=o}addFrame(t,n,a,o,u){u||(u=this.matrix);const h=u.a,d=u.b,m=u.c,y=u.d,g=u.tx,x=u.ty;let v=this.minX,w=this.minY,A=this.maxX,D=this.maxY,T=h*t+m*n+g,G=d*t+y*n+x;T<v&&(v=T),G<w&&(w=G),T>A&&(A=T),G>D&&(D=G),T=h*a+m*n+g,G=d*a+y*n+x,T<v&&(v=T),G<w&&(w=G),T>A&&(A=T),G>D&&(D=G),T=h*t+m*o+g,G=d*t+y*o+x,T<v&&(v=T),G<w&&(w=G),T>A&&(A=T),G>D&&(D=G),T=h*a+m*o+g,G=d*a+y*o+x,T<v&&(v=T),G<w&&(w=G),T>A&&(A=T),G>D&&(D=G),this.minX=v,this.minY=w,this.maxX=A,this.maxY=D}addRect(t,n){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,n)}addBounds(t,n){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,n)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const n=this.minX,a=this.minY,o=this.maxX,u=this.maxY,{a:h,b:d,c:m,d:y,tx:g,ty:x}=t;let v=h*n+m*a+g,w=d*n+y*a+x;this.minX=v,this.minY=w,this.maxX=v,this.maxY=w,v=h*o+m*a+g,w=d*o+y*a+x,this.minX=v<this.minX?v:this.minX,this.minY=w<this.minY?w:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=w>this.maxY?w:this.maxY,v=h*n+m*u+g,w=d*n+y*u+x,this.minX=v<this.minX?v:this.minX,this.minY=w<this.minY?w:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=w>this.maxY?w:this.maxY,v=h*o+m*u+g,w=d*o+y*u+x,this.minX=v<this.minX?v:this.minX,this.minY=w<this.minY?w:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=w>this.maxY?w:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}pad(t,n=t){return this.minX-=t,this.maxX+=t,this.minY-=n,this.maxY+=n,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Ri(this.minX,this.minY,this.maxX,this.maxY)}scale(t,n=t){return this.minX*=t,this.minY*=n,this.maxX*=t,this.maxY*=n,this}get x(){return this.minX}set x(t){const n=this.maxX-this.minX;this.minX=t,this.maxX=t+n}get y(){return this.minY}set y(t){const n=this.maxY-this.minY;this.minY=t,this.maxY=t+n}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,n,a,o){let u=this.minX,h=this.minY,d=this.maxX,m=this.maxY;o||(o=this.matrix);const y=o.a,g=o.b,x=o.c,v=o.d,w=o.tx,A=o.ty;for(let D=n;D<a;D+=2){const T=t[D],G=t[D+1],U=y*T+x*G+w,L=g*T+v*G+A;u=U<u?U:u,h=L<h?L:h,d=U>d?U:d,m=L>m?L:m}this.minX=u,this.minY=h,this.maxX=d,this.maxY=m}containsPoint(t,n){return this.minX<=t&&this.minY<=n&&this.maxX>=t&&this.maxY>=n}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}}const tn=new yh(Zt),Qs=new yh(Ri);function jy(l,t,n){n.clear();let a,o;return l.parent?t?a=l.parent.worldTransform:(o=tn.get().identity(),a=qr(l,o)):a=Zt.IDENTITY,ky(l,n,a,t),o&&tn.return(o),n.isValid||n.set(0,0,0,0),n}function ky(l,t,n,a){if(!l.visible||!l.measurable)return;let o;a?o=l.worldTransform:(l.updateLocalTransform(),o=tn.get(),o.appendFrom(l.localTransform,n));const u=t,h=!!l.effects.length;if(h&&(t=Qs.get().clear()),l.boundsArea)t.addRect(l.boundsArea,o);else{l.addBounds&&(t.matrix=o,l.addBounds(t));for(let d=0;d<l.children.length;d++)ky(l.children[d],t,o,a)}if(h){for(let d=0;d<l.effects.length;d++)l.effects[d].addBounds?.(t);u.addBounds(t,Zt.IDENTITY),Qs.return(t)}a||tn.return(o)}function qr(l,t){const n=l.parent;return n&&(qr(n,t),n.updateLocalTransform(),t.append(n.localTransform)),t}function Xy(l,t,n){return t.clear(),n||(n=Zt.IDENTITY),qy(l,t,n,l,!0),t.isValid||t.set(0,0,0,0),t}function qy(l,t,n,a,o){let u;if(o)u=tn.get(),u=n.copyTo(u);else{if(!l.visible||!l.measurable)return;l.updateLocalTransform();const m=l.localTransform;u=tn.get(),u.appendFrom(m,n)}const h=t,d=!!l.effects.length;if(d&&(t=Qs.get().clear()),l.boundsArea)t.addRect(l.boundsArea,u);else{l.renderPipeId&&(t.matrix=u,l.addBounds(t));const m=l.children;for(let y=0;y<m.length;y++)qy(m[y],t,u,a,!1)}if(d){for(let m=0;m<l.effects.length;m++)l.effects[m].addLocalBounds?.(t,a);h.addBounds(t,Zt.IDENTITY),Qs.return(t)}tn.return(u)}function Vy(l,t){const n=l.children;for(let a=0;a<n.length;a++){const o=n[a],u=(o.uid&255)<<24|o._didChangeId&16777215;t.data[t.index]!==u&&(t.data[t.index]=u,t.didChange=!0),t.index++,o.children.length&&Vy(o,t)}return t.didChange}const sb=new Zt,ab={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(l,t){const n=Math.sign(this.scale.x)||1;t!==0?this.scale.x=l/t*n:this.scale.x=n},_setHeight(l,t){const n=Math.sign(this.scale.y)||1;t!==0?this.scale.y=l/t*n:this.scale.y=n},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Ri});const l=this._localBoundsCacheData;return l.index=1,l.didChange=!1,l.data[0]!==this._didChangeId>>12&&(l.didChange=!0,l.data[0]=this._didChangeId>>12),Vy(this,l),l.didChange&&Xy(this,l.localBounds,sb),l.localBounds},getBounds(l,t){return jy(this,l,t||new Ri)}},lb={_onRender:null,set onRender(l){const t=this.renderGroup;if(!l){this._onRender&&t?.removeOnRender(this),this._onRender=null;return}this._onRender||t?.addOnRender(this),this._onRender=l},get onRender(){return this._onRender}},rb={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(l){this._zIndex!==l&&(this._zIndex=l,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(ob))}};function ob(l,t){return l._zIndex-t._zIndex}const ub={getGlobalPosition(l=new Ue,t=!1){return this.parent?this.parent.toGlobal(this._position,l,t):(l.x=this._position.x,l.y=this._position.y),l},toGlobal(l,t,n=!1){if(!n){this.updateLocalTransform();const a=qr(this,new Zt);return a.append(this.localTransform),a.apply(l,t)}return this.worldTransform.apply(l,t)},toLocal(l,t,n,a){if(t&&(l=t.toGlobal(l,n,a)),!a){this.updateLocalTransform();const o=qr(this,new Zt);return o.append(this.localTransform),o.applyInverse(l,n)}return this.worldTransform.applyInverse(l,n)}};class Py{constructor(){this.uid=_e("instructionSet"),this.instructions=[],this.instructionSize=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}class cb{constructor(t){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this._children=[],this.worldTransform=new Zt,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new Py,this._onRenderContainers=[],this.root=t,this.addChild(t)}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.onChildUpdate(t.root),this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){t.root.didChange&&this._removeChildFromUpdate(t.root);const n=this.renderGroupChildren.indexOf(t);n>-1&&this.renderGroupChildren.splice(n,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t!==this.root&&(this._children.push(t),t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t._onRender&&this.addOnRender(t)),t.renderGroup){if(t.renderGroup.root===t){this.addRenderGroupChild(t.renderGroup);return}}else t.renderGroup=this,t.didChange=!0;const n=t.children;t.isRenderGroupRoot||this.onChildUpdate(t);for(let a=0;a<n.length;a++)this.addChild(n[a])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&this.removeOnRender(t),t.renderGroup.root!==t){const a=t.children;for(let o=0;o<a.length;o++)this.removeChild(a[o]);t.didChange&&t.renderGroup._removeChildFromUpdate(t),t.renderGroup=null}else this._removeRenderGroupChild(t.renderGroup);const n=this._children.indexOf(t);n>-1&&this._children.splice(n,1)}onChildUpdate(t){let n=this.childrenToUpdate[t.relativeRenderGroupDepth];n||(n=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),n.list[n.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(t.didViewUpdate=!1,this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t))}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}_removeChildFromUpdate(t){const n=this.childrenToUpdate[t.relativeRenderGroupDepth];if(!n)return;const a=n.list.indexOf(t);a>-1&&n.list.splice(a,1),n.index--}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(){for(let t=0;t<this._onRenderContainers.length;t++)this._onRenderContainers[t]._onRender()}}function hb(l,t,n={}){for(const a in t)!n[a]&&t[a]!==void 0&&(l[a]=t[a])}const Cc=new Fe(null),Tc=new Fe(null),Ec=new Fe(null,1,1),ey=1,fb=2,zc=4;class ge extends sn{constructor(t={}){super(),this.uid=_e("renderable"),this._updateFlags=15,this.isRenderGroupRoot=!1,this.renderGroup=null,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new Zt,this.relativeGroupTransform=new Zt,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Fe(this,0,0),this._scale=Ec,this._pivot=Tc,this._skew=Cc,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didChangeId=0,this._didLocalTransformChangeId=-1,hb(this,t,{children:!0,parent:!0,effects:!0}),t.children?.forEach(n=>this.addChild(n)),this.effects=[],t.parent?.addChild(this)}static mixin(t){Object.defineProperties(ge.prototype,Object.getOwnPropertyDescriptors(t))}addChild(...t){if(this.allowChildren||se(ne,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let a=0;a<t.length;a++)this.addChild(t[a]);return t[0]}const n=t[0];return n.parent===this?(this.children.splice(this.children.indexOf(n),1),this.children.push(n),this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0),n):(n.parent&&n.parent.removeChild(n),this.children.push(n),this.sortableChildren&&(this.sortDirty=!0),n.parent=this,n.didChange=!0,n.didViewUpdate=!1,n._updateFlags=15,this.renderGroup&&this.renderGroup.addChild(n),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this),n._zIndex!==0&&n.depthOfChildModified(),n)}removeChild(...t){if(t.length>1){for(let o=0;o<t.length;o++)this.removeChild(t[o]);return t[0]}const n=t[0],a=this.children.indexOf(n);return a>-1&&(this.children.splice(a,1),this.renderGroup&&this.renderGroup.removeChild(n)),n.parent=null,this.emit("childRemoved",n,this,a),n.emit("removed",this),n}_onUpdate(t){if(t&&t===this._skew&&this._updateSkew(),this._didChangeId++,!this.didChange)if(this.didChange=!0,this.isRenderGroupRoot){const n=this.renderGroup.renderGroupParent;n&&n.onChildUpdate(this)}else this.renderGroup&&this.renderGroup.onChildUpdate(this)}set isRenderGroup(t){if(this.isRenderGroupRoot&&t===!1)throw new Error("[Pixi] cannot undo a render group just yet");t&&this.enableRenderGroup()}get isRenderGroup(){return this.isRenderGroupRoot}enableRenderGroup(){if(this.renderGroup&&this.renderGroup.root===this)return;this.isRenderGroupRoot=!0;const t=this.renderGroup;if(t&&t.removeChild(this),this.renderGroup=new cb(this),t){for(let n=0;n<t.renderGroupChildren.length;n++){const a=t.renderGroupChildren[n];let o=a.root;for(;o;){if(o===this){this.renderGroup.addRenderGroupChild(a);break}o=o.parent}}t.addRenderGroupChild(this.renderGroup)}this._updateIsSimple(),this.groupTransform=Zt.IDENTITY}_updateIsSimple(){this.isSimple=!this.isRenderGroupRoot&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Zt),this.renderGroup&&(this.isRenderGroupRoot?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this._worldTransform.appendFrom(this.relativeGroupTransform,this.renderGroup.worldTransform)),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*Tx}set angle(t){this.rotation=t*Ex}get pivot(){return this._pivot===Tc&&(this._pivot=new Fe(this,0,0)),this._pivot}set pivot(t){this._pivot===Tc&&(this._pivot=new Fe(this,0,0)),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===Cc&&(this._skew=new Fe(this,0,0)),this._skew}set skew(t){this._skew===Cc&&(this._skew=new Fe(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===Ec&&(this._scale=new Fe(this,1,1)),this._scale}set scale(t){this._scale===Ec&&(this._scale=new Fe(this,0,0)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const n=this.getLocalBounds().width;this._setWidth(t,n)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const n=this.getLocalBounds().height;this._setHeight(t,n)}getSize(t){t||(t={});const n=this.getLocalBounds();return t.width=Math.abs(this.scale.x*n.width),t.height=Math.abs(this.scale.y*n.height),t}setSize(t,n){const a=this.getLocalBounds();let o,u;typeof t!="object"?(o=t,u=n??t):(o=t.width,u=t.height??t.width),o!==void 0&&this._setWidth(o,a.width),u!==void 0&&this._setHeight(u,a.height)}_updateSkew(){const t=this._rotation,n=this._skew;this._cx=Math.cos(t+n._y),this._sx=Math.sin(t+n._y),this._cy=-Math.sin(t-n._x),this._sy=Math.cos(t-n._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){if((this._didLocalTransformChangeId&15)===this._didChangeId)return;this._didLocalTransformChangeId=this._didChangeId;const t=this.localTransform,n=this._scale,a=this._pivot,o=this._position,u=n._x,h=n._y,d=a._x,m=a._y;t.a=this._cx*u,t.b=this._sx*u,t.c=this._cy*h,t.d=this._sy*h,t.tx=o._x-(d*t.a+m*t.c),t.ty=o._y-(d*t.b+m*t.d)}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=ey,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const a=Ne.shared.setValue(t??16777215).toBgrNumber();a!==this.localColor&&(this.localColor=a,this._updateFlags|=ey,this._onUpdate())}get tint(){const t=this.localColor;return((t&255)<<16)+(t&65280)+(t>>16&255)}set blendMode(t){this.localBlendMode!==t&&(this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0),this._updateFlags|=fb,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const n=t?1:0;(this.localDisplayStatus&2)>>1!==n&&(this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0),this._updateFlags|=zc,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const n=t?1:0;(this.localDisplayStatus&4)>>2!==n&&(this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0),this._updateFlags|=zc,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const n=t?1:0;(this.localDisplayStatus&1)!==n&&(this._updateFlags|=zc,this.localDisplayStatus^=1,this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){if(this.destroyed)return;this.destroyed=!0,this.removeFromParent(),this.parent=null,this._mask=null,this._filters=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners();const n=typeof t=="boolean"?t:t?.children,a=this.removeChildren(0,this.children.length);if(n)for(let o=0;o<a.length;++o)a[o].destroy(t)}}ge.mixin(Ix);ge.mixin(ub);ge.mixin(lb);ge.mixin(ab);ge.mixin(ib);ge.mixin(nb);ge.mixin(rb);ge.mixin(Wx);class Is extends ge{constructor(t=Qt.EMPTY){t instanceof Qt&&(t={texture:t});const{texture:n,anchor:a,roundPixels:o,width:u,height:h,...d}=t;super({label:"Sprite",...d}),this.renderPipeId="sprite",this.batched=!0,this._didSpriteUpdate=!1,this._bounds={minX:0,maxX:1,minY:0,maxY:0},this._sourceBounds={minX:0,maxX:1,minY:0,maxY:0},this._boundsDirty=!0,this._sourceBoundsDirty=!0,this._roundPixels=0,this._anchor=new Fe({_onUpdate:()=>{this.onViewUpdate()}}),a&&(this.anchor=a),this.texture=n,this.allowChildren=!1,this.roundPixels=o??!1,u&&(this.width=u),h&&(this.height=h)}static from(t,n=!1){return t instanceof Qt?new Is(t):new Is(Qt.from(t,n))}set texture(t){t||(t=Qt.EMPTY),this._texture!==t&&(this._texture=t,this.onViewUpdate())}get texture(){return this._texture}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}get sourceBounds(){return this._sourceBoundsDirty&&(this._updateSourceBounds(),this._sourceBoundsDirty=!1),this._sourceBounds}containsPoint(t){const n=this.sourceBounds;return t.x>=n.maxX&&t.x<=n.minX&&t.y>=n.maxY&&t.y<=n.minY}addBounds(t){const n=this._texture.trim?this.sourceBounds:this.bounds;t.addFrame(n.minX,n.minY,n.maxX,n.maxY)}onViewUpdate(){this._didChangeId+=4096,this._didSpriteUpdate=!0,this._sourceBoundsDirty=this._boundsDirty=!0,!this.didViewUpdate&&(this.didViewUpdate=!0,this.renderGroup&&this.renderGroup.onChildViewUpdate(this))}_updateBounds(){Yx(this._bounds,this._anchor,this._texture,0)}_updateSourceBounds(){const t=this._anchor,n=this._texture,a=this._sourceBounds,{width:o,height:u}=n.orig;a.maxX=-t._x*o,a.minX=a.maxX+o,a.maxY=-t._y*u,a.minY=a.maxY+u}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t?.texture){const a=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(a)}this._texture=null,this._bounds=null,this._sourceBounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width)}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height)}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,n){let a,o;typeof t!="object"?(a=t,o=n??t):(a=t.width,o=t.height??t.width),a!==void 0&&this._setWidth(a,this._texture.orig.width),o!==void 0&&this._setHeight(o,this._texture.orig.height)}}const db=new Ri;function Fy(l,t,n){const a=db;l.measurable=!0,jy(l,n,a),t.addBoundsMask(a),l.measurable=!1}function Zy(l,t,n){const a=Qs.get();l.measurable=!0;const o=tn.get().identity(),u=Wy(l,n,o);Xy(l,a,u),l.measurable=!1,t.addBoundsMask(a),tn.return(o),Qs.return(a)}function Wy(l,t,n){return l?(l!==t&&(Wy(l.parent,t,n),l.updateLocalTransform(),n.append(l.localTransform)),n):(Oe("Mask bounds, renderable is not inside the root container"),n)}class Qy{constructor(t){this.priority=0,this.pipe="alphaMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof Is),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,n){Fy(this.mask,t,n)}addLocalBounds(t,n){Zy(this.mask,t,n)}containsPoint(t,n){const a=this.mask;return n(a,t)}destroy(){this.reset()}static test(t){return t instanceof Is}}Qy.extension=Mt.MaskEffect;class Iy{constructor(t){this.priority=0,this.pipe="colorMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}Iy.extension=Mt.MaskEffect;class Ky{constructor(t){this.priority=0,this.pipe="stencilMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,n){Fy(this.mask,t,n)}addLocalBounds(t,n){Zy(this.mask,t,n)}containsPoint(t,n){const a=this.mask;return n(a,t)}destroy(){this.reset()}static test(t){return t instanceof ge}}Ky.extension=Mt.MaskEffect;const mb={createCanvas:(l,t)=>{const n=document.createElement("canvas");return n.width=l,n.height=t,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(l,t)=>fetch(l,t),parseXML:l=>new DOMParser().parseFromString(l,"text/xml")};let iy=mb;const Me={get(){return iy},set(l){iy=l}};class Jy extends en{constructor(t){t.resource||(t.resource=Me.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity;const n=t.resource;(this.pixelWidth!==n.width||this.pixelWidth!==n.height)&&this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,n=this.height,a=this._resolution){const o=super.resize(t,n,a);return o&&this.resizeCanvas(),o}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}}Jy.extension=Mt.TextureSource;class hl extends en{constructor(t){if(t.resource&&globalThis.HTMLImageElement&&t.resource instanceof HTMLImageElement){const n=Me.get().createCanvas(t.resource.width,t.resource.height);n.getContext("2d").drawImage(t.resource,0,0),t.resource=n,Oe("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap}}hl.extension=Mt.TextureSource;var nh=(l=>(l[l.INTERACTION=50]="INTERACTION",l[l.HIGH=25]="HIGH",l[l.NORMAL=0]="NORMAL",l[l.LOW=-25]="LOW",l[l.UTILITY=-50]="UTILITY",l))(nh||{});class Rc{constructor(t,n=null,a=0,o=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=n,this.priority=a,this._once=o}match(t,n=null){return this._fn===t&&this._context===n}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const n=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=t?null:n,this.previous=null,n}}const $y=class ni{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Rc(null,null,1/0),this.deltaMS=1/ni.targetFPMS,this.elapsedMS=1/ni.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,n,a=nh.NORMAL){return this._addListener(new Rc(t,n,a))}addOnce(t,n,a=nh.NORMAL){return this._addListener(new Rc(t,n,a,!0))}_addListener(t){let n=this._head.next,a=this._head;if(!n)t.connect(a);else{for(;n;){if(t.priority>n.priority){t.connect(a);break}a=n,n=n.next}t.previous||t.connect(a)}return this._startIfPossible(),this}remove(t,n){let a=this._head.next;for(;a;)a.match(t,n)?a=a.destroy():a=a.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,n=this._head;for(;n=n.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let n;if(t>this.lastTime){if(n=this.elapsedMS=t-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const u=t-this._lastFrame|0;if(u<this._minElapsedMS)return;this._lastFrame=t-u%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*ni.targetFPMS;const a=this._head;let o=a.next;for(;o;)o=o.emit(this);a.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const n=Math.min(this.maxFPS,t),a=Math.min(Math.max(0,n)/1e3,ni.targetFPMS);this._maxElapsedMS=1/a}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const n=Math.max(this.minFPS,t);this._minElapsedMS=1/(n/1e3)}}static get shared(){if(!ni._shared){const t=ni._shared=new ni;t.autoStart=!0,t._protected=!0}return ni._shared}static get system(){if(!ni._system){const t=ni._system=new ni;t.autoStart=!0,t._protected=!0}return ni._system}};$y.targetFPMS=.06;let Br=$y,Oc;async function tg(){return Oc??(Oc=(async()=>{const t=document.createElement("canvas").getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const n=await new Promise(h=>{const d=document.createElement("video");d.onloadeddata=()=>h(d),d.onerror=()=>h(null),d.autoplay=!1,d.crossOrigin="anonymous",d.preload="auto",d.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",d.load()});if(!n)return"premultiply-alpha-on-upload";const a=t.createTexture();t.bindTexture(t.TEXTURE_2D,a);const o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,a,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n);const u=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,u),t.deleteFramebuffer(o),t.deleteTexture(a),t.getExtension("WEBGL_lose_context")?.loseContext(),u[0]<=u[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Oc}const Qr=class eg extends en{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...eg.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=Br.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,n=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(n.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await tg(),this._load=new Promise((a,o)=>{this.isValid?a(this):(this._resolve=a,this._reject=o,n.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${n.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Br.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Br.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Br.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||globalThis.VideoFrame&&t instanceof VideoFrame}};Qr.extension=Mt.TextureSource;Qr.defaultOptions={...en.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Qr.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let jr=Qr;yi.add(Qy,Iy,Ky,jr,hl,Jy,mh);var is=(l=>(l[l.Low=0]="Low",l[l.Normal=1]="Normal",l[l.High=2]="High",l))(is||{});function bi(l){if(typeof l!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(l)}`)}function Ia(l){return l.split("?")[0].split("#")[0]}function yb(l){return l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function gb(l,t,n){return l.replace(new RegExp(yb(t),"g"),n)}function pb(l,t){let n="",a=0,o=-1,u=0,h=-1;for(let d=0;d<=l.length;++d){if(d<l.length)h=l.charCodeAt(d);else{if(h===47)break;h=47}if(h===47){if(!(o===d-1||u===1))if(o!==d-1&&u===2){if(n.length<2||a!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const m=n.lastIndexOf("/");if(m!==n.length-1){m===-1?(n="",a=0):(n=n.slice(0,m),a=n.length-1-n.lastIndexOf("/")),o=d,u=0;continue}}else if(n.length===2||n.length===1){n="",a=0,o=d,u=0;continue}}}else n.length>0?n+=`/${l.slice(o+1,d)}`:n=l.slice(o+1,d),a=d-o-1;o=d,u=0}else h===46&&u!==-1?++u:u=-1}return n}const Oi={toPosix(l){return gb(l,"\\","/")},isUrl(l){return/^https?:/.test(this.toPosix(l))},isDataUrl(l){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(l)},isBlobUrl(l){return l.startsWith("blob:")},hasProtocol(l){return/^[^/:]+:/.test(this.toPosix(l))},getProtocol(l){bi(l),l=this.toPosix(l);const t=/^file:\/\/\//.exec(l);if(t)return t[0];const n=/^[^/:]+:\/{0,2}/.exec(l);return n?n[0]:""},toAbsolute(l,t,n){if(bi(l),this.isDataUrl(l)||this.isBlobUrl(l))return l;const a=Ia(this.toPosix(t??Me.get().getBaseUrl())),o=Ia(this.toPosix(n??this.rootname(a)));return l=this.toPosix(l),l.startsWith("/")?Oi.join(o,l.slice(1)):this.isAbsolute(l)?l:this.join(a,l)},normalize(l){if(bi(l),l.length===0)return".";if(this.isDataUrl(l)||this.isBlobUrl(l))return l;l=this.toPosix(l);let t="";const n=l.startsWith("/");this.hasProtocol(l)&&(t=this.rootname(l),l=l.slice(t.length));const a=l.endsWith("/");return l=pb(l),l.length>0&&a&&(l+="/"),n?`/${l}`:t+l},isAbsolute(l){return bi(l),l=this.toPosix(l),this.hasProtocol(l)?!0:l.startsWith("/")},join(...l){if(l.length===0)return".";let t;for(let n=0;n<l.length;++n){const a=l[n];if(bi(a),a.length>0)if(t===void 0)t=a;else{const o=l[n-1]??"";this.joinExtensions.includes(this.extname(o).toLowerCase())?t+=`/../${a}`:t+=`/${a}`}}return t===void 0?".":this.normalize(t)},dirname(l){if(bi(l),l.length===0)return".";l=this.toPosix(l);let t=l.charCodeAt(0);const n=t===47;let a=-1,o=!0;const u=this.getProtocol(l),h=l;l=l.slice(u.length);for(let d=l.length-1;d>=1;--d)if(t=l.charCodeAt(d),t===47){if(!o){a=d;break}}else o=!1;return a===-1?n?"/":this.isUrl(h)?u+l:u:n&&a===1?"//":u+l.slice(0,a)},rootname(l){bi(l),l=this.toPosix(l);let t="";if(l.startsWith("/")?t="/":t=this.getProtocol(l),this.isUrl(l)){const n=l.indexOf("/",t.length);n!==-1?t=l.slice(0,n):t=l,t.endsWith("/")||(t+="/")}return t},basename(l,t){bi(l),t&&bi(t),l=Ia(this.toPosix(l));let n=0,a=-1,o=!0,u;if(t!==void 0&&t.length>0&&t.length<=l.length){if(t.length===l.length&&t===l)return"";let h=t.length-1,d=-1;for(u=l.length-1;u>=0;--u){const m=l.charCodeAt(u);if(m===47){if(!o){n=u+1;break}}else d===-1&&(o=!1,d=u+1),h>=0&&(m===t.charCodeAt(h)?--h===-1&&(a=u):(h=-1,a=d))}return n===a?a=d:a===-1&&(a=l.length),l.slice(n,a)}for(u=l.length-1;u>=0;--u)if(l.charCodeAt(u)===47){if(!o){n=u+1;break}}else a===-1&&(o=!1,a=u+1);return a===-1?"":l.slice(n,a)},extname(l){bi(l),l=Ia(this.toPosix(l));let t=-1,n=0,a=-1,o=!0,u=0;for(let h=l.length-1;h>=0;--h){const d=l.charCodeAt(h);if(d===47){if(!o){n=h+1;break}continue}a===-1&&(o=!1,a=h+1),d===46?t===-1?t=h:u!==1&&(u=1):t!==-1&&(u=-1)}return t===-1||a===-1||u===0||u===1&&t===a-1&&t===n+1?"":l.slice(t,a)},parse(l){bi(l);const t={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return t;l=Ia(this.toPosix(l));let n=l.charCodeAt(0);const a=this.isAbsolute(l);let o;t.root=this.rootname(l),a||this.hasProtocol(l)?o=1:o=0;let u=-1,h=0,d=-1,m=!0,y=l.length-1,g=0;for(;y>=o;--y){if(n=l.charCodeAt(y),n===47){if(!m){h=y+1;break}continue}d===-1&&(m=!1,d=y+1),n===46?u===-1?u=y:g!==1&&(g=1):u!==-1&&(g=-1)}return u===-1||d===-1||g===0||g===1&&u===d-1&&u===h+1?d!==-1&&(h===0&&a?t.base=t.name=l.slice(1,d):t.base=t.name=l.slice(h,d)):(h===0&&a?(t.name=l.slice(1,u),t.base=l.slice(1,d)):(t.name=l.slice(h,u),t.base=l.slice(h,d)),t.ext=l.slice(u,d)),t.dir=this.dirname(l),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function ig(l,t,n,a,o){const u=t[n];for(let h=0;h<u.length;h++){const d=u[h];n<t.length-1?ig(l.replace(a[n],d),t,n+1,a,o):o.push(l.replace(a[n],d))}}function xb(l){const t=/\{(.*?)\}/g,n=l.match(t),a=[];if(n){const o=[];n.forEach(u=>{const h=u.substring(1,u.length-1).split(",");o.push(h)}),ig(l,o,0,n,a)}else a.push(l);return a}const Vr=l=>!Array.isArray(l);class Js{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,n)=>`${t}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(t,n)=>n.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const n=t;this._defaultSearchParams=Object.keys(n).map(a=>`${encodeURIComponent(a)}=${encodeURIComponent(n[a])}`).join("&")}}getAlias(t){const{alias:n,src:a}=t;return vi(n||a,u=>typeof u=="string"?u:Array.isArray(u)?u.map(h=>h?.src??h):u?.src?u.src:u,!0)}addManifest(t){this._manifest&&Oe("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(t,n){const a=[];let o=n;Array.isArray(n)||(o=Object.entries(n).map(([u,h])=>typeof h=="string"||Array.isArray(h)?{alias:u,src:h}:{alias:u,...h})),o.forEach(u=>{const h=u.src,d=u.alias;let m;if(typeof d=="string"){const y=this._createBundleAssetId(t,d);a.push(y),m=[d,y]}else{const y=d.map(g=>this._createBundleAssetId(t,g));a.push(...y),m=[...d,...y]}this.add({...u,alias:m,src:h})}),this._bundles[t]=a}add(t){const n=[];Array.isArray(t)?n.push(...t):n.push(t);let a;a=u=>{this.hasKey(u)&&Oe(`[Resolver] already has key: ${u} overwriting`)},vi(n).forEach(u=>{const{src:h}=u;let{data:d,format:m,loadParser:y}=u;const g=vi(h).map(w=>typeof w=="string"?xb(w):Array.isArray(w)?w:[w]),x=this.getAlias(u);Array.isArray(x)?x.forEach(a):a(x);const v=[];g.forEach(w=>{w.forEach(A=>{let D={};if(typeof A!="object"){D.src=A;for(let T=0;T<this._parsers.length;T++){const G=this._parsers[T];if(G.test(A)){D=G.parse(A);break}}}else d=A.data??d,m=A.format??m,y=A.loadParser??y,D={...D,...A};if(!x)throw new Error(`[Resolver] alias is undefined for this asset: ${D.src}`);D=this._buildResolvedAsset(D,{aliases:x,data:d,format:m,loadParser:y}),v.push(D)})}),x.forEach(w=>{this._assetMap[w]=v})})}resolveBundle(t){const n=Vr(t);t=vi(t);const a={};return t.forEach(o=>{const u=this._bundles[o];if(u){const h=this.resolve(u),d={};for(const m in h){const y=h[m];d[this._extractAssetIdFromBundle(o,m)]=y}a[o]=d}}),n?a[t[0]]:a}resolveUrl(t){const n=this.resolve(t);if(typeof t!="string"){const a={};for(const o in n)a[o]=n[o].src;return a}return n.src}resolve(t){const n=Vr(t);t=vi(t);const a={};return t.forEach(o=>{if(!this._resolverHash[o])if(this._assetMap[o]){let u=this._assetMap[o];const h=this._getPreferredOrder(u);h?.priority.forEach(d=>{h.params[d].forEach(m=>{const y=u.filter(g=>g[d]?g[d]===m:!1);y.length&&(u=y)})}),this._resolverHash[o]=u[0]}else this._resolverHash[o]=this._buildResolvedAsset({alias:[o],src:o},{});a[o]=this._resolverHash[o]}),n?a[t[0]]:a}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let n=0;n<t.length;n++){const a=t[0],o=this._preferredOrder.find(u=>u.params.format.includes(a.format));if(o)return o}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const n=/\?/.test(t)?"&":"?";return`${t}${n}${this._defaultSearchParams}`}_buildResolvedAsset(t,n){const{aliases:a,data:o,loadParser:u,format:h}=n;return(this._basePath||this._rootPath)&&(t.src=Oi.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=a??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...o||{},...t.data},t.loadParser=u??t.loadParser,t.format=h??t.format??bb(t.src),t}}Js.RETINA_PREFIX=/@([0-9\.]+)x/;function bb(l){return l.split(".").pop().split("?").shift().split("#").shift()}const ny=(l,t)=>{const n=t.split("?")[1];return n&&(l+=`?${n}`),l},ng=class el{constructor(t,n){this.linkedSheets=[],this._texture=t instanceof Qt?t:null,this.textureSource=t.source,this.textures={},this.animations={},this.data=n;const a=parseFloat(n.meta.scale);a?(this.resolution=a,t.source.resolution=this.resolution):this.resolution=t.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=el.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let n=t;const a=el.BATCH_SIZE;for(;n-t<a&&n<this._frameKeys.length;){const o=this._frameKeys[n],u=this._frames[o],h=u.frame;if(h){let d=null,m=null;const y=u.trimmed!==!1&&u.sourceSize?u.sourceSize:u.frame,g=new Be(0,0,Math.floor(y.w)/this.resolution,Math.floor(y.h)/this.resolution);u.rotated?d=new Be(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):d=new Be(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),u.trimmed!==!1&&u.spriteSourceSize&&(m=new Be(Math.floor(u.spriteSourceSize.x)/this.resolution,Math.floor(u.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[o]=new Qt({source:this.textureSource,frame:d,orig:g,trim:m,rotate:u.rotated?2:0,defaultAnchor:u.anchor,defaultBorders:u.borders,label:o.toString()})}n++}}_processAnimations(){const t=this.data.animations||{};for(const n in t){this.animations[n]=[];for(let a=0;a<t[n].length;a++){const o=t[n][a];this.animations[n].push(this.textures[o])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*el.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*el.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};ng.BATCH_SIZE=1e3;let sy=ng;const _b=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function sg(l,t,n){const a={};if(l.forEach(o=>{a[o]=t}),Object.keys(t.textures).forEach(o=>{a[o]=t.textures[o]}),!n){const o=Oi.dirname(l[0]);t.linkedSheets.forEach((u,h)=>{const d=sg([`${o}/${t.data.meta.related_multi_packs[h]}`],u,!0);Object.assign(a,d)})}return a}const vb={extension:Mt.Asset,cache:{test:l=>l instanceof sy,getCacheableAssets:(l,t)=>sg(l,t,!1)},resolver:{test:l=>{const n=l.split("?")[0].split("."),a=n.pop(),o=n.pop();return a==="json"&&_b.includes(o)},parse:l=>{const t=l.split(".");return{resolution:parseFloat(Js.RETINA_PREFIX.exec(l)?.[1]??"1"),format:t[t.length-2],src:l}}},loader:{name:"spritesheetLoader",extension:{type:Mt.LoadParser,priority:is.Normal},async testParse(l,t){return Oi.extname(t.src).toLowerCase()===".json"&&!!l.frames},async parse(l,t,n){const{texture:a,imageFilename:o}=t?.data??{};let u=Oi.dirname(t.src);u&&u.lastIndexOf("/")!==u.length-1&&(u+="/");let h;if(a instanceof Qt)h=a;else{const y=ny(u+(o??l.meta.image),t.src);h=(await n.load([y]))[y]}const d=new sy(h.source,l);await d.parse();const m=l?.meta?.related_multi_packs;if(Array.isArray(m)){const y=[];for(const x of m){if(typeof x!="string")continue;let v=u+x;t.data?.ignoreMultiPack||(v=ny(v,t.src),y.push(n.load({src:v,data:{ignoreMultiPack:!0}})))}const g=await Promise.all(y);d.linkedSheets=g,g.forEach(x=>{x.linkedSheets=[d].concat(d.linkedSheets.filter(v=>v!==x))})}return d},unload(l){l.destroy(!0)}}};yi.add(vb);const Bc=Object.create(null),ay=Object.create(null);function gh(l,t){let n=ay[l];return n===void 0&&(Bc[t]===void 0&&(Bc[t]=1),ay[l]=n=Bc[t]++),n}let Dr;function Sb(){return(!Dr||Dr?.isContextLost())&&(Dr=Me.get().createCanvas().getContext("webgl",{})),Dr}let Ur;function Ab(){if(!Ur){Ur="mediump";const l=Sb();l&&l.getShaderPrecisionFormat&&(Ur=l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.HIGH_FLOAT).precision?"highp":"mediump")}return Ur}function wb(l,t,n){return t?l:n?(l=l.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it's WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${l}
        `):`
        
        #ifdef GL_ES // This checks if it's WebGL1
        #define in attribute
        #define out varying
        #endif
        ${l}
        `}function Mb(l,t,n){const a=n?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(l.substring(0,9)!=="precision"){let o=n?t.requestedFragmentPrecision:t.requestedVertexPrecision;return o==="highp"&&a!=="highp"&&(o="mediump"),`precision ${o} float;
${l}`}else if(a!=="highp"&&l.substring(0,15)==="precision highp")return l.replace("precision highp","precision mediump");return l}function Cb(l,t){return t?`#version 300 es
${l}`:l}const Tb={},Eb={};function zb(l,{name:t="pixi-program"},n=!0){t=t.replace(/\s+/g,"-"),t+=n?"-fragment":"-vertex";const a=n?Tb:Eb;return a[t]?(a[t]++,t+=`-${a[t]}`):a[t]=1,l.indexOf("#define SHADER_NAME")!==-1?l:`${`#define SHADER_NAME ${t}`}
${l}`}function Rb(l,t){return t?l.replace("#version 300 es",""):l}const Dc={stripVersion:Rb,ensurePrecision:Mb,addProgramDefines:wb,setProgramName:zb,insertVersion:Cb},Uc=Object.create(null),ag=class sh{constructor(t){t={...sh.defaultOptions,...t};const n=t.fragment.indexOf("#version 300 es")!==-1,a={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:Ab()},setProgramName:{name:t.name},addProgramDefines:n,insertVersion:n};let o=t.fragment,u=t.vertex;Object.keys(Dc).forEach(h=>{const d=a[h];o=Dc[h](o,d,!0),u=Dc[h](u,d,!1)}),this.fragment=o,this.vertex=u,this._key=gh(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(t){const n=`${t.vertex}:${t.fragment}`;return Uc[n]||(Uc[n]=new sh(t)),Uc[n]}};ag.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Ir=ag;const ly={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function Ob(l){return ly[l]??ly.float32}const Bb={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function Db({source:l,entryPoint:t}){const n={},a=l.indexOf(`fn ${t}`);if(a!==-1){const o=l.indexOf("->",a);if(o!==-1){const u=l.substring(a,o),h=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let d;for(;(d=h.exec(u))!==null;){const m=Bb[d[3]]??"float32";n[d[2]]={location:parseInt(d[1],10),format:m,stride:Ob(m).stride,offset:0,instance:!1,start:0}}}}return n}function Nc(l){const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,n=/@group\((\d+)\)/,a=/@binding\((\d+)\)/,o=/var(<[^>]+>)? (\w+)/,u=/:\s*(\w+)/,h=/struct\s+(\w+)\s*{([^}]+)}/g,d=/(\w+)\s*:\s*([\w\<\>]+)/g,m=/struct\s+(\w+)/,y=l.match(t)?.map(x=>({group:parseInt(x.match(n)[1],10),binding:parseInt(x.match(a)[1],10),name:x.match(o)[2],isUniform:x.match(o)[1]==="<uniform>",type:x.match(u)[1]}));if(!y)return{groups:[],structs:[]};const g=l.match(h)?.map(x=>{const v=x.match(m)[1],w=x.match(d).reduce((A,D)=>{const[T,G]=D.split(":");return A[T.trim()]=G.trim(),A},{});return w?{name:v,members:w}:null}).filter(({name:x})=>y.some(v=>v.type===x))??[];return{groups:y,structs:g}}var il=(l=>(l[l.VERTEX=1]="VERTEX",l[l.FRAGMENT=2]="FRAGMENT",l[l.COMPUTE=4]="COMPUTE",l))(il||{});function Ub({groups:l}){const t=[];for(let n=0;n<l.length;n++){const a=l[n];t[a.group]||(t[a.group]=[]),a.isUniform?t[a.group].push({binding:a.binding,visibility:il.VERTEX|il.FRAGMENT,buffer:{type:"uniform"}}):a.type==="sampler"?t[a.group].push({binding:a.binding,visibility:il.FRAGMENT,sampler:{type:"filtering"}}):a.type==="texture_2d"&&t[a.group].push({binding:a.binding,visibility:il.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function Nb({groups:l}){const t=[];for(let n=0;n<l.length;n++){const a=l[n];t[a.group]||(t[a.group]={}),t[a.group][a.name]=a.binding}return t}function Gb(l,t){const n=new Set,a=new Set,o=[...l.structs,...t.structs].filter(h=>n.has(h.name)?!1:(n.add(h.name),!0)),u=[...l.groups,...t.groups].filter(h=>{const d=`${h.name}-${h.binding}`;return a.has(d)?!1:(a.add(d),!0)});return{structs:o,groups:u}}const Gc=Object.create(null);class $s{constructor(t){this._layoutKey=0;const{fragment:n,vertex:a,layout:o,gpuLayout:u,name:h}=t;if(this.name=h,this.fragment=n,this.vertex=a,n.source===a.source){const d=Nc(n.source);this.structsAndGroups=d}else{const d=Nc(a.source),m=Nc(n.source);this.structsAndGroups=Gb(d,m)}this.layout=o??Nb(this.structsAndGroups),this.gpuLayout=u??Ub(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:n}=this,a=t.source+n.source+t.entryPoint+n.entryPoint;this._layoutKey=gh(a,"program")}get attributeData(){return this._attributeData??(this._attributeData=Db(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const n=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return Gc[n]||(Gc[n]=new $s(t)),Gc[n]}}function Lb(l,t){switch(l){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const lg=class rg{constructor(t,n){this._touched=0,this.uid=_e("uniform"),this._resourceType="uniformGroup",this._resourceId=_e("resource"),this.isUniformGroup=!0,this._dirtyId=0,n={...rg.defaultOptions,...n},this.uniformStructures=t;const a={};for(const o in t){const u=t[o];u.name=o,u.size=u.size??1,u.value??(u.value=Lb(u.type,u.size)),a[o]=u.value}this.uniforms=a,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=gh(Object.keys(a).map(o=>`${o}-${t[o].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};lg.defaultOptions={ubo:!1,isStatic:!1};let og=lg;class kr{constructor(t){this.resources=Object.create(null),this._dirty=!0;let n=0;for(const a in t){const o=t[a];this.setResource(o,n++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let n=0;for(const a in this.resources)t[n++]=this.resources[a]._resourceId;this._key=t.join("|")}setResource(t,n){const a=this.resources[n];t!==a&&(a&&t.off?.("change",this.onResourceChange,this),t.on?.("change",this.onResourceChange,this),this.resources[n]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const n=this.resources;for(const a in n)n[a]._touched=t}destroy(){const t=this.resources;for(const n in t)t[n].off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(){this._dirty=!0,this._updateKey()}}var ul=(l=>(l[l.WEBGL=1]="WEBGL",l[l.WEBGPU=2]="WEBGPU",l[l.BOTH=3]="BOTH",l))(ul||{});class ph extends sn{constructor(t){super(),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:n,glProgram:a,groups:o,resources:u,compatibleRenderers:h,groupMap:d}=t;this.gpuProgram=n,this.glProgram=a,h===void 0&&(h=0,n&&(h|=ul.WEBGPU),a&&(h|=ul.WEBGL)),this.compatibleRenderers=h;const m={};if(!u&&!o&&(u={}),u&&o)throw new Error("[Shader] Cannot have both resources and groups");if(!n&&o&&!d)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!n&&o&&d)for(const y in d)for(const g in d[y]){const x=d[y][g];m[x]={group:y,binding:g,name:x}}else if(n&&o&&!d){const y=n.structsAndGroups.groups;d={},y.forEach(g=>{d[g.group]=d[g.group]||{},d[g.group][g.binding]=g.name,m[g.name]=g})}else if(u){if(n){const y=n.structsAndGroups.groups;d={},y.forEach(g=>{d[g.group]=d[g.group]||{},d[g.group][g.binding]=g.name,m[g.name]=g})}else{d={},o={99:new kr},this._ownedBindGroups.push(o[99]);let y=0;for(const g in u)m[g]={group:99,binding:y,name:g},d[99]=d[99]||{},d[99][y]=g,y++}o={};for(const y in u){const g=y;let x=u[y];!x.source&&!x._resourceType&&(x=new og(x));const v=m[g];v&&(o[v.group]||(o[v.group]=new kr,this._ownedBindGroups.push(o[v.group])),o[v.group].setResource(x,v.binding))}}this.groups=o,this._uniformBindMap=d,this.resources=this._buildResourceAccessor(o,m)}addResource(t,n,a){var o,u;(o=this._uniformBindMap)[n]||(o[n]={}),(u=this._uniformBindMap[n])[a]||(u[a]=t),this.groups[n]||(this.groups[n]=new kr,this._ownedBindGroups.push(this.groups[n]))}_buildResourceAccessor(t,n){const a={};for(const o in n){const u=n[o];Object.defineProperty(a,u.name,{get(){return t[u.group].getResource(u.binding)},set(h){t[u.group].setResource(h,u.binding)}})}return a}destroy(t=!1){this.emit("destroy",this),t&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(n=>{n.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:n,gl:a,...o}=t;let u,h;return n&&(u=$s.from(n)),a&&(h=Ir.from(a)),new ph({gpuProgram:u,glProgram:h,...o})}}const Yb={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8},Lc=0,Yc=1,Hc=2,jc=3,kc=4,Xc=5,ah=class ug{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Lc)}set blend(t){!!(this.data&1<<Lc)!==t&&(this.data^=1<<Lc)}get offsets(){return!!(this.data&1<<Yc)}set offsets(t){!!(this.data&1<<Yc)!==t&&(this.data^=1<<Yc)}set cullMode(t){if(t==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=t==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<Hc)}set culling(t){!!(this.data&1<<Hc)!==t&&(this.data^=1<<Hc)}get depthTest(){return!!(this.data&1<<jc)}set depthTest(t){!!(this.data&1<<jc)!==t&&(this.data^=1<<jc)}get depthMask(){return!!(this.data&1<<Xc)}set depthMask(t){!!(this.data&1<<Xc)!==t&&(this.data^=1<<Xc)}get clockwiseFrontFace(){return!!(this.data&1<<kc)}set clockwiseFrontFace(t){!!(this.data&1<<kc)!==t&&(this.data^=1<<kc)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!=="none",this._blendMode=t,this._blendModeId=Yb[t]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new ug;return t.depthTest=!1,t.blend=!0,t}};ah.default2d=ah.for2d();let Hb=ah;const cg=class lh extends ph{constructor(t){t={...lh.defaultOptions,...t},super(t),this.enabled=!0,this._state=Hb.for2d(),this.padding=t.padding,typeof t.antialias=="boolean"?this.antialias=t.antialias?"on":"off":this.antialias=t.antialias,this.resolution=t.resolution,this.blendRequired=t.blendRequired,this.addResource("uTexture",0,1)}apply(t,n,a,o){t.applyFilter(this,n,a,o)}get blendMode(){return this._state.blendMode}set blendMode(t){this._state.blendMode=t}static from(t){const{gpu:n,gl:a,...o}=t;let u,h;return n&&(u=$s.from(n)),a&&(h=Ir.from(a)),new lh({gpuProgram:u,glProgram:h,...o})}};cg.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1};let xh=cg;const rh=[];yi.handleByNamedList(Mt.Environment,rh);async function jb(l){if(l)for(let t=0;t<rh.length;t++){const n=rh[t];if(n.value.test()){await n.value.load();return}}}let Ka;function kb(){if(typeof Ka=="boolean")return Ka;try{Ka=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ka=!1}return Ka}var hg=(l=>(l[l.NONE=0]="NONE",l[l.COLOR=16384]="COLOR",l[l.STENCIL=1024]="STENCIL",l[l.DEPTH=256]="DEPTH",l[l.COLOR_DEPTH=16640]="COLOR_DEPTH",l[l.COLOR_STENCIL=17408]="COLOR_STENCIL",l[l.DEPTH_STENCIL=1280]="DEPTH_STENCIL",l[l.ALL=17664]="ALL",l))(hg||{});class Xb{constructor(t){this.items=[],this._name=t}emit(t,n,a,o,u,h,d,m){const{name:y,items:g}=this;for(let x=0,v=g.length;x<v;x++)g[x][y](t,n,a,o,u,h,d,m);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const n=this.items.indexOf(t);return n!==-1&&this.items.splice(n,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const qb=["init","destroy","contextChange","resolutionChange","reset","renderEnd","renderStart","render","update","postrender","prerender"],fg=class dg{constructor(t){this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name;const n=[...qb,...t.runners??[]];this._addRunners(...n),this._addSystems(t.systems),this._addPipes(t.renderPipes,t.renderPipeAdaptors),this._unsafeEvalCheck()}async init(t={}){for(const n in this._systemsHash)t={...this._systemsHash[n].constructor.defaultOptions,...t};t={...dg.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let n=0;n<this.runners.init.items.length;n++)await this.runners.init.items[n].init(t);this._initOptions=t}render(t,n){let a=t;if(a instanceof ge&&(a={container:a},n&&(se(ne,"passing a second argument is deprecated, please use render options instead"),a.target=n.renderTexture)),a.target||(a.target=this.view.renderTarget),a.target===this.view.renderTarget&&(this._lastObjectRendered=a.container,a.clearColor=this.background.colorRgba),a.clearColor){const o=Array.isArray(a.clearColor)&&a.clearColor.length===4;a.clearColor=o?a.clearColor:Ne.shared.setValue(a.clearColor).toArray()}a.transform||(a.container.updateLocalTransform(),a.transform=a.container.localTransform),this.runners.prerender.emit(a),this.runners.renderStart.emit(a),this.runners.render.emit(a),this.runners.renderEnd.emit(a),this.runners.postrender.emit(a)}resize(t,n,a){this.view.resize(t,n,a)}clear(t={}){const n=this;t.target||(t.target=n.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=hg.ALL);const{clear:a,clearColor:o,target:u}=t;Ne.shared.setValue(o??this.background.colorRgba),n.renderTarget.clear(u,a,Ne.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(n=>{this.runners[n]=new Xb(n)})}_addSystems(t){let n;for(n in t){const a=t[n];this._addSystem(a.value,a.name)}}_addSystem(t,n){const a=new t(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=a,this._systemsHash[n]=a;for(const o in this.runners)this.runners[o].add(a);return this}_addPipes(t,n){const a=n.reduce((o,u)=>(o[u.name]=u.value,o),{});t.forEach(o=>{const u=o.value,h=o.name,d=a[h];this.renderPipes[h]=new u(this,d?new d:null)})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),Object.values(this.runners).forEach(n=>{n.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!kb())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}};fg.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let mg=fg,Nr;function Vb(l){return Nr!==void 0||(Nr=(()=>{const t={stencil:!0,failIfMajorPerformanceCaveat:l??mg.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Me.get().getWebGLRenderingContext())return!1;let a=Me.get().createCanvas().getContext("webgl",t);const o=!!a?.getContextAttributes()?.stencil;if(a){const u=a.getExtension("WEBGL_lose_context");u&&u.loseContext()}return a=null,o}catch{return!1}})()),Nr}let Gr;async function Pb(l={}){return Gr!==void 0||(Gr=await(async()=>{if(!Me.get().getNavigator().gpu)return!1;try{return await(await navigator.gpu.requestAdapter(l)).requestDevice(),!0}catch{return!1}})()),Gr}const ry=["webgpu","webgl","canvas"];async function Fb(l){let t=[];l.preference?(t.push(l.preference),ry.forEach(u=>{u!==l.preference&&t.push(u)})):t=ry.slice();let n;await jb(l.manageImports??!0);let a={};for(let u=0;u<t.length;u++){const h=t[u];if(h==="webgpu"&&await Pb()){const{WebGPURenderer:d}=await Xr(async()=>{const{WebGPURenderer:m}=await import("./WebGPURenderer-CiJou7JM.js");return{WebGPURenderer:m}},__vite__mapDeps([5,2,6,3]));n=d,a={...l,...l.webgpu};break}else if(h==="webgl"&&Vb(l.failIfMajorPerformanceCaveat??mg.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:d}=await Xr(async()=>{const{WebGLRenderer:m}=await import("./WebGLRenderer-DZ1Ni6g0.js");return{WebGLRenderer:m}},__vite__mapDeps([7,2,4,6]));n=d,a={...l,...l.webgl};break}else if(h==="canvas"){a={...l};break}}delete a.webgpu,delete a.webgl;const o=new n;return await o.init(a),o}const yg=class oh{constructor(...t){this.stage=new ge,t[0]!==void 0&&se(ne,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.renderer=await Fb(t),oh._plugins.forEach(n=>{n.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return se(ne,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,n=!1){const a=oh._plugins.slice(0);a.reverse(),a.forEach(o=>{o.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null}};yg._plugins=[];let gg=yg;yi.handleByList(Mt.Application,gg._plugins);class Zb{constructor(t,n=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(t){t.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let a=0;a<n;a++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}const Wb={extension:Mt.CacheParser,test:l=>Array.isArray(l)&&l.every(t=>t instanceof Qt),getCacheableAssets:(l,t)=>{const n={};return l.forEach(a=>{t.forEach((o,u)=>{n[a+(u===0?"":u+1)]=o})}),n}};async function pg(l){if("Image"in globalThis)return new Promise(t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=l});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(l)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const Qb={extension:{type:Mt.DetectionParser,priority:1},test:async()=>pg("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async l=>[...l,"avif"],remove:async l=>l.filter(t=>t!=="avif")},oy=["png","jpg","jpeg"],Ib={extension:{type:Mt.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async l=>[...l,...oy],remove:async l=>l.filter(t=>!oy.includes(t))},Kb="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function bh(l){return Kb?!1:document.createElement("video").canPlayType(l)!==""}const Jb={extension:{type:Mt.DetectionParser,priority:0},test:async()=>bh("video/mp4"),add:async l=>[...l,"mp4","m4v"],remove:async l=>l.filter(t=>t!=="mp4"&&t!=="m4v")},$b={extension:{type:Mt.DetectionParser,priority:0},test:async()=>bh("video/ogg"),add:async l=>[...l,"ogv"],remove:async l=>l.filter(t=>t!=="ogv")},t_={extension:{type:Mt.DetectionParser,priority:0},test:async()=>bh("video/webm"),add:async l=>[...l,"webm"],remove:async l=>l.filter(t=>t!=="webm")},e_={extension:{type:Mt.DetectionParser,priority:0},test:async()=>pg("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async l=>[...l,"webp"],remove:async l=>l.filter(t=>t!=="webp")};class i_{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,n,a)=>(this._parsersValidated=!1,t[n]=a,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,n){const a={promise:null,parser:null};return a.promise=(async()=>{let o=null,u=null;if(n.loadParser&&(u=this._parserHash[n.loadParser],u||Oe(`[Assets] specified load parser "${n.loadParser}" not found while loading ${t}`)),!u){for(let h=0;h<this.parsers.length;h++){const d=this.parsers[h];if(d.load&&d.test?.(t,n,this)){u=d;break}}if(!u)return Oe(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}o=await u.load(t,n,this),a.parser=u;for(let h=0;h<this.parsers.length;h++){const d=this.parsers[h];d.parse&&d.parse&&await d.testParse?.(o,n,this)&&(o=await d.parse(o,n,this)||o,a.parser=d)}return o})(),a}async load(t,n){this._parsersValidated||this._validateParsers();let a=0;const o={},u=Vr(t),h=vi(t,y=>({alias:[y],src:y})),d=h.length,m=h.map(async y=>{const g=Oi.toAbsolute(y.src);if(!o[y.src])try{this.promiseCache[g]||(this.promiseCache[g]=this._getLoadPromiseAndParser(g,y)),o[y.src]=await this.promiseCache[g].promise,n&&n(++a/d)}catch(x){throw delete this.promiseCache[g],delete o[y.src],new Error(`[Loader.load] Failed to load ${g}.
${x}`)}});return await Promise.all(m),u?o[h[0].src]:o}async unload(t){const a=vi(t,o=>({alias:[o],src:o})).map(async o=>{const u=Oi.toAbsolute(o.src),h=this.promiseCache[u];if(h){const d=await h.promise;delete this.promiseCache[u],h.parser?.unload?.(d,o,this)}});await Promise.all(a)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,n)=>(n.name?t[n.name]&&Oe(`[Assets] loadParser name conflict "${n.name}"`):Oe("[Assets] loadParser should have a name"),{...t,[n.name]:n}),{})}}function ta(l,t){if(Array.isArray(t)){for(const n of t)if(l.startsWith(`data:${n}`))return!0;return!1}return l.startsWith(`data:${t}`)}function ea(l,t){const n=l.split("?")[0],a=Oi.extname(n).toLowerCase();return Array.isArray(t)?t.includes(a):a===t}const n_=".json",s_="application/json",a_={extension:{type:Mt.LoadParser,priority:is.Low},name:"loadJson",test(l){return ta(l,s_)||ea(l,n_)},async load(l){return await(await Me.get().fetch(l)).json()}},l_=".txt",r_="text/plain",o_={name:"loadTxt",extension:{type:Mt.LoadParser,priority:is.Low},test(l){return ta(l,r_)||ea(l,l_)},async load(l){return await(await Me.get().fetch(l)).text()}},u_=["normal","bold","100","200","300","400","500","600","700","800","900"],c_=[".ttf",".otf",".woff",".woff2"],h_=["font/ttf","font/otf","font/woff","font/woff2"],f_=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function d_(l){const t=Oi.extname(l),o=Oi.basename(l,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1));let u=o.length>0;for(const d of o)if(!d.match(f_)){u=!1;break}let h=o.join(" ");return u||(h=`"${h.replace(/[\\"]/g,"\\$&")}"`),h}const m_=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function y_(l){return m_.test(l)?l:encodeURI(l)}const g_={extension:{type:Mt.LoadParser,priority:is.Low},name:"loadWebFont",test(l){return ta(l,h_)||ea(l,c_)},async load(l,t){const n=Me.get().getFontFaceSet();if(n){const a=[],o=t.data?.family??d_(l),u=t.data?.weights?.filter(d=>u_.includes(d))??["normal"],h=t.data??{};for(let d=0;d<u.length;d++){const m=u[d],y=new FontFace(o,`url(${y_(l)})`,{...h,weight:m});await y.load(),n.add(y),a.push(y)}return Le.set(o,{url:l,fontFaces:a}),a.length===1?a[0]:a}return Oe("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(l){(Array.isArray(l)?l:[l]).forEach(t=>{Le.remove(t.family),Me.get().getFontFaceSet().delete(t)})}};var qc,uy;function p_(){if(uy)return qc;uy=1,qc=n;var l={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function n(u){var h=[];return u.replace(t,function(d,m,y){var g=m.toLowerCase();for(y=o(y),g=="m"&&y.length>2&&(h.push([m].concat(y.splice(0,2))),g="l",m=m=="m"?"l":"L");;){if(y.length==l[g])return y.unshift(m),h.push(y);if(y.length<l[g])throw new Error("malformed path data");h.push([m].concat(y.splice(0,l[g])))}}),h}var a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function o(u){var h=u.match(a);return h?h.map(Number):[]}return qc}var x_=p_();const b_=Zr(x_);function __(l,t){const n=b_(l),a=[];let o=null,u=0,h=0;for(let d=0;d<n.length;d++){const m=n[d],y=m[0],g=m;switch(y){case"M":u=g[1],h=g[2],t.moveTo(u,h);break;case"m":u+=g[1],h+=g[2],t.moveTo(u,h);break;case"H":u=g[1],t.lineTo(u,h);break;case"h":u+=g[1],t.lineTo(u,h);break;case"V":h=g[1],t.lineTo(u,h);break;case"v":h+=g[1],t.lineTo(u,h);break;case"L":u=g[1],h=g[2],t.lineTo(u,h);break;case"l":u+=g[1],h+=g[2],t.lineTo(u,h);break;case"C":u=g[5],h=g[6],t.bezierCurveTo(g[1],g[2],g[3],g[4],u,h);break;case"c":t.bezierCurveTo(u+g[1],h+g[2],u+g[3],h+g[4],u+g[5],h+g[6]),u+=g[5],h+=g[6];break;case"S":u=g[3],h=g[4],t.bezierCurveToShort(g[1],g[2],u,h);break;case"s":t.bezierCurveToShort(u+g[1],h+g[2],u+g[3],h+g[4]),u+=g[3],h+=g[4];break;case"Q":u=g[3],h=g[4],t.quadraticCurveTo(g[1],g[2],u,h);break;case"q":t.quadraticCurveTo(u+g[1],h+g[2],u+g[3],h+g[4]),u+=g[3],h+=g[4];break;case"T":u=g[1],h=g[2],t.quadraticCurveToShort(u,h);break;case"t":u+=g[1],h+=g[2],t.quadraticCurveToShort(u,h);break;case"A":u=g[6],h=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,h);break;case"a":u+=g[6],h+=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,h);break;case"Z":case"z":t.closePath(),a.length>0&&(o=a.pop(),o?(u=o.startX,h=o.startY):(u=0,h=0)),o=null;break;default:Oe(`Unknown SVG path command: ${y}`)}y!=="Z"&&y!=="z"&&o===null&&(o={startX:u,startY:h},a.push(o))}return t}class _h{constructor(t=0,n=0,a=0){this.type="circle",this.x=t,this.y=n,this.radius=a}clone(){return new _h(this.x,this.y,this.radius)}contains(t,n){if(this.radius<=0)return!1;const a=this.radius*this.radius;let o=this.x-t,u=this.y-n;return o*=o,u*=u,o+u<=a}strokeContains(t,n,a){if(this.radius===0)return!1;const o=this.x-t,u=this.y-n,h=this.radius,d=a/2,m=Math.sqrt(o*o+u*u);return m<h+d&&m>h-d}getBounds(t){return t=t||new Be,t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class vh{constructor(t=0,n=0,a=0,o=0){this.type="ellipse",this.x=t,this.y=n,this.halfWidth=a,this.halfHeight=o}clone(){return new vh(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,n){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let a=(t-this.x)/this.halfWidth,o=(n-this.y)/this.halfHeight;return a*=a,o*=o,a+o<=1}strokeContains(t,n,a){const{halfWidth:o,halfHeight:u}=this;if(o<=0||u<=0)return!1;const h=a/2,d=o-h,m=u-h,y=o+h,g=u+h,x=t-this.x,v=n-this.y,w=x*x/(d*d)+v*v/(m*m),A=x*x/(y*y)+v*v/(g*g);return w>1&&A<=1}getBounds(){return new Be(this.x-this.halfWidth,this.y-this.halfHeight,this.halfWidth*2,this.halfHeight*2)}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function v_(l,t,n,a,o,u){const h=l-n,d=t-a,m=o-n,y=u-a,g=h*m+d*y,x=m*m+y*y;let v=-1;x!==0&&(v=g/x);let w,A;v<0?(w=n,A=a):v>1?(w=o,A=u):(w=n+v*m,A=a+v*y);const D=l-w,T=t-A;return D*D+T*T}class ll{constructor(...t){this.type="polygon";let n=Array.isArray(t[0])?t[0]:t;if(typeof n[0]!="number"){const a=[];for(let o=0,u=n.length;o<u;o++)a.push(n[o].x,n[o].y);n=a}this.points=n,this.closePath=!0}clone(){const t=this.points.slice(),n=new ll(t);return n.closePath=this.closePath,n}contains(t,n){let a=!1;const o=this.points.length/2;for(let u=0,h=o-1;u<o;h=u++){const d=this.points[u*2],m=this.points[u*2+1],y=this.points[h*2],g=this.points[h*2+1];m>n!=g>n&&t<(y-d)*((n-m)/(g-m))+d&&(a=!a)}return a}strokeContains(t,n,a){const o=a/2,u=o*o,{points:h}=this;for(let d=0;d<h.length;d+=2){const m=h[d],y=h[d+1],g=h[(d+2)%h.length],x=h[(d+3)%h.length];if(v_(t,n,m,y,g,x)<=u)return!0}return!1}getBounds(t){t=t||new Be;const n=this.points;let a=1/0,o=-1/0,u=1/0,h=-1/0;for(let d=0,m=n.length;d<m;d+=2){const y=n[d],g=n[d+1];a=y<a?y:a,o=y>o?y:o,u=g<u?g:u,h=g>h?g:h}return t.x=a,t.width=o-a,t.y=u,t.height=h-u,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,n)=>`${t}, ${n}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const Lr=(l,t,n,a,o,u)=>{const h=l-n,d=t-a,m=Math.sqrt(h*h+d*d);return m>=o-u&&m<=o+u};class Sh{constructor(t=0,n=0,a=0,o=0,u=20){this.type="roundedRectangle",this.x=t,this.y=n,this.width=a,this.height=o,this.radius=u}getBounds(t){return t=t||new Be,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new Sh(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,n){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const a=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+a&&n<=this.y+this.height-a||t>=this.x+a&&t<=this.x+this.width-a)return!0;let o=t-(this.x+a),u=n-(this.y+a);const h=a*a;if(o*o+u*u<=h||(o=t-(this.x+this.width-a),o*o+u*u<=h)||(u=n-(this.y+this.height-a),o*o+u*u<=h)||(o=t-(this.x+a),o*o+u*u<=h))return!0}return!1}strokeContains(t,n,a){const{x:o,y:u,width:h,height:d,radius:m}=this,y=a/2,g=o+m,x=u+m,v=h-m*2,w=d-m*2,A=o+h,D=u+d;return(t>=o-y&&t<=o+y||t>=A-y&&t<=A+y)&&n>=x&&n<=x+w||(n>=u-y&&n<=u+y||n>=D-y&&n<=D+y)&&t>=g&&t<=g+v?!0:t<g&&n<x&&Lr(t,n,g,x,m,y)||t>A-m&&n<x&&Lr(t,n,A-m,x,m,y)||t>A-m&&n>D-m&&Lr(t,n,A-m,D-m,m,y)||t<g&&n>D-m&&Lr(t,n,g,D-m,m,y)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}var Ze=(l=>(l[l.MAP_READ=1]="MAP_READ",l[l.MAP_WRITE=2]="MAP_WRITE",l[l.COPY_SRC=4]="COPY_SRC",l[l.COPY_DST=8]="COPY_DST",l[l.INDEX=16]="INDEX",l[l.VERTEX=32]="VERTEX",l[l.UNIFORM=64]="UNIFORM",l[l.STORAGE=128]="STORAGE",l[l.INDIRECT=256]="INDIRECT",l[l.QUERY_RESOLVE=512]="QUERY_RESOLVE",l[l.STATIC=1024]="STATIC",l))(Ze||{});class cl extends sn{constructor(t){let{data:n,size:a}=t;const{usage:o,label:u,shrinkToFit:h}=t;super(),this.uid=_e("buffer"),this._resourceType="buffer",this._resourceId=_e("resource"),this._touched=0,this._updateID=1,this.shrinkToFit=!0,n instanceof Array&&(n=new Float32Array(n)),this._data=n,a=a??n?.byteLength;const d=!!n;this.descriptor={size:a,usage:o,mappedAtCreation:d,label:u},this.shrinkToFit=h??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get static(){return!!(this.descriptor.usage&Ze.STATIC)}set static(t){t?this.descriptor.usage|=Ze.STATIC:this.descriptor.usage&=~Ze.STATIC}setDataWithSize(t,n,a){if(this._updateID++,this._updateSize=n*t.BYTES_PER_ELEMENT,this._data===t){a&&this.emit("update",this);return}const o=this._data;if(this._data=t,o.length!==t.length){!this.shrinkToFit&&t.byteLength<o.byteLength?a&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=_e("resource"),this.emit("change",this));return}a&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.emit("destroy",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function xg(l,t){if(!(l instanceof cl)){let n=t?Ze.INDEX:Ze.VERTEX;l instanceof Array&&(t?(l=new Uint32Array(l),n=Ze.INDEX|Ze.COPY_DST):(l=new Float32Array(l),n=Ze.VERTEX|Ze.COPY_DST)),l=new cl({data:l,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:n})}return l}function S_(l,t,n){const a=l.getAttribute(t);if(!a)return n.minX=0,n.minY=0,n.maxX=0,n.maxY=0,n;const o=a.buffer.data;let u=1/0,h=1/0,d=-1/0,m=-1/0;const y=o.BYTES_PER_ELEMENT,g=(a.offset||0)/y,x=(a.stride||8)/y;for(let v=g;v<o.length;v+=x){const w=o[v],A=o[v+1];w>d&&(d=w),A>m&&(m=A),w<u&&(u=w),A<h&&(h=A)}return n.minX=u,n.minY=h,n.maxX=d,n.maxY=m,n}function A_(l){return(l instanceof cl||Array.isArray(l)||l.BYTES_PER_ELEMENT)&&(l={buffer:l}),l.buffer=xg(l.buffer,!1),l}class w_ extends sn{constructor(t){const{attributes:n,indexBuffer:a,topology:o}=t;super(),this.uid=_e("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Ri,this._boundsDirty=!0,this.attributes=n,this.buffers=[],this.instanceCount=t.instanceCount||1;for(const u in n){const h=n[u]=A_(n[u]);this.buffers.indexOf(h.buffer)===-1&&(this.buffers.push(h.buffer),h.buffer.on("update",this.onBufferUpdate,this),h.buffer.on("change",this.onBufferUpdate,this))}a&&(this.indexBuffer=xg(a,!0),this.buffers.push(this.indexBuffer)),this.topology=o||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const n=this.attributes[t];return n.buffer.data.length/(n.stride/4||n.size)}return 0}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,S_(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(n=>n.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const M_=new Float32Array(1),C_=new Uint32Array(1);class T_ extends w_{constructor(){const n=new cl({data:M_,label:"attribute-batch-buffer",usage:Ze.VERTEX|Ze.COPY_DST,shrinkToFit:!1}),a=new cl({data:C_,label:"index-batch-buffer",usage:Ze.INDEX|Ze.COPY_DST,shrinkToFit:!1}),o=24;super({attributes:{aPosition:{buffer:n,format:"float32x2",stride:o,offset:0,location:1},aUV:{buffer:n,format:"float32x2",stride:o,offset:8,location:3},aColor:{buffer:n,format:"unorm8x4",stride:o,offset:16,location:0},aTextureIdAndRound:{buffer:n,format:"uint16x2",stride:o,offset:20,location:2}},indexBuffer:a})}}const bg=16,_g={};function E_(l,t){let n=0;for(let a=0;a<t;a++)n=n*31+l[a].uid>>>0;return _g[n]||z_(l,n)}function z_(l,t){const n={};let a=0;for(let u=0;u<bg;u++){const h=u<l.length?l[u]:Qt.EMPTY.source;n[a++]=h.source,n[a++]=h.style}const o=new kr(n);return _g[t]=o,o}class cy{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function hy(l,t){const n=l.byteLength/8|0,a=new Float64Array(l,0,n);new Float64Array(t,0,n).set(a);const u=l.byteLength-n*8;if(u>0){const h=new Uint8Array(l,n*8,u);new Uint8Array(t,n*8,u).set(h)}}const R_={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var O_=(l=>(l[l.DISABLED=0]="DISABLED",l[l.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",l[l.MASK_ACTIVE=2]="MASK_ACTIVE",l[l.RENDERING_MASK_REMOVE=3]="RENDERING_MASK_REMOVE",l[l.NONE=4]="NONE",l))(O_||{});function fy(l,t){return t.alphaMode==="no-premultiply-alpha"&&R_[l]||l}class dy{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const n=this.textures[t];this.textures[t]=null,this.ids[n.uid]=null}this.count=0}}class my{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.blendMode="normal",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}let Ja=0;const vg=class Sg{constructor(t={}){this.uid=_e("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._vertexSize=6,this._elements=[],this._batchPool=[],this._batchPoolIndex=0,this._textureBatchPool=[],this._textureBatchPoolIndex=0,t={...Sg.defaultOptions,...t};const{vertexSize:n,indexSize:a}=t;this.attributeBuffer=new cy(n*this._vertexSize*4),this.indexBuffer=new Uint16Array(a)}begin(){this.batchIndex=0,this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0,this._batchPoolIndex=0,this._textureBatchPoolIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t.indexStart=this.indexSize,t.location=this.attributeSize,t.batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.vertexSize*this._vertexSize}checkAndUpdateTexture(t,n){const a=t.batch.textures.ids[n._source.uid];return!a&&a!==0?!1:(t.textureId=a,t.texture=n,!0)}updateElement(t){this.dirty=!0,t.packAttributes(this.attributeBuffer.float32View,this.attributeBuffer.uint32View,t.location,t.textureId)}break(t){const n=this._elements;let a=this._textureBatchPool[this._textureBatchPoolIndex++]||new dy;if(a.clear(),!n[this.elementStart])return;const o=n[this.elementStart];let u=fy(o.blendMode,o.texture._source);this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const h=this.attributeBuffer.float32View,d=this.attributeBuffer.uint32View,m=this.indexBuffer;let y=this._batchIndexSize,g=this._batchIndexStart,x="startBatch",v=this._batchPool[this._batchPoolIndex++]||new my;for(let w=this.elementStart;w<this.elementSize;++w){const A=n[w];n[w]=null;const T=A.texture._source,G=fy(A.blendMode,T),U=u!==G;if(T._batchTick===Ja&&!U){A.textureId=T._textureBindLocation,y+=A.indexSize,A.packAttributes(h,d,A.location,A.textureId),A.packIndex(m,A.indexStart,A.location/this._vertexSize),A.batch=v;continue}T._batchTick=Ja,(a.count>=bg||U)&&(this._finishBatch(v,g,y-g,a,u,t,x),x="renderBatch",g=y,u=G,a=this._textureBatchPool[this._textureBatchPoolIndex++]||new dy,a.clear(),v=this._batchPool[this._batchPoolIndex++]||new my,++Ja),A.textureId=T._textureBindLocation=a.count,a.ids[T.uid]=a.count,a.textures[a.count++]=T,A.batch=v,y+=A.indexSize,A.packAttributes(h,d,A.location,A.textureId),A.packIndex(m,A.indexStart,A.location/this._vertexSize)}a.count>0&&(this._finishBatch(v,g,y-g,a,u,t,x),g=y,++Ja),this.elementStart=this.elementSize,this._batchIndexStart=g,this._batchIndexSize=y}_finishBatch(t,n,a,o,u,h,d){t.gpuBindGroup=null,t.action=d,t.batcher=this,t.textures=o,t.blendMode=u,t.start=n,t.size=a,++Ja,h.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const n=Math.max(t,this.attributeBuffer.size*2),a=new cy(n);hy(this.attributeBuffer.rawBinaryData,a.rawBinaryData),this.attributeBuffer=a}_resizeIndexBuffer(t){const n=this.indexBuffer;let a=Math.max(t,n.length*1.5);a+=a%2;const o=a>65535?new Uint32Array(a):new Uint16Array(a);if(o.BYTES_PER_ELEMENT!==n.BYTES_PER_ELEMENT)for(let u=0;u<n.length;u++)o[u]=n[u];else hy(n.buffer,o.buffer);this.indexBuffer=o}destroy(){for(let t=0;t<this.batches.length;t++)this.batches[t].destroy();this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t].batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};vg.defaultOptions={vertexSize:4,indexSize:6};let B_=vg;function D_(l,t,n,a,o,u,h,d=null){let m=0;n*=t,o*=u;const y=d.a,g=d.b,x=d.c,v=d.d,w=d.tx,A=d.ty;for(;m<h;){const D=l[n],T=l[n+1];a[o]=y*D+x*T+w,a[o+1]=g*D+v*T+A,o+=u,n+=t,m++}}function U_(l,t,n,a){let o=0;for(t*=n;o<a;)l[t]=0,l[t+1]=0,t+=n,o++}function Ag(l,t,n,a,o){const u=t.a,h=t.b,d=t.c,m=t.d,y=t.tx,g=t.ty;n=n||0,a=a||2,o=o||l.length/a-n;let x=n*a;for(let v=0;v<o;v++){const w=l[x],A=l[x+1];l[x]=u*w+d*A+y,l[x+1]=h*w+m*A+g,x+=a}}function N_(l,t,n){const a=l>>16&255,o=l>>8&255,u=l&255,h=t>>16&255,d=t>>8&255,m=t&255,y=a+(h-a)*n,g=o+(d-o)*n,x=u+(m-u)*n;return(y<<16)+(g<<8)+x}const G_=33554430;function L_(l,t){return l+(t<<32)!==G_?l===16777215?t:t===16777215?l:N_(l,t,.5):16777215}class wg{constructor(){this.batcher=null,this.batch=null,this.applyTransform=!0,this.roundPixels=0}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}packIndex(t,n,a){const o=this.geometryData.indices;for(let u=0;u<this.indexSize;u++)t[n++]=o[u+this.indexOffset]+a-this.vertexOffset}packAttributes(t,n,a,o){const u=this.geometryData,h=this.renderable,d=u.vertices,m=u.uvs,y=this.vertexOffset*2,g=(this.vertexOffset+this.vertexSize)*2,x=this.color,v=x>>16|x&65280|(x&255)<<16;if(this.applyTransform){const w=L_(v,h.groupColor)+(this.alpha*h.groupAlpha*255<<24),A=h.groupTransform,D=o<<16|this.roundPixels&65535,T=A.a,G=A.b,U=A.c,L=A.d,Z=A.tx,K=A.ty;for(let tt=y;tt<g;tt+=2){const Q=d[tt],nt=d[tt+1];t[a]=T*Q+U*nt+Z,t[a+1]=G*Q+L*nt+K,t[a+2]=m[tt],t[a+3]=m[tt+1],n[a+4]=w,n[a+5]=D,a+=6}}else{const w=v+(this.alpha*255<<24);for(let A=y;A<g;A+=2)t[a]=d[A],t[a+1]=d[A+1],t[a+2]=m[A],t[a+3]=m[A+1],n[a+4]=w,n[a+5]=o<<16,a+=6}}get vertSize(){return this.vertexSize}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.vertexOffset=this.vertexOffset,t.vertexSize=this.vertexSize,t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData}reset(){this.applyTransform=!0}}const Vc={build(l,t){let n,a,o,u,h,d;if(l.type==="circle"){const Z=l;n=Z.x,a=Z.y,h=d=Z.radius,o=u=0}else if(l.type==="ellipse"){const Z=l;n=Z.x,a=Z.y,h=Z.halfWidth,d=Z.halfHeight,o=u=0}else{const Z=l,K=Z.width/2,tt=Z.height/2;n=Z.x+K,a=Z.y+tt,h=d=Math.max(0,Math.min(Z.radius,Math.min(K,tt))),o=K-h,u=tt-d}if(!(h>=0&&d>=0&&o>=0&&u>=0))return t;const m=Math.ceil(2.3*Math.sqrt(h+d)),y=m*8+(o?4:0)+(u?4:0);if(y===0)return t;if(m===0)return t[0]=t[6]=n+o,t[1]=t[3]=a+u,t[2]=t[4]=n-o,t[5]=t[7]=a-u,t;let g=0,x=m*4+(o?2:0)+2,v=x,w=y,A=o+h,D=u,T=n+A,G=n-A,U=a+D;if(t[g++]=T,t[g++]=U,t[--x]=U,t[--x]=G,u){const Z=a-D;t[v++]=G,t[v++]=Z,t[--w]=Z,t[--w]=T}for(let Z=1;Z<m;Z++){const K=Math.PI/2*(Z/m),tt=o+Math.cos(K)*h,Q=u+Math.sin(K)*d,nt=n+tt,Y=n-tt,k=a+Q,at=a-Q;t[g++]=nt,t[g++]=k,t[--x]=k,t[--x]=Y,t[v++]=Y,t[v++]=at,t[--w]=at,t[--w]=nt}A=o,D=u+d,T=n+A,G=n-A,U=a+D;const L=a-D;return t[g++]=T,t[g++]=U,t[--w]=L,t[--w]=T,o&&(t[g++]=G,t[g++]=U,t[--w]=L,t[--w]=G),t},triangulate(l,t,n,a,o,u){if(l.length===0)return;let h=0,d=0;for(let g=0;g<l.length;g+=2)h+=l[g],d+=l[g+1];h/=l.length/2,d/=l.length/2;let m=a;t[m*n]=h,t[m*n+1]=d;const y=m++;for(let g=0;g<l.length;g+=2)t[m*n]=l[g],t[m*n+1]=l[g+1],g>0&&(o[u++]=m,o[u++]=y,o[u++]=m-1),m++;o[u++]=y+1,o[u++]=y,o[u++]=m-1}},Y_=1e-4,yy=1e-4;function H_(l){const t=l.length;if(t<6)return 1;let n=0;for(let a=0,o=l[t-2],u=l[t-1];a<t;a+=2){const h=l[a],d=l[a+1];n+=(h-o)*(d+u),o=h,u=d}return n<0?-1:1}function gy(l,t,n,a,o,u,h,d){const m=l-n*o,y=t-a*o,g=l+n*u,x=t+a*u;let v,w;h?(v=a,w=-n):(v=-a,w=n);const A=m+v,D=y+w,T=g+v,G=x+w;return d.push(A,D),d.push(T,G),2}function Kn(l,t,n,a,o,u,h,d){const m=n-l,y=a-t;let g=Math.atan2(m,y),x=Math.atan2(o-l,u-t);d&&g<x?g+=Math.PI*2:!d&&g>x&&(x+=Math.PI*2);let v=g;const w=x-g,A=Math.abs(w),D=Math.sqrt(m*m+y*y),T=(15*A*Math.sqrt(D)/Math.PI>>0)+1,G=w/T;if(v+=G,d){h.push(l,t),h.push(n,a);for(let U=1,L=v;U<T;U++,L+=G)h.push(l,t),h.push(l+Math.sin(L)*D,t+Math.cos(L)*D);h.push(l,t),h.push(o,u)}else{h.push(n,a),h.push(l,t);for(let U=1,L=v;U<T;U++,L+=G)h.push(l+Math.sin(L)*D,t+Math.cos(L)*D),h.push(l,t);h.push(o,u),h.push(l,t)}return T*2}function j_(l,t,n,a,o,u,h,d,m){const y=Y_;if(l.length===0)return;const g=t;let x=g.alignment;if(t.alignment!==.5){let E=H_(l);x=(x-.5)*E+.5}const v=new Ue(l[0],l[1]),w=new Ue(l[l.length-2],l[l.length-1]),A=a,D=Math.abs(v.x-w.x)<y&&Math.abs(v.y-w.y)<y;if(A){l=l.slice(),D&&(l.pop(),l.pop(),w.set(l[l.length-2],l[l.length-1]));const E=(v.x+w.x)*.5,H=(w.y+v.y)*.5;l.unshift(E,H),l.push(E,H)}const T=o,G=l.length/2;let U=l.length;const L=T.length/2,Z=g.width/2,K=Z*Z,tt=g.miterLimit*g.miterLimit;let Q=l[0],nt=l[1],Y=l[2],k=l[3],at=0,lt=0,B=-(nt-k),q=Q-Y,st=0,b=0,M=Math.sqrt(B*B+q*q);B/=M,q/=M,B*=Z,q*=Z;const C=x,R=(1-C)*2,z=C*2;A||(g.cap==="round"?U+=Kn(Q-B*(R-z)*.5,nt-q*(R-z)*.5,Q-B*R,nt-q*R,Q+B*z,nt+q*z,T,!0)+2:g.cap==="square"&&(U+=gy(Q,nt,B,q,R,z,!0,T))),T.push(Q-B*R,nt-q*R),T.push(Q+B*z,nt+q*z);for(let E=1;E<G-1;++E){Q=l[(E-1)*2],nt=l[(E-1)*2+1],Y=l[E*2],k=l[E*2+1],at=l[(E+1)*2],lt=l[(E+1)*2+1],B=-(nt-k),q=Q-Y,M=Math.sqrt(B*B+q*q),B/=M,q/=M,B*=Z,q*=Z,st=-(k-lt),b=Y-at,M=Math.sqrt(st*st+b*b),st/=M,b/=M,st*=Z,b*=Z;const H=Y-Q,W=nt-k,J=Y-at,rt=lt-k,ot=H*J+W*rt,ht=W*J-rt*H,ft=ht<0;if(Math.abs(ht)<.001*Math.abs(ot)){T.push(Y-B*R,k-q*R),T.push(Y+B*z,k+q*z),ot>=0&&(g.join==="round"?U+=Kn(Y,k,Y-B*R,k-q*R,Y-st*R,k-b*R,T,!1)+4:U+=2,T.push(Y-st*z,k-b*z),T.push(Y+st*R,k+b*R));continue}const At=(-B+Q)*(-q+k)-(-B+Y)*(-q+nt),re=(-st+at)*(-b+k)-(-st+Y)*(-b+lt),ut=(H*re-J*At)/ht,gt=(rt*At-W*re)/ht,St=(ut-Y)*(ut-Y)+(gt-k)*(gt-k),dt=Y+(ut-Y)*R,ct=k+(gt-k)*R,zt=Y-(ut-Y)*z,Et=k-(gt-k)*z,Gt=Math.min(H*H+W*W,J*J+rt*rt),jt=ft?R:z,Ut=Gt+jt*jt*K;St<=Ut?g.join==="bevel"||St/K>tt?(ft?(T.push(dt,ct),T.push(Y+B*z,k+q*z),T.push(dt,ct),T.push(Y+st*z,k+b*z)):(T.push(Y-B*R,k-q*R),T.push(zt,Et),T.push(Y-st*R,k-b*R),T.push(zt,Et)),U+=2):g.join==="round"?ft?(T.push(dt,ct),T.push(Y+B*z,k+q*z),U+=Kn(Y,k,Y+B*z,k+q*z,Y+st*z,k+b*z,T,!0)+4,T.push(dt,ct),T.push(Y+st*z,k+b*z)):(T.push(Y-B*R,k-q*R),T.push(zt,Et),U+=Kn(Y,k,Y-B*R,k-q*R,Y-st*R,k-b*R,T,!1)+4,T.push(Y-st*R,k-b*R),T.push(zt,Et)):(T.push(dt,ct),T.push(zt,Et)):(T.push(Y-B*R,k-q*R),T.push(Y+B*z,k+q*z),g.join==="round"?ft?U+=Kn(Y,k,Y+B*z,k+q*z,Y+st*z,k+b*z,T,!0)+2:U+=Kn(Y,k,Y-B*R,k-q*R,Y-st*R,k-b*R,T,!1)+2:g.join==="miter"&&St/K<=tt&&(ft?(T.push(zt,Et),T.push(zt,Et)):(T.push(dt,ct),T.push(dt,ct)),U+=2),T.push(Y-st*R,k-b*R),T.push(Y+st*z,k+b*z),U+=2)}Q=l[(G-2)*2],nt=l[(G-2)*2+1],Y=l[(G-1)*2],k=l[(G-1)*2+1],B=-(nt-k),q=Q-Y,M=Math.sqrt(B*B+q*q),B/=M,q/=M,B*=Z,q*=Z,T.push(Y-B*R,k-q*R),T.push(Y+B*z,k+q*z),A||(g.cap==="round"?U+=Kn(Y-B*(R-z)*.5,k-q*(R-z)*.5,Y-B*R,k-q*R,Y+B*z,k+q*z,T,!1)+2:g.cap==="square"&&(U+=gy(Y,k,B,q,R,z,!1,T)));const S=yy*yy;for(let E=L;E<U+L-2;++E)Q=T[E*2],nt=T[E*2+1],Y=T[(E+1)*2],k=T[(E+1)*2+1],at=T[(E+2)*2],lt=T[(E+2)*2+1],!(Math.abs(Q*(k-lt)+Y*(lt-nt)+at*(nt-k))<S)&&d.push(E,E+1,E+2)}var Yr={exports:{}},py;function k_(){if(py)return Yr.exports;py=1,Yr.exports=l,Yr.exports.default=l;function l(b,M,C){C=C||2;var R=M&&M.length,z=R?M[0]*C:b.length,S=t(b,0,z,C,!0),E=[];if(!S||S.next===S.prev)return E;var H,W,J,rt,ot,ht,ft;if(R&&(S=m(b,M,S,C)),b.length>80*C){H=J=b[0],W=rt=b[1];for(var At=C;At<z;At+=C)ot=b[At],ht=b[At+1],ot<H&&(H=ot),ht<W&&(W=ht),ot>J&&(J=ot),ht>rt&&(rt=ht);ft=Math.max(J-H,rt-W),ft=ft!==0?32767/ft:0}return a(S,E,C,H,W,ft,0),E}function t(b,M,C,R,z){var S,E;if(z===st(b,M,C,R)>0)for(S=M;S<C;S+=R)E=lt(S,b[S],b[S+1],E);else for(S=C-R;S>=M;S-=R)E=lt(S,b[S],b[S+1],E);return E&&Z(E,E.next)&&(B(E),E=E.next),E}function n(b,M){if(!b)return b;M||(M=b);var C=b,R;do if(R=!1,!C.steiner&&(Z(C,C.next)||L(C.prev,C,C.next)===0)){if(B(C),C=M=C.prev,C===C.next)break;R=!0}else C=C.next;while(R||C!==M);return M}function a(b,M,C,R,z,S,E){if(b){!E&&S&&w(b,R,z,S);for(var H=b,W,J;b.prev!==b.next;){if(W=b.prev,J=b.next,S?u(b,R,z,S):o(b)){M.push(W.i/C|0),M.push(b.i/C|0),M.push(J.i/C|0),B(b),b=J.next,H=J.next;continue}if(b=J,b===H){E?E===1?(b=h(n(b),M,C),a(b,M,C,R,z,S,2)):E===2&&d(b,M,C,R,z,S):a(n(b),M,C,R,z,S,1);break}}}}function o(b){var M=b.prev,C=b,R=b.next;if(L(M,C,R)>=0)return!1;for(var z=M.x,S=C.x,E=R.x,H=M.y,W=C.y,J=R.y,rt=z<S?z<E?z:E:S<E?S:E,ot=H<W?H<J?H:J:W<J?W:J,ht=z>S?z>E?z:E:S>E?S:E,ft=H>W?H>J?H:J:W>J?W:J,At=R.next;At!==M;){if(At.x>=rt&&At.x<=ht&&At.y>=ot&&At.y<=ft&&G(z,H,S,W,E,J,At.x,At.y)&&L(At.prev,At,At.next)>=0)return!1;At=At.next}return!0}function u(b,M,C,R){var z=b.prev,S=b,E=b.next;if(L(z,S,E)>=0)return!1;for(var H=z.x,W=S.x,J=E.x,rt=z.y,ot=S.y,ht=E.y,ft=H<W?H<J?H:J:W<J?W:J,At=rt<ot?rt<ht?rt:ht:ot<ht?ot:ht,re=H>W?H>J?H:J:W>J?W:J,ut=rt>ot?rt>ht?rt:ht:ot>ht?ot:ht,gt=D(ft,At,M,C,R),St=D(re,ut,M,C,R),dt=b.prevZ,ct=b.nextZ;dt&&dt.z>=gt&&ct&&ct.z<=St;){if(dt.x>=ft&&dt.x<=re&&dt.y>=At&&dt.y<=ut&&dt!==z&&dt!==E&&G(H,rt,W,ot,J,ht,dt.x,dt.y)&&L(dt.prev,dt,dt.next)>=0||(dt=dt.prevZ,ct.x>=ft&&ct.x<=re&&ct.y>=At&&ct.y<=ut&&ct!==z&&ct!==E&&G(H,rt,W,ot,J,ht,ct.x,ct.y)&&L(ct.prev,ct,ct.next)>=0))return!1;ct=ct.nextZ}for(;dt&&dt.z>=gt;){if(dt.x>=ft&&dt.x<=re&&dt.y>=At&&dt.y<=ut&&dt!==z&&dt!==E&&G(H,rt,W,ot,J,ht,dt.x,dt.y)&&L(dt.prev,dt,dt.next)>=0)return!1;dt=dt.prevZ}for(;ct&&ct.z<=St;){if(ct.x>=ft&&ct.x<=re&&ct.y>=At&&ct.y<=ut&&ct!==z&&ct!==E&&G(H,rt,W,ot,J,ht,ct.x,ct.y)&&L(ct.prev,ct,ct.next)>=0)return!1;ct=ct.nextZ}return!0}function h(b,M,C){var R=b;do{var z=R.prev,S=R.next.next;!Z(z,S)&&K(z,R,R.next,S)&&Y(z,S)&&Y(S,z)&&(M.push(z.i/C|0),M.push(R.i/C|0),M.push(S.i/C|0),B(R),B(R.next),R=b=S),R=R.next}while(R!==b);return n(R)}function d(b,M,C,R,z,S){var E=b;do{for(var H=E.next.next;H!==E.prev;){if(E.i!==H.i&&U(E,H)){var W=at(E,H);E=n(E,E.next),W=n(W,W.next),a(E,M,C,R,z,S,0),a(W,M,C,R,z,S,0);return}H=H.next}E=E.next}while(E!==b)}function m(b,M,C,R){var z=[],S,E,H,W,J;for(S=0,E=M.length;S<E;S++)H=M[S]*R,W=S<E-1?M[S+1]*R:b.length,J=t(b,H,W,R,!1),J===J.next&&(J.steiner=!0),z.push(T(J));for(z.sort(y),S=0;S<z.length;S++)C=g(z[S],C);return C}function y(b,M){return b.x-M.x}function g(b,M){var C=x(b,M);if(!C)return M;var R=at(C,b);return n(R,R.next),n(C,C.next)}function x(b,M){var C=M,R=b.x,z=b.y,S=-1/0,E;do{if(z<=C.y&&z>=C.next.y&&C.next.y!==C.y){var H=C.x+(z-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(H<=R&&H>S&&(S=H,E=C.x<C.next.x?C:C.next,H===R))return E}C=C.next}while(C!==M);if(!E)return null;var W=E,J=E.x,rt=E.y,ot=1/0,ht;C=E;do R>=C.x&&C.x>=J&&R!==C.x&&G(z<rt?R:S,z,J,rt,z<rt?S:R,z,C.x,C.y)&&(ht=Math.abs(z-C.y)/(R-C.x),Y(C,b)&&(ht<ot||ht===ot&&(C.x>E.x||C.x===E.x&&v(E,C)))&&(E=C,ot=ht)),C=C.next;while(C!==W);return E}function v(b,M){return L(b.prev,b,M.prev)<0&&L(M.next,b,b.next)<0}function w(b,M,C,R){var z=b;do z.z===0&&(z.z=D(z.x,z.y,M,C,R)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==b);z.prevZ.nextZ=null,z.prevZ=null,A(z)}function A(b){var M,C,R,z,S,E,H,W,J=1;do{for(C=b,b=null,S=null,E=0;C;){for(E++,R=C,H=0,M=0;M<J&&(H++,R=R.nextZ,!!R);M++);for(W=J;H>0||W>0&&R;)H!==0&&(W===0||!R||C.z<=R.z)?(z=C,C=C.nextZ,H--):(z=R,R=R.nextZ,W--),S?S.nextZ=z:b=z,z.prevZ=S,S=z;C=R}S.nextZ=null,J*=2}while(E>1);return b}function D(b,M,C,R,z){return b=(b-C)*z|0,M=(M-R)*z|0,b=(b|b<<8)&16711935,b=(b|b<<4)&252645135,b=(b|b<<2)&858993459,b=(b|b<<1)&1431655765,M=(M|M<<8)&16711935,M=(M|M<<4)&252645135,M=(M|M<<2)&858993459,M=(M|M<<1)&1431655765,b|M<<1}function T(b){var M=b,C=b;do(M.x<C.x||M.x===C.x&&M.y<C.y)&&(C=M),M=M.next;while(M!==b);return C}function G(b,M,C,R,z,S,E,H){return(z-E)*(M-H)>=(b-E)*(S-H)&&(b-E)*(R-H)>=(C-E)*(M-H)&&(C-E)*(S-H)>=(z-E)*(R-H)}function U(b,M){return b.next.i!==M.i&&b.prev.i!==M.i&&!nt(b,M)&&(Y(b,M)&&Y(M,b)&&k(b,M)&&(L(b.prev,b,M.prev)||L(b,M.prev,M))||Z(b,M)&&L(b.prev,b,b.next)>0&&L(M.prev,M,M.next)>0)}function L(b,M,C){return(M.y-b.y)*(C.x-M.x)-(M.x-b.x)*(C.y-M.y)}function Z(b,M){return b.x===M.x&&b.y===M.y}function K(b,M,C,R){var z=Q(L(b,M,C)),S=Q(L(b,M,R)),E=Q(L(C,R,b)),H=Q(L(C,R,M));return!!(z!==S&&E!==H||z===0&&tt(b,C,M)||S===0&&tt(b,R,M)||E===0&&tt(C,b,R)||H===0&&tt(C,M,R))}function tt(b,M,C){return M.x<=Math.max(b.x,C.x)&&M.x>=Math.min(b.x,C.x)&&M.y<=Math.max(b.y,C.y)&&M.y>=Math.min(b.y,C.y)}function Q(b){return b>0?1:b<0?-1:0}function nt(b,M){var C=b;do{if(C.i!==b.i&&C.next.i!==b.i&&C.i!==M.i&&C.next.i!==M.i&&K(C,C.next,b,M))return!0;C=C.next}while(C!==b);return!1}function Y(b,M){return L(b.prev,b,b.next)<0?L(b,M,b.next)>=0&&L(b,b.prev,M)>=0:L(b,M,b.prev)<0||L(b,b.next,M)<0}function k(b,M){var C=b,R=!1,z=(b.x+M.x)/2,S=(b.y+M.y)/2;do C.y>S!=C.next.y>S&&C.next.y!==C.y&&z<(C.next.x-C.x)*(S-C.y)/(C.next.y-C.y)+C.x&&(R=!R),C=C.next;while(C!==b);return R}function at(b,M){var C=new q(b.i,b.x,b.y),R=new q(M.i,M.x,M.y),z=b.next,S=M.prev;return b.next=M,M.prev=b,C.next=z,z.prev=C,R.next=C,C.prev=R,S.next=R,R.prev=S,R}function lt(b,M,C,R){var z=new q(b,M,C);return R?(z.next=R.next,z.prev=R,R.next.prev=z,R.next=z):(z.prev=z,z.next=z),z}function B(b){b.next.prev=b.prev,b.prev.next=b.next,b.prevZ&&(b.prevZ.nextZ=b.nextZ),b.nextZ&&(b.nextZ.prevZ=b.prevZ)}function q(b,M,C){this.i=b,this.x=M,this.y=C,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}l.deviation=function(b,M,C,R){var z=M&&M.length,S=z?M[0]*C:b.length,E=Math.abs(st(b,0,S,C));if(z)for(var H=0,W=M.length;H<W;H++){var J=M[H]*C,rt=H<W-1?M[H+1]*C:b.length;E-=Math.abs(st(b,J,rt,C))}var ot=0;for(H=0;H<R.length;H+=3){var ht=R[H]*C,ft=R[H+1]*C,At=R[H+2]*C;ot+=Math.abs((b[ht]-b[At])*(b[ft+1]-b[ht+1])-(b[ht]-b[ft])*(b[At+1]-b[ht+1]))}return E===0&&ot===0?0:Math.abs((ot-E)/E)};function st(b,M,C,R){for(var z=0,S=M,E=C-R;S<C;S+=R)z+=(b[E]-b[S])*(b[S+1]+b[E+1]),E=S;return z}return l.flatten=function(b){for(var M=b[0][0].length,C={vertices:[],holes:[],dimensions:M},R=0,z=0;z<b.length;z++){for(var S=0;S<b[z].length;S++)for(var E=0;E<M;E++)C.vertices.push(b[z][S][E]);z>0&&(R+=b[z-1].length,C.holes.push(R))}return C},Yr.exports}var X_=k_();const q_=Zr(X_);function Mg(l,t,n,a,o,u,h){const d=q_(l,t,2);if(!d)return;for(let y=0;y<d.length;y+=3)u[h++]=d[y]+o,u[h++]=d[y+1]+o,u[h++]=d[y+2]+o;let m=o*a;for(let y=0;y<l.length;y+=2)n[m]=l[y],n[m+1]=l[y+1],m+=a}const V_=[],P_={build(l,t){for(let n=0;n<l.points.length;n++)t[n]=l.points[n];return t},triangulate(l,t,n,a,o,u){Mg(l,V_,t,n,a,o,u)}},F_={build(l,t){const n=l,a=n.x,o=n.y,u=n.width,h=n.height;return u>=0&&h>=0&&(t[0]=a,t[1]=o,t[2]=a+u,t[3]=o,t[4]=a+u,t[5]=o+h,t[6]=a,t[7]=o+h),t},triangulate(l,t,n,a,o,u){let h=0;a*=n,t[a+h]=l[0],t[a+h+1]=l[1],h+=n,t[a+h]=l[2],t[a+h+1]=l[3],h+=n,t[a+h]=l[6],t[a+h+1]=l[7],h+=n,t[a+h]=l[4],t[a+h+1]=l[5],h+=n;const d=a/n;o[u++]=d,o[u++]=d+1,o[u++]=d+2,o[u++]=d+1,o[u++]=d+3,o[u++]=d+2}},Z_={build(l,t){return t[0]=l.x,t[1]=l.y,t[2]=l.x2,t[3]=l.y2,t[4]=l.x3,t[5]=l.y3,t},triangulate(l,t,n,a,o,u){let h=0;a*=n,t[a+h]=l[0],t[a+h+1]=l[1],h+=n,t[a+h]=l[2],t[a+h+1]=l[3],h+=n,t[a+h]=l[4],t[a+h+1]=l[5];const d=a/n;o[u++]=d,o[u++]=d+1,o[u++]=d+2}},Ah={rectangle:F_,polygon:P_,triangle:Z_,circle:Vc,ellipse:Vc,roundedRectangle:Vc},W_=new Be;function Q_(l){const o={vertices:[],uvs:[],indices:[]},u=[];for(let h=0;h<l.instructions.length;h++){const d=l.instructions[h];if(d.action==="texture")I_(d.data,u,o);else if(d.action==="fill"||d.action==="stroke"){const m=d.action==="stroke",y=d.data.path.shapePath,g=d.data.style,x=d.data.hole;m&&x&&xy(x.shapePath,g,null,!0,u,o),xy(y,g,x,m,u,o)}}return u}function I_(l,t,n){const{vertices:a,uvs:o,indices:u}=n,h=u.length,d=a.length/2,m=[],y=Ah.rectangle,g=W_,x=l.image;g.x=l.dx,g.y=l.dy,g.width=l.dw,g.height=l.dh;const v=l.transform;y.build(g,m),v&&Ag(m,v),y.triangulate(m,a,2,d,u,h);const w=x.uvs;o.push(w.x0,w.y0,w.x1,w.y1,w.x3,w.y3,w.x2,w.y2);const A=$i.get(wg);A.indexOffset=h,A.indexSize=u.length-h,A.vertexOffset=d,A.vertexSize=a.length/2-d,A.color=l.style,A.alpha=l.alpha,A.texture=x,A.geometryData=n,t.push(A)}function xy(l,t,n,a,o,u){const{vertices:h,uvs:d,indices:m}=u,y=l.shapePrimitives.length-1;l.shapePrimitives.forEach(({shape:g,transform:x},v)=>{const w=m.length,A=h.length/2,D=[],T=Ah[g.type];if(T.build(g,D),x&&Ag(D,x),a){const Z=g.closePath??!0;j_(D,t,!1,Z,h,2,A,m)}else if(n&&y===v){y!==0&&console.warn("[Pixi Graphics] only the last shape have be cut out");const Z=[],K=D.slice();K_(n.shapePath).forEach(Q=>{Z.push(K.length/2),K.push(...Q)}),Mg(K,Z,h,2,A,m,w)}else T.triangulate(D,h,2,A,m,w);const G=d.length/2,U=t.texture;if(U!==Qt.WHITE){const Z=t.matrix;x&&Z.append(x.clone().invert()),D_(h,2,A,d,G,2,h.length/2-A,Z)}else U_(d,G,2,h.length/2-A);const L=$i.get(wg);L.indexOffset=w,L.indexSize=m.length-w,L.vertexOffset=A,L.vertexSize=h.length/2-A,L.color=t.color,L.alpha=t.alpha,L.texture=U,L.geometryData=u,o.push(L)})}function K_(l){if(!l)return[];const t=l.shapePrimitives,n=[];for(let a=0;a<t.length;a++){const o=t[a].shape,u=[];Ah[o.type].build(o,u),n.push(u)}return n}class J_{}class $_{constructor(){this.geometry=new T_,this.instructions=new Py}init(){this.instructions.reset()}}const wh=class uh{constructor(){this._activeBatchers=[],this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._needsContextNeedsRebuild=[]}init(t){uh.defaultOptions.bezierSmoothness=t?.bezierSmoothness??uh.defaultOptions.bezierSmoothness}prerender(){this._returnActiveBatchers()}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let n=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){n?this._cleanGraphicsContextData(t):n=this._initContext(t);const a=Q_(t);let o=0;const u=t.batchMode;let h=!0;if(t.customShader||u==="no-batch")h=!1;else if(u==="auto"){for(let d=0;d<a.length;d++)if(o+=a[d].vertexSize,o>400){h=!1;break}}n=this._gpuContextHash[t.uid]={isBatchable:h,batches:a},t.dirty=!1}return n}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_returnActiveBatchers(){for(let t=0;t<this._activeBatchers.length;t++)$i.return(this._activeBatchers[t]);this._activeBatchers.length=0}_initContextRenderData(t){const n=$i.get($_),a=this._gpuContextHash[t.uid].batches;let o=0,u=0;a.forEach(y=>{y.applyTransform=!1,o+=y.geometryData.vertices.length,u+=y.geometryData.indices.length});const h=$i.get(B_);this._activeBatchers.push(h),h.ensureAttributeBuffer(o),h.ensureIndexBuffer(u),h.begin();for(let y=0;y<a.length;y++){const g=a[y];h.add(g)}h.finish(n.instructions);const d=n.geometry;d.indexBuffer.setDataWithSize(h.indexBuffer,h.indexSize,!0),d.buffers[0].setDataWithSize(h.attributeBuffer.float32View,h.attributeSize,!0);const m=h.batches;for(let y=0;y<m.length;y++){const g=m[y];g.bindGroup=E_(g.textures.textures,g.textures.count)}return this._graphicsDataContextHash[t.uid]=n,n}_initContext(t){const n=new J_;return this._gpuContextHash[t.uid]=n,t.on("update",this.onGraphicsContextUpdate,this),t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextUpdate(t){this._needsContextNeedsRebuild.push(t)}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("update",this.onGraphicsContextUpdate,this),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const n=this._gpuContextHash[t.uid];n.isBatchable||this._graphicsDataContextHash[t.uid]&&($i.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),n.batches&&n.batches.forEach(a=>{$i.return(a)})}destroy(){for(const t of this._needsContextNeedsRebuild)this._gpuContextHash[t.uid]&&this.onGraphicsContextDestroy(t);this._needsContextNeedsRebuild.length=0}};wh.extension={type:[Mt.WebGLSystem,Mt.WebGPUSystem,Mt.CanvasSystem],name:"graphicsContext"};wh.defaultOptions={bezierSmoothness:.5};let Cg=wh;const tv=8,Hr=11920929e-14,ev=1;function Tg(l,t,n,a,o,u,h,d,m,y){const x=Math.min(.99,Math.max(0,y??Cg.defaultOptions.bezierSmoothness));let v=(ev-x)/1;return v*=v,iv(t,n,a,o,u,h,d,m,l,v),l}function iv(l,t,n,a,o,u,h,d,m,y){ch(l,t,n,a,o,u,h,d,m,y,0),m.push(h,d)}function ch(l,t,n,a,o,u,h,d,m,y,g){if(g>tv)return;const x=(l+n)/2,v=(t+a)/2,w=(n+o)/2,A=(a+u)/2,D=(o+h)/2,T=(u+d)/2,G=(x+w)/2,U=(v+A)/2,L=(w+D)/2,Z=(A+T)/2,K=(G+L)/2,tt=(U+Z)/2;if(g>0){let Q=h-l,nt=d-t;const Y=Math.abs((n-h)*nt-(a-d)*Q),k=Math.abs((o-h)*nt-(u-d)*Q);if(Y>Hr&&k>Hr){if((Y+k)*(Y+k)<=y*(Q*Q+nt*nt)){m.push(K,tt);return}}else if(Y>Hr){if(Y*Y<=y*(Q*Q+nt*nt)){m.push(K,tt);return}}else if(k>Hr){if(k*k<=y*(Q*Q+nt*nt)){m.push(K,tt);return}}else if(Q=K-(l+h)/2,nt=tt-(t+d)/2,Q*Q+nt*nt<=y){m.push(K,tt);return}}ch(l,t,x,v,G,U,K,tt,m,y,g+1),ch(K,tt,L,Z,D,T,h,d,m,y,g+1)}const nv=8,sv=11920929e-14,av=1;function lv(l,t,n,a,o,u,h,d){const y=Math.min(.99,Math.max(0,d??Cg.defaultOptions.bezierSmoothness));let g=(av-y)/1;return g*=g,rv(t,n,a,o,u,h,l,g),l}function rv(l,t,n,a,o,u,h,d){hh(h,l,t,n,a,o,u,d,0),h.push(o,u)}function hh(l,t,n,a,o,u,h,d,m){if(m>nv)return;const y=(t+a)/2,g=(n+o)/2,x=(a+u)/2,v=(o+h)/2,w=(y+x)/2,A=(g+v)/2;let D=u-t,T=h-n;const G=Math.abs((a-u)*T-(o-h)*D);if(G>sv){if(G*G<=d*(D*D+T*T)){l.push(w,A);return}}else if(D=w-(t+u)/2,T=A-(n+h)/2,D*D+T*T<=d){l.push(w,A);return}hh(l,t,n,y,g,w,A,d,m+1),hh(l,w,A,x,v,u,h,d,m+1)}function Eg(l,t,n,a,o,u,h,d){let m=Math.abs(o-u);(!h&&o>u||h&&u>o)&&(m=2*Math.PI-m),d=d||Math.max(6,Math.floor(6*Math.pow(a,1/3)*(m/Math.PI))),d=Math.max(d,3);let y=m/d,g=o;y*=h?-1:1;for(let x=0;x<d+1;x++){const v=Math.cos(g),w=Math.sin(g),A=t+v*a,D=n+w*a;l.push(A,D),g+=y}}function ov(l,t,n,a,o,u){const h=l[l.length-2],m=l[l.length-1]-n,y=h-t,g=o-n,x=a-t,v=Math.abs(m*x-y*g);if(v<1e-8||u===0){(l[l.length-2]!==t||l[l.length-1]!==n)&&l.push(t,n);return}const w=m*m+y*y,A=g*g+x*x,D=m*g+y*x,T=u*Math.sqrt(w)/v,G=u*Math.sqrt(A)/v,U=T*D/w,L=G*D/A,Z=T*x+G*y,K=T*g+G*m,tt=y*(G+U),Q=m*(G+U),nt=x*(T+L),Y=g*(T+L),k=Math.atan2(Q-K,tt-Z),at=Math.atan2(Y-K,nt-Z);Eg(l,Z+t,K+n,u,k,at,y*g>x*m)}const rl=Math.PI*2,Pc={centerX:0,centerY:0,ang1:0,ang2:0},Fc=({x:l,y:t},n,a,o,u,h,d,m)=>{l*=n,t*=a;const y=o*l-u*t,g=u*l+o*t;return m.x=y+h,m.y=g+d,m};function uv(l,t){const n=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),a=t===1.5707963267948966?.551915024494:n,o=Math.cos(l),u=Math.sin(l),h=Math.cos(l+t),d=Math.sin(l+t);return[{x:o-u*a,y:u+o*a},{x:h+d*a,y:d-h*a},{x:h,y:d}]}const by=(l,t,n,a)=>{const o=l*a-t*n<0?-1:1;let u=l*n+t*a;return u>1&&(u=1),u<-1&&(u=-1),o*Math.acos(u)},cv=(l,t,n,a,o,u,h,d,m,y,g,x,v)=>{const w=Math.pow(o,2),A=Math.pow(u,2),D=Math.pow(g,2),T=Math.pow(x,2);let G=w*A-w*T-A*D;G<0&&(G=0),G/=w*T+A*D,G=Math.sqrt(G)*(h===d?-1:1);const U=G*o/u*x,L=G*-u/o*g,Z=y*U-m*L+(l+n)/2,K=m*U+y*L+(t+a)/2,tt=(g-U)/o,Q=(x-L)/u,nt=(-g-U)/o,Y=(-x-L)/u,k=by(1,0,tt,Q);let at=by(tt,Q,nt,Y);d===0&&at>0&&(at-=rl),d===1&&at<0&&(at+=rl),v.centerX=Z,v.centerY=K,v.ang1=k,v.ang2=at};function hv(l,t,n,a,o,u,h,d=0,m=0,y=0){if(u===0||h===0)return;const g=Math.sin(d*rl/360),x=Math.cos(d*rl/360),v=x*(t-a)/2+g*(n-o)/2,w=-g*(t-a)/2+x*(n-o)/2;if(v===0&&w===0)return;u=Math.abs(u),h=Math.abs(h);const A=Math.pow(v,2)/Math.pow(u,2)+Math.pow(w,2)/Math.pow(h,2);A>1&&(u*=Math.sqrt(A),h*=Math.sqrt(A)),cv(t,n,a,o,u,h,m,y,g,x,v,w,Pc);let{ang1:D,ang2:T}=Pc;const{centerX:G,centerY:U}=Pc;let L=Math.abs(T)/(rl/4);Math.abs(1-L)<1e-7&&(L=1);const Z=Math.max(Math.ceil(L),1);T/=Z;let K=l[l.length-2],tt=l[l.length-1];const Q={x:0,y:0};for(let nt=0;nt<Z;nt++){const Y=uv(D,T),{x:k,y:at}=Fc(Y[0],u,h,x,g,G,U,Q),{x:lt,y:B}=Fc(Y[1],u,h,x,g,G,U,Q),{x:q,y:st}=Fc(Y[2],u,h,x,g,G,U,Q);Tg(l,K,tt,k,at,lt,B,q,st),K=q,tt=st,D+=T}}function fv(l,t,n){const a=(h,d)=>{const m=d.x-h.x,y=d.y-h.y,g=Math.sqrt(m*m+y*y),x=m/g,v=y/g;return{len:g,nx:x,ny:v}},o=(h,d)=>{h===0?l.moveTo(d.x,d.y):l.lineTo(d.x,d.y)};let u=t[t.length-1];for(let h=0;h<t.length;h++){const d=t[h%t.length],m=d.radius??n;if(m<=0){o(h,d),u=d;continue}const y=t[(h+1)%t.length],g=a(d,u),x=a(d,y);if(g.len<1e-4||x.len<1e-4){o(h,d),u=d;continue}let v=Math.asin(g.nx*x.ny-g.ny*x.nx),w=1,A=!1;g.nx*x.nx-g.ny*-x.ny<0?v<0?v=Math.PI+v:(v=Math.PI-v,w=-1,A=!0):v>0&&(w=-1,A=!0);const D=v/2;let T,G=Math.abs(Math.cos(D)*m/Math.sin(D));G>Math.min(g.len/2,x.len/2)?(G=Math.min(g.len/2,x.len/2),T=Math.abs(G*Math.sin(D)/Math.cos(D))):T=m;const U=d.x+x.nx*G+-x.ny*T*w,L=d.y+x.ny*G+x.nx*T*w,Z=Math.atan2(g.ny,g.nx)+Math.PI/2*w,K=Math.atan2(x.ny,x.nx)-Math.PI/2*w;h===0&&l.moveTo(U+Math.cos(Z)*T,L+Math.sin(Z)*T),l.arc(U,L,T,Z,K,A),u=d}}function dv(l,t,n,a){const o=(d,m)=>Math.sqrt((d.x-m.x)**2+(d.y-m.y)**2),u=(d,m,y)=>({x:d.x+(m.x-d.x)*y,y:d.y+(m.y-d.y)*y}),h=t.length;for(let d=0;d<h;d++){const m=t[(d+1)%h],y=m.radius??n;if(y<=0){d===0?l.moveTo(m.x,m.y):l.lineTo(m.x,m.y);continue}const g=t[d],x=t[(d+2)%h],v=o(g,m);let w;if(v<1e-4)w=m;else{const T=Math.min(v/2,y);w=u(m,g,T/v)}const A=o(x,m);let D;if(A<1e-4)D=m;else{const T=Math.min(A/2,y);D=u(m,x,T/A)}d===0?l.moveTo(w.x,w.y):l.lineTo(w.x,w.y),l.quadraticCurveTo(m.x,m.y,D.x,D.y,a)}}const mv=new Be;class yv{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Ri,this._graphicsPath2D=t}moveTo(t,n){return this.startPoly(t,n),this}lineTo(t,n){this._ensurePoly();const a=this._currentPoly.points,o=a[a.length-2],u=a[a.length-1];return(o!==t||u!==n)&&a.push(t,n),this}arc(t,n,a,o,u,h){this._ensurePoly(!1);const d=this._currentPoly.points;return Eg(d,t,n,a,o,u,h),this}arcTo(t,n,a,o,u){this._ensurePoly();const h=this._currentPoly.points;return ov(h,t,n,a,o,u),this}arcToSvg(t,n,a,o,u,h,d){const m=this._currentPoly.points;return hv(m,this._currentPoly.lastX,this._currentPoly.lastY,h,d,t,n,a,o,u),this}bezierCurveTo(t,n,a,o,u,h,d){this._ensurePoly();const m=this._currentPoly;return Tg(this._currentPoly.points,m.lastX,m.lastY,t,n,a,o,u,h,d),this}quadraticCurveTo(t,n,a,o,u){this._ensurePoly();const h=this._currentPoly;return lv(this._currentPoly.points,h.lastX,h.lastY,t,n,a,o,u),this}closePath(){return this.endPoly(!0),this}addPath(t,n){this.endPoly(),n&&!n.isIdentity()&&(t=t.clone(!0),t.transform(n));for(let a=0;a<t.instructions.length;a++){const o=t.instructions[a];this[o.action](...o.data)}return this}finish(t=!1){this.endPoly(t)}rect(t,n,a,o,u){return this.drawShape(new Be(t,n,a,o),u),this}circle(t,n,a,o){return this.drawShape(new _h(t,n,a),o),this}poly(t,n,a){const o=new ll(t);return o.closePath=n,this.drawShape(o,a),this}regularPoly(t,n,a,o,u=0,h){o=Math.max(o|0,3);const d=-1*Math.PI/2+u,m=Math.PI*2/o,y=[];for(let g=0;g<o;g++){const x=g*m+d;y.push(t+a*Math.cos(x),n+a*Math.sin(x))}return this.poly(y,!0,h),this}roundPoly(t,n,a,o,u,h=0,d){if(o=Math.max(o|0,3),u<=0)return this.regularPoly(t,n,a,o,h);const m=a*Math.sin(Math.PI/o)-.001;u=Math.min(u,m);const y=-1*Math.PI/2+h,g=Math.PI*2/o,x=(o-2)*Math.PI/o/2;for(let v=0;v<o;v++){const w=v*g+y,A=t+a*Math.cos(w),D=n+a*Math.sin(w),T=w+Math.PI+x,G=w-Math.PI-x,U=A+u*Math.cos(T),L=D+u*Math.sin(T),Z=A+u*Math.cos(G),K=D+u*Math.sin(G);v===0?this.moveTo(U,L):this.lineTo(U,L),this.quadraticCurveTo(A,D,Z,K,d)}return this.closePath()}roundShape(t,n,a=!1,o){return t.length<3?this:(a?dv(this,t,n,o):fv(this,t,n),this.closePath())}filletRect(t,n,a,o,u){if(u===0)return this.rect(t,n,a,o);const h=Math.min(a,o)/2,d=Math.min(h,Math.max(-h,u)),m=t+a,y=n+o,g=d<0?-d:0,x=Math.abs(d);return this.moveTo(t,n+x).arcTo(t+g,n+g,t+x,n,x).lineTo(m-x,n).arcTo(m-g,n+g,m,n+x,x).lineTo(m,y-x).arcTo(m-g,y-g,t+a-x,y,x).lineTo(t+x,y).arcTo(t+g,y-g,t,y-x,x).closePath()}chamferRect(t,n,a,o,u,h){if(u<=0)return this.rect(t,n,a,o);const d=Math.min(u,Math.min(a,o)/2),m=t+a,y=n+o,g=[t+d,n,m-d,n,m,n+d,m,y-d,m-d,y,t+d,y,t,y-d,t,n+d];for(let x=g.length-1;x>=2;x-=2)g[x]===g[x-2]&&g[x-1]===g[x-3]&&g.splice(x-1,2);return this.poly(g,!0,h)}ellipse(t,n,a,o,u){return this.drawShape(new vh(t,n,a,o),u),this}roundRect(t,n,a,o,u,h){return this.drawShape(new Sh(t,n,a,o,u),h),this}drawShape(t,n){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:n}),this}startPoly(t,n){let a=this._currentPoly;return a&&this.endPoly(),a=new ll,a.points.push(t,n),this._currentPoly=a,this}endPoly(t=!1){const n=this._currentPoly;return n&&n.points.length>2&&(n.closePath=t,this.shapePrimitives.push({shape:n})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new ll,t)){const n=this.shapePrimitives[this.shapePrimitives.length-1];if(n){let a=n.shape.x,o=n.shape.y;if(!n.transform.isIdentity()){const u=n.transform,h=a;a=u.a*a+u.c*o+u.tx,o=u.b*h+u.d*o+u.ty}this._currentPoly.points.push(a,o)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let n=0;n<t.instructions.length;n++){const a=t.instructions[n];this[a.action](...a.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const n=this.shapePrimitives;for(let a=0;a<n.length;a++){const o=n[a],u=o.shape.getBounds(mv);o.transform?t.addRect(u,o.transform):t.addRect(u)}return t}}class Ks{constructor(t){this.instructions=[],this.uid=_e("graphicsPath"),this._dirty=!0,typeof t=="string"?__(t,this):this.instructions=t?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new yv(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,n){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,n]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,n,a,o,u){const h=this.instructions[this.instructions.length-1],d=this.getLastPoint(Ue.shared);let m=0,y=0;if(!h||h.action!=="bezierCurveTo")m=d.x,y=d.y;else{m=h.data[2],y=h.data[3];const g=d.x,x=d.y;m=g+(g-m),y=x+(x-y)}return this.instructions.push({action:"bezierCurveTo",data:[m,y,t,n,a,o,u]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,n,a){const o=this.instructions[this.instructions.length-1],u=this.getLastPoint(Ue.shared);let h=0,d=0;if(!o||o.action!=="quadraticCurveTo")h=u.x,d=u.y;else{h=o.data[0],d=o.data[1];const m=u.x,y=u.y;h=m+(m-h),d=y+(y-d)}return this.instructions.push({action:"quadraticCurveTo",data:[h,d,t,n,a]}),this._dirty=!0,this}rect(t,n,a,o,u){return this.instructions.push({action:"rect",data:[t,n,a,o,u]}),this._dirty=!0,this}circle(t,n,a,o){return this.instructions.push({action:"circle",data:[t,n,a,o]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,n,a,o,u,h,d){u=u||o/2;const m=-1*Math.PI/2+h,y=a*2,g=Math.PI*2/y,x=[];for(let v=0;v<y;v++){const w=v%2?u:o,A=v*g+m;x.push(t+w*Math.cos(A),n+w*Math.sin(A))}return this.poly(x,!0,d),this}clone(t=!1){const n=new Ks;if(!t)n.instructions=this.instructions.slice();else for(let a=0;a<this.instructions.length;a++){const o=this.instructions[a];n.instructions.push({action:o.action,data:o.data.slice()})}return n}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const n=t.a,a=t.b,o=t.c,u=t.d,h=t.tx,d=t.ty;let m=0,y=0,g=0,x=0,v=0,w=0,A=0,D=0;for(let T=0;T<this.instructions.length;T++){const G=this.instructions[T],U=G.data;switch(G.action){case"moveTo":case"lineTo":m=U[0],y=U[1],U[0]=n*m+o*y+h,U[1]=a*m+u*y+d;break;case"bezierCurveTo":g=U[0],x=U[1],v=U[2],w=U[3],m=U[4],y=U[5],U[0]=n*g+o*x+h,U[1]=a*g+u*x+d,U[2]=n*v+o*w+h,U[3]=a*v+u*w+d,U[4]=n*m+o*y+h,U[5]=a*m+u*y+d;break;case"quadraticCurveTo":g=U[0],x=U[1],m=U[2],y=U[3],U[0]=n*g+o*x+h,U[1]=a*g+u*x+d,U[2]=n*m+o*y+h,U[3]=a*m+u*y+d;break;case"arcToSvg":m=U[5],y=U[6],A=U[0],D=U[1],U[0]=n*A+o*D,U[1]=a*A+u*D,U[5]=n*m+o*y+h,U[6]=a*m+u*y+d;break;case"circle":U[4]=$a(U[3],t);break;case"rect":U[4]=$a(U[4],t);break;case"ellipse":U[8]=$a(U[8],t);break;case"roundRect":U[5]=$a(U[5],t);break;case"addPath":U[0].transform(t);break;case"poly":U[2]=$a(U[2],t);break;default:Oe("unknown transform action",G.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let n=this.instructions.length-1,a=this.instructions[n];if(!a)return t.x=0,t.y=0,t;for(;a.action==="closePath";){if(n--,n<0)return t.x=0,t.y=0,t;a=this.instructions[n]}switch(a.action){case"moveTo":case"lineTo":t.x=a.data[0],t.y=a.data[1];break;case"quadraticCurveTo":t.x=a.data[2],t.y=a.data[3];break;case"bezierCurveTo":t.x=a.data[4],t.y=a.data[5];break;case"arc":case"arcToSvg":t.x=a.data[5],t.y=a.data[6];break;case"addPath":a.data[0].getLastPoint(t);break}return t}}function $a(l,t){return l?l.prepend(t):t.clone()}function gv(l,t){if(typeof l=="string"){const a=document.createElement("div");a.innerHTML=l.trim(),l=a.querySelector("svg")}const n={context:t,path:new Ks};return zg(l,n,null,null),t}function zg(l,t,n,a){const o=l.children,{fillStyle:u,strokeStyle:h}=pv(l);u&&n?n={...n,...u}:u&&(n=u),h&&a?a={...a,...h}:h&&(a=h),t.context.fillStyle=n,t.context.strokeStyle=a;let d,m,y,g,x,v,w,A,D,T,G,U,L,Z,K,tt,Q;switch(l.nodeName.toLowerCase()){case"path":Z=l.getAttribute("d"),K=new Ks(Z),t.context.path(K),n&&t.context.fill(),a&&t.context.stroke();break;case"circle":w=Ae(l,"cx",0),A=Ae(l,"cy",0),D=Ae(l,"r",0),t.context.ellipse(w,A,D,D),n&&t.context.fill(),a&&t.context.stroke();break;case"rect":d=Ae(l,"x",0),m=Ae(l,"y",0),tt=Ae(l,"width",0),Q=Ae(l,"height",0),T=Ae(l,"rx",0),G=Ae(l,"ry",0),T||G?t.context.roundRect(d,m,tt,Q,T||G):t.context.rect(d,m,tt,Q),n&&t.context.fill(),a&&t.context.stroke();break;case"ellipse":w=Ae(l,"cx",0),A=Ae(l,"cy",0),T=Ae(l,"rx",0),G=Ae(l,"ry",0),t.context.beginPath(),t.context.ellipse(w,A,T,G),n&&t.context.fill(),a&&t.context.stroke();break;case"line":y=Ae(l,"x1",0),g=Ae(l,"y1",0),x=Ae(l,"x2",0),v=Ae(l,"y2",0),t.context.beginPath(),t.context.moveTo(y,g),t.context.lineTo(x,v),a&&t.context.stroke();break;case"polygon":L=l.getAttribute("points"),U=L.match(/\d+/g).map(nt=>parseInt(nt,10)),t.context.poly(U,!0),n&&t.context.fill(),a&&t.context.stroke();break;case"polyline":L=l.getAttribute("points"),U=L.match(/\d+/g).map(nt=>parseInt(nt,10)),t.context.poly(U,!1),a&&t.context.stroke();break;case"g":case"svg":break;default:{console.info(`[SVG parser] <${l.nodeName}> elements unsupported`);break}}for(let nt=0;nt<o.length;nt++)zg(o[nt],t,n,a)}function Ae(l,t,n){const a=l.getAttribute(t);return a?Number(a):n}function pv(l){const t=l.getAttribute("style"),n={},a={};let o=!1,u=!1;if(t){const h=t.split(";");for(let d=0;d<h.length;d++){const m=h[d],[y,g]=m.split(":");switch(y){case"stroke":g!=="none"&&(n.color=Ne.shared.setValue(g).toNumber(),u=!0);break;case"stroke-width":n.width=Number(g);break;case"fill":g!=="none"&&(o=!0,a.color=Ne.shared.setValue(g).toNumber());break;case"fill-opacity":a.alpha=Number(g);break;case"stroke-opacity":n.alpha=Number(g);break;case"opacity":a.alpha=Number(g),n.alpha=Number(g);break}}}else{const h=l.getAttribute("stroke");h&&h!=="none"&&(u=!0,n.color=Ne.shared.setValue(h).toNumber(),n.width=Ae(l,"stroke-width",1));const d=l.getAttribute("fill");d&&d!=="none"&&(o=!0,a.color=Ne.shared.setValue(d).toNumber())}return{strokeStyle:u?n:null,fillStyle:o?a:null}}const Rg=class fh{constructor(t,n,a,o){this.uid=_e("fillGradient"),this.type="linear",this.gradientStops=[],this.x0=t,this.y0=n,this.x1=a,this.y1=o}addColorStop(t,n){return this.gradientStops.push({offset:t,color:Ne.shared.setValue(n).toHex()}),this}buildLinearGradient(){const t=fh.defaultTextureSize,{gradientStops:n}=this,a=Me.get().createCanvas();a.width=t,a.height=t;const o=a.getContext("2d"),u=o.createLinearGradient(0,0,fh.defaultTextureSize,1);for(let D=0;D<n.length;D++){const T=n[D];u.addColorStop(T.offset,T.color)}o.fillStyle=u,o.fillRect(0,0,t,t),this.texture=new Qt({source:new hl({resource:a,addressModeU:"clamp-to-edge",addressModeV:"repeat"})});const{x0:h,y0:d,x1:m,y1:y}=this,g=new Zt,x=m-h,v=y-d,w=Math.sqrt(x*x+v*v),A=Math.atan2(v,x);g.translate(-h,-d),g.scale(1/t,1/t),g.rotate(-A),g.scale(256/w,1),this.transform=g}};Rg.defaultTextureSize=256;let Og=Rg;const _y={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class xv{constructor(t,n){this.uid=_e("fillPattern"),this.transform=new Zt,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),n&&(t.source.style.addressModeU=_y[n].addressModeU,t.source.style.addressModeV=_y[n].addressModeV)}setTransform(t){const n=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/n.frame.width,1/n.frame.height)}}function On(l,t){if(l==null)return null;let n,a;if(l?.fill?(a=l.fill,n={...t,...l}):(a=l,n=t),Ne.isColorLike(a)){const h=Ne.shared.setValue(a??0);return{...n,color:h.toNumber(),alpha:h.alpha===1?n.alpha:h.alpha,texture:Qt.WHITE}}else if(a instanceof xv){const h=a;return{...n,color:16777215,texture:h.texture,matrix:h.transform,fill:n.fill??null}}else if(a instanceof Og){const h=a;return h.buildLinearGradient(),{...n,color:16777215,texture:h.texture,matrix:h.transform}}const o={...t,...l};if(o.texture){if(o.texture!==Qt.WHITE){const d=o.matrix?.invert()||new Zt;d.scale(1/o.texture.frame.width,1/o.texture.frame.height),o.matrix=d}const h=o.texture.source.style;h.addressMode==="clamp-to-edge"&&(h.addressMode="repeat")}const u=Ne.shared.setValue(o.color);return o.alpha*=u.alpha,o.color=u.toNumber(),o.matrix=o.matrix?o.matrix.clone():null,o}const bv=new Ue,vy=new Zt,Mh=class zi extends sn{constructor(){super(...arguments),this.uid=_e("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Ks,this._transform=new Zt,this._fillStyle={...zi.defaultFillStyle},this._strokeStyle={...zi.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Ri,this._boundsDirty=!0}clone(){const t=new zi;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=On(t,zi.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=On(t,zi.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=On(t,zi.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=On(t,zi.defaultStrokeStyle),this}texture(t,n,a,o,u,h){return this.instructions.push({action:"texture",data:{image:t,dx:a||0,dy:o||0,dw:u||t.frame.width,dh:h||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:n?Ne.shared.setValue(n).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Ks,this}fill(t,n){let a;const o=this.instructions[this.instructions.length-1];return this._tick===0&&o&&o.action==="stroke"?a=o.data.path:a=this._activePath.clone(),a?(t&&(n!==void 0&&typeof t=="number"&&(se(ne,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:n}),this._fillStyle=On(t,zi.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:a}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:n}=this._activePath.getLastPoint(Ue.shared);this._activePath.clear(),this._activePath.moveTo(t,n)}stroke(t){let n;const a=this.instructions[this.instructions.length-1];return this._tick===0&&a&&a.action==="fill"?n=a.data.path:n=this._activePath.clone(),n?(t&&(this._strokeStyle=On(t,zi.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const n=this.instructions[this.instructions.length-1-t],a=this._activePath.clone();if(n&&(n.action==="stroke"||n.action==="fill"))if(n.data.hole)n.data.hole.addPath(a);else{n.data.hole=a;break}}return this._initNextPathLocation(),this}arc(t,n,a,o,u,h){this._tick++;const d=this._transform;return this._activePath.arc(d.a*t+d.c*n+d.tx,d.b*t+d.d*n+d.ty,a,o,u,h),this}arcTo(t,n,a,o,u){this._tick++;const h=this._transform;return this._activePath.arcTo(h.a*t+h.c*n+h.tx,h.b*t+h.d*n+h.ty,h.a*a+h.c*o+h.tx,h.b*a+h.d*o+h.ty,u),this}arcToSvg(t,n,a,o,u,h,d){this._tick++;const m=this._transform;return this._activePath.arcToSvg(t,n,a,o,u,m.a*h+m.c*d+m.tx,m.b*h+m.d*d+m.ty),this}bezierCurveTo(t,n,a,o,u,h,d){this._tick++;const m=this._transform;return this._activePath.bezierCurveTo(m.a*t+m.c*n+m.tx,m.b*t+m.d*n+m.ty,m.a*a+m.c*o+m.tx,m.b*a+m.d*o+m.ty,m.a*u+m.c*h+m.tx,m.b*u+m.d*h+m.ty,d),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(t,n,a,o){return this._tick++,this._activePath.ellipse(t,n,a,o,this._transform.clone()),this}circle(t,n,a){return this._tick++,this._activePath.circle(t,n,a,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,n){this._tick++;const a=this._transform;return this._activePath.lineTo(a.a*t+a.c*n+a.tx,a.b*t+a.d*n+a.ty),this}moveTo(t,n){this._tick++;const a=this._transform,o=this._activePath.instructions,u=a.a*t+a.c*n+a.tx,h=a.b*t+a.d*n+a.ty;return o.length===1&&o[0].action==="moveTo"?(o[0].data[0]=u,o[0].data[1]=h,this):(this._activePath.moveTo(u,h),this)}quadraticCurveTo(t,n,a,o,u){this._tick++;const h=this._transform;this._activePath.quadraticCurveTo(h.a*t+h.c*n+h.tx,h.b*t+h.d*n+h.ty,h.a*a+h.c*o+h.tx,h.b*a+h.d*o+h.ty,u)}rect(t,n,a,o){return this._tick++,this._activePath.rect(t,n,a,o,this._transform.clone()),this}roundRect(t,n,a,o,u){return this._tick++,this._activePath.roundRect(t,n,a,o,u,this._transform.clone()),this}poly(t,n){return this._tick++,this._activePath.poly(t,n,this._transform.clone()),this}regularPoly(t,n,a,o,u=0,h){return this._tick++,this._activePath.regularPoly(t,n,a,o,u,h),this}roundPoly(t,n,a,o,u,h){return this._tick++,this._activePath.roundPoly(t,n,a,o,u,h),this}roundShape(t,n,a,o){return this._tick++,this._activePath.roundShape(t,n,a,o),this}filletRect(t,n,a,o,u){return this._tick++,this._activePath.filletRect(t,n,a,o,u),this}chamferRect(t,n,a,o,u,h){return this._tick++,this._activePath.chamferRect(t,n,a,o,u,h),this}star(t,n,a,o,u=0,h=0){return this._tick++,this._activePath.star(t,n,a,o,u,h,this._transform.clone()),this}svg(t){this._tick++,gv(t,this)}restore(){const t=this._stateStack.pop();t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle)}save(){this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}})}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,n=t){return this._transform.scale(t,n),this}setTransform(t,n,a,o,u,h){return t instanceof Zt?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,n,a,o,u,h),this)}transform(t,n,a,o,u,h){return t instanceof Zt?(this._transform.append(t),this):(vy.set(t,n,a,o,u,h),this._transform.append(vy),this)}translate(t,n=t){return this._transform.translate(t,n),this}clear(){return this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let n=0;n<this.instructions.length;n++){const a=this.instructions[n],o=a.action;if(o==="fill"){const u=a.data;t.addBounds(u.path.bounds)}else if(o==="texture"){const u=a.data;t.addFrame(u.dx,u.dy,u.dx+u.dw,u.dy+u.dh,u.transform)}if(o==="stroke"){const u=a.data,h=u.style.width/2,d=u.path.bounds;t.addFrame(d.minX-h,d.minY-h,d.maxX+h,d.maxY+h)}}return t}containsPoint(t){if(!this.bounds.containsPoint(t.x,t.y))return!1;const n=this.instructions;let a=!1;for(let o=0;o<n.length;o++){const u=n[o],h=u.data,d=h.path;if(!u.action||!d)continue;const m=h.style,y=d.shapePath.shapePrimitives;for(let g=0;g<y.length;g++){const x=y[g].shape;if(!m||!x)continue;const v=y[g].transform,w=v?v.applyInverse(t,bv):t;u.action==="fill"?a=x.contains(w.x,w.y):a=x.strokeContains(w.x,w.y,m.width);const A=h.hole;if(A){const D=A.shapePath?.shapePrimitives;if(D)for(let T=0;T<D.length;T++)D[T].shape.contains(w.x,w.y)&&(a=!1)}if(a)return!0}}return a}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const a=typeof t=="boolean"?t:t?.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(a),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(a)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Mh.defaultFillStyle={color:16777215,alpha:1,texture:Qt.WHITE,matrix:null,fill:null};Mh.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Qt.WHITE,matrix:null,fill:null};let Bn=Mh;function Ch(l,t=1){const n=Js.RETINA_PREFIX?.exec(l);return n?parseFloat(n[1]):t}function Th(l,t,n){l.label=n;const a=new Qt({source:l,label:n}),o=()=>{delete t.promiseCache[n],Le.has(n)&&Le.remove(n)};return a.once("destroy",()=>{n in t.promiseCache&&(Oe("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),o())}),a.source.once("destroy",()=>{l.destroyed||(Oe("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),o())}),a}const _v=".svg",vv="image/svg+xml",Sv={extension:{type:Mt.LoadParser,priority:is.Low},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(l){return ta(l,vv)||ea(l,_v)},async load(l,t,n){return t.data.parseAsGraphicsContext??this.config.parseAsGraphicsContext?wv(l):Av(l,t,n,this.config.crossOrigin)},unload(l){l.destroy(!0)}};async function Av(l,t,n,a){const u=await(await Me.get().fetch(l)).blob(),h=URL.createObjectURL(u),d=new Image;d.src=h,d.crossOrigin=a,await d.decode(),URL.revokeObjectURL(h);const m=document.createElement("canvas"),y=m.getContext("2d"),g=t.data?.resolution||Ch(l),x=t.data?.width??d.width,v=t.data?.height??d.height;m.width=x*g,m.height=v*g,y.drawImage(d,0,0,x*g,v*g);const{parseAsGraphicsContext:w,...A}=t.data,D=new hl({resource:m,alphaMode:"premultiply-alpha-on-upload",resolution:g,...A});return Th(D,n,l)}async function wv(l){const n=await(await Me.get().fetch(l)).text(),a=new Bn;return a.svg(n),a}const Mv=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Fs=null,dh=class{constructor(){Fs||(Fs=URL.createObjectURL(new Blob([Mv],{type:"application/javascript"}))),this.worker=new Worker(Fs)}};dh.revokeObjectURL=function(){Fs&&(URL.revokeObjectURL(Fs),Fs=null)};const Cv=`(function () {
    'use strict';

    async function loadImageBitmap(url) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      const imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap;
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Zs=null;class Bg{constructor(){Zs||(Zs=URL.createObjectURL(new Blob([Cv],{type:"application/javascript"}))),this.worker=new Worker(Zs)}}Bg.revokeObjectURL=function(){Zs&&(URL.revokeObjectURL(Zs),Zs=null)};let Sy=0,Zc;class Tv{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:n}=new dh;n.addEventListener("message",a=>{n.terminate(),dh.revokeObjectURL(),t(a.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){Zc===void 0&&(Zc=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<Zc&&(this._createdWorkers++,t=new Bg().worker,t.addEventListener("message",n=>{this._complete(n.data),this._returnWorker(n.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){t.error!==void 0?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),this._resolveHash[t.uuid]=null}async _run(t,n){await this._initWorkers();const a=new Promise((o,u)=>{this._queue.push({id:t,arguments:n,resolve:o,reject:u})});return this._next(),a}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const n=this._queue.pop(),a=n.id;this._resolveHash[Sy]={resolve:n.resolve,reject:n.reject},t.postMessage({data:n.arguments,uuid:Sy++,id:a})}}const Ay=new Tv,Ev=[".jpeg",".jpg",".png",".webp",".avif"],zv=["image/jpeg","image/png","image/webp","image/avif"];async function Rv(l){const t=await Me.get().fetch(l);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${l}: ${t.status} ${t.statusText}`);const n=await t.blob();return await createImageBitmap(n)}const Dg={name:"loadTextures",extension:{type:Mt.LoadParser,priority:is.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(l){return ta(l,zv)||ea(l,Ev)},async load(l,t,n){let a=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await Ay.isImageBitmapSupported()?a=await Ay.loadImageBitmap(l):a=await Rv(l):a=await new Promise(u=>{a=new Image,a.crossOrigin=this.config.crossOrigin,a.src=l,a.complete?u(a):a.onload=()=>{u(a)}});const o=new hl({resource:a,alphaMode:"premultiply-alpha-on-upload",resolution:t.data?.resolution||Ch(l),...t.data});return Th(o,n,l)},unload(l){l.destroy(!0)}},Ug=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],Ov=Ug.map(l=>`video/${l.substring(1)}`);function Bv(l,t,n){n===void 0&&!t.startsWith("data:")?l.crossOrigin=Uv(t):n!==!1&&(l.crossOrigin=typeof n=="string"?n:"anonymous")}function Dv(l){return new Promise((t,n)=>{l.addEventListener("canplaythrough",a),l.addEventListener("error",o),l.load();function a(){u(),t()}function o(h){u(),n(h)}function u(){l.removeEventListener("canplaythrough",a),l.removeEventListener("error",o)}})}function Uv(l,t=globalThis.location){if(l.startsWith("data:"))return"";t=t||globalThis.location;const n=new URL(l,document.baseURI);return n.hostname!==t.hostname||n.port!==t.port||n.protocol!==t.protocol?"anonymous":""}const Nv={name:"loadVideo",extension:{type:Mt.LoadParser},config:null,test(l){const t=ta(l,Ov),n=ea(l,Ug);return t||n},async load(l,t,n){const a={...jr.defaultOptions,resolution:t.data?.resolution||Ch(l),alphaMode:t.data?.alphaMode||await tg(),...t.data},o=document.createElement("video"),u={preload:a.autoLoad!==!1?"auto":void 0,"webkit-playsinline":a.playsinline!==!1?"":void 0,playsinline:a.playsinline!==!1?"":void 0,muted:a.muted===!0?"":void 0,loop:a.loop===!0?"":void 0,autoplay:a.autoPlay!==!1?"":void 0};Object.keys(u).forEach(m=>{const y=u[m];y!==void 0&&o.setAttribute(m,y)}),a.muted===!0&&(o.muted=!0),Bv(o,l,a.crossorigin);const h=document.createElement("source");let d;if(l.startsWith("data:"))d=l.slice(5,l.indexOf(";"));else if(!l.startsWith("blob:")){const m=l.split("?")[0].slice(l.lastIndexOf(".")+1).toLowerCase();d=jr.MIME_TYPES[m]||`video/${m}`}return h.src=l,d&&(h.type=d),new Promise(m=>{const y=async()=>{const g=new jr({...a,resource:o});o.removeEventListener("canplay",y),t.data.preload&&await Dv(o),m(Th(g,n,l))};o.addEventListener("canplay",y),o.appendChild(h)})},unload(l){l.destroy(!0)}},Ng={extension:Mt.ResolveParser,test:Dg.test,parse:l=>({resolution:parseFloat(Js.RETINA_PREFIX.exec(l)?.[1]??"1"),format:l.split(".").pop(),src:l})},Gv={extension:Mt.ResolveParser,test:l=>Js.RETINA_PREFIX.test(l)&&l.endsWith(".json"),parse:Ng.parse};class Lv{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Js,this.loader=new i_,this.cache=Le,this._backgroundLoader=new Zb(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized){Oe("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let u=t.manifest;typeof u=="string"&&(u=await this.load(u)),this.resolver.addManifest(u)}const n=t.texturePreference?.resolution??1,a=typeof n=="number"?[n]:n,o=await this._detectFormats({preferredFormats:t.texturePreference?.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:o,resolution:a}}),t.preferences&&this.setPreferences(t.preferences)}add(t){this.resolver.add(t)}async load(t,n){this._initialized||await this.init();const a=Vr(t),o=vi(t).map(d=>{if(typeof d!="string"){const m=this.resolver.getAlias(d);return m.some(y=>!this.resolver.hasKey(y))&&this.add(d),Array.isArray(m)?m[0]:m}return this.resolver.hasKey(d)||this.add({alias:d,src:d}),d}),u=this.resolver.resolve(o),h=await this._mapLoadToResolve(u,n);return a?h[o[0]]:h}addBundle(t,n){this.resolver.addBundle(t,n)}async loadBundle(t,n){this._initialized||await this.init();let a=!1;typeof t=="string"&&(a=!0,t=[t]);const o=this.resolver.resolveBundle(t),u={},h=Object.keys(o);let d=0,m=0;const y=()=>{n?.(++d/m)},g=h.map(x=>{const v=o[x];return m+=Object.keys(v).length,this._mapLoadToResolve(v,y).then(w=>{u[x]=w})});return await Promise.all(g),a?u[t[0]]:u}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const n=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const n=this.resolver.resolveBundle(t);Object.values(n).forEach(a=>{this._backgroundLoader.add(Object.values(a))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return Le.get(t);const n={};for(let a=0;a<t.length;a++)n[a]=Le.get(t[a]);return n}async _mapLoadToResolve(t,n){const a=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const o=await this.loader.load(a,n);this._backgroundLoader.active=!0;const u={};return a.forEach(h=>{const d=o[h.src],m=[h.src];h.alias&&m.push(...h.alias),m.forEach(y=>{u[y]=d}),Le.set(m,d)}),u}async unload(t){this._initialized||await this.init();const n=vi(t).map(o=>typeof o!="string"?o.src:o),a=this.resolver.resolve(n);await this._unloadFromResolved(a)}async unloadBundle(t){this._initialized||await this.init(),t=vi(t);const n=this.resolver.resolveBundle(t),a=Object.keys(n).map(o=>this._unloadFromResolved(n[o]));await Promise.all(a)}async _unloadFromResolved(t){const n=Object.values(t);n.forEach(a=>{Le.remove(a.src)}),await this.loader.unload(n)}async _detectFormats(t){let n=[];t.preferredFormats&&(n=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const a of t.detections)t.skipDetections||await a.test()?n=await a.add(n):t.skipDetections||(n=await a.remove(n));return n=n.filter((a,o)=>n.indexOf(a)===o),n}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach(n=>{n.config&&Object.keys(n.config).filter(a=>a in t).forEach(a=>{n.config[a]=t[a]})})}}const nl=new Lv;yi.handleByList(Mt.LoadParser,nl.loader.parsers).handleByList(Mt.ResolveParser,nl.resolver.parsers).handleByList(Mt.CacheParser,nl.cache.parsers).handleByList(Mt.DetectionParser,nl.detections);yi.add(Wb,Ib,Qb,e_,Jb,$b,t_,a_,o_,g_,Sv,Dg,Nv,Ng,Gv);const wy={loader:Mt.LoadParser,resolver:Mt.ResolveParser,cache:Mt.CacheParser,detection:Mt.DetectionParser};yi.handle(Mt.Asset,l=>{const t=l.ref;Object.entries(wy).filter(([n])=>!!t[n]).forEach(([n,a])=>yi.add(Object.assign(t[n],{extension:t[n].extension??a})))},l=>{const t=l.ref;Object.keys(wy).filter(n=>!!t[n]).forEach(n=>yi.remove(t[n]))});var Yv=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;let Hv=0;class jv{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1}createTexture(t,n,a){const o=new en({...this.textureOptions,width:t,height:n,resolution:1,antialias:a,autoGarbageCollect:!0});return new Qt({source:o,label:`texturePool_${Hv++}`})}getOptimalTexture(t,n,a=1,o){let u=Math.ceil(t*a-1e-6),h=Math.ceil(n*a-1e-6);u=qm(u),h=qm(h);const d=(u<<17)+(h<<1)+(o?1:0);this._texturePool[d]||(this._texturePool[d]=[]);let m=this._texturePool[d].pop();return m||(m=this.createTexture(u,h,o)),m.source._resolution=a,m.source.width=u/a,m.source.height=h/a,m.source.pixelWidth=u,m.source.pixelHeight=h,m.frame.x=0,m.frame.y=0,m.frame.width=t,m.frame.height=n,m.updateUvs(),this._poolKeyHash[m.uid]=d,m}getSameSizeTexture(t,n=!1){const a=t.source;return this.getOptimalTexture(t.width,t.height,a._resolution,n)}returnTexture(t){const n=this._poolKeyHash[t.uid];this._texturePool[n].push(t)}clear(t){if(t=t!==!1,t)for(const n in this._texturePool){const a=this._texturePool[n];if(a)for(let o=0;o<a.length;o++)a[o].destroy(!0)}this._texturePool={}}}const Pr=new jv,Gg={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},kv=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join(`
`);function Xv(l){const t=Gg[l],n=t.length;let a=kv,o="";const u="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;";let h;for(let d=0;d<l;d++){let m=u.replace("%index%",d.toString());h=d,d>=n&&(h=l-d-1),m=m.replace("%value%",t[h].toString()),o+=m,o+=`
`}return a=a.replace("%blur%",o),a=a.replace("%size%",l.toString()),a}const qv=`
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Vv(l,t){const n=Math.ceil(l/2);let a=qv,o="",u;t?u="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);":u="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let h=0;h<l;h++){let d=u.replace("%index%",h.toString());d=d.replace("%sampleIndex%",`${h-(n-1)}.0`),o+=d,o+=`
`}return a=a.replace("%blur%",o),a=a.replace("%size%",l.toString()),a=a.replace("%dimension%",t?"z":"w"),a}function Pv(l,t){const n=Vv(t,l),a=Xv(t);return Ir.from({vertex:n,fragment:a,name:`blur-${l?"horizontal":"vertical"}-pass-filter`})}var Fv=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let strength = gfu.uInputSize.w * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;function Zv(l,t){const n=Gg[t],a=n.length,o=[],u=[],h=[];for(let x=0;x<t;x++){o[x]=`@location(${x}) offset${x}: vec2<f32>,`,l?u[x]=`filteredCord + vec2(${x-a+1} * strength, 0.0),`:u[x]=`filteredCord + vec2(0.0, ${x-a+1} * strength),`;const v=x<a?x:t-x-1,w=n[v].toString();h[x]=`finalColor += textureSample(uTexture, uSampler, offset${x}) * ${w};`}const d=o.join(`
`),m=u.join(`
`),y=h.join(`
`),g=Fv.replace("%blur-struct%",d).replace("%blur-vertex-out%",m).replace("%blur-fragment-in%",d).replace("%blur-sampling%",y);return $s.from({vertex:{source:g,entryPoint:"mainVertex"},fragment:{source:g,entryPoint:"mainFragment"}})}const Lg=class Yg extends xh{constructor(t){t={...Yg.defaultOptions,...t};const n=Pv(t.horizontal,t.kernelSize),a=Zv(t.horizontal,t.kernelSize);super({glProgram:n,gpuProgram:a,resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}},...t}),this.horizontal=t.horizontal,this._quality=0,this.quality=t.quality,this.blur=t.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(t,n,a,o){if(this._uniforms.uStrength=this.strength/this.passes,this.passes===1)t.applyFilter(this,n,a,o);else{const u=Pr.getSameSizeTexture(n);let h=n,d=u;this._state.blend=!1;for(let m=0;m<this.passes-1;m++){t.applyFilter(this,h,d,t.renderer.type===ul.WEBGPU);const y=d;d=h,h=y}this._state.blend=!0,t.applyFilter(this,h,a,o),Pr.returnTexture(u)}}get blur(){return this.strength}set blur(t){this.padding=1+Math.abs(t)*2,this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}};Lg.defaultOptions={strength:8,quality:4,kernelSize:5};let Wc=Lg;class Hg extends xh{constructor(...t){let n=t[0]??{};typeof n=="number"&&(se(ne,"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"),n={strength:n},t[1]&&(n.quality=t[1]),t[2]&&(n.resolution=t[2]),t[3]&&(n.kernelSize=t[3])),n={...Wc.defaultOptions,...n};const{strength:a,quality:o,...u}=n;super({...u,compatibleRenderers:ul.BOTH,resources:{}}),this._repeatEdgePixels=!1,this.blurXFilter=new Wc({horizontal:!1,...n}),this.blurYFilter=new Wc({horizontal:!0,...n}),this.quality=o,this.blur=a,this.repeatEdgePixels=!1}apply(t,n,a,o){const u=Math.abs(this.blurXFilter.strength),h=Math.abs(this.blurYFilter.strength);if(u&&h){const d=Pr.getSameSizeTexture(n);this.blurXFilter.apply(t,n,d,!0),this.blurYFilter.apply(t,d,a,o),Pr.returnTexture(d)}else h?this.blurYFilter.apply(t,n,a,o):this.blurXFilter.apply(t,n,a,o)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.blur),Math.abs(this.blurYFilter.blur))*2}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(t){this.blurYFilter.blendMode=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}Hg.defaultOptions={strength:8,quality:4,kernelSize:5};var Wv=`
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uColorMatrix[20];
uniform float uAlpha;

uniform sampler2D uTexture;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture(uTexture, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * 0.2);
    float diff = (randomValue - 0.5) *  0.5;

    if (uAlpha == 0.0) {
        finalColor = color;
        return;
    }

    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    vec4 result;

    result.r = (uColorMatrix[0] * color.r);
        result.r += (uColorMatrix[1] * color.g);
        result.r += (uColorMatrix[2] * color.b);
        result.r += (uColorMatrix[3] * color.a);
        result.r += uColorMatrix[4];

    result.g = (uColorMatrix[5] * color.r);
        result.g += (uColorMatrix[6] * color.g);
        result.g += (uColorMatrix[7] * color.b);
        result.g += (uColorMatrix[8] * color.a);
        result.g += uColorMatrix[9];

    result.b = (uColorMatrix[10] * color.r);
       result.b += (uColorMatrix[11] * color.g);
       result.b += (uColorMatrix[12] * color.b);
       result.b += (uColorMatrix[13] * color.a);
       result.b += uColorMatrix[14];

    result.a = (uColorMatrix[15] * color.r);
       result.a += (uColorMatrix[16] * color.g);
       result.a += (uColorMatrix[17] * color.b);
       result.a += (uColorMatrix[18] * color.a);
       result.a += uColorMatrix[19];

    vec3 rgb = mix(color.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    finalColor = vec4(rgb, result.a);
}
`,My=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct ColorMatrixUniforms {
  uColorMatrix:array<vec4<f32>, 5>,
  uAlpha:f32,
};


@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;
@group(1) @binding(0) var<uniform> colorMatrixUniforms : ColorMatrixUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
  };
  
fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
  );
}


@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
) -> @location(0) vec4<f32> {


  var c = textureSample(uTexture, uSampler, uv);
  
  if (colorMatrixUniforms.uAlpha == 0.0) {
    return c;
  }

 
    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.r /= c.a;
      c.g /= c.a;
      c.b /= c.a;
    }

    var cm = colorMatrixUniforms.uColorMatrix;


    var result = vec4<f32>(0.);

    result.r = (cm[0][0] * c.r);
    result.r += (cm[0][1] * c.g);
    result.r += (cm[0][2] * c.b);
    result.r += (cm[0][3] * c.a);
    result.r += cm[1][0];

    result.g = (cm[1][1] * c.r);
    result.g += (cm[1][2] * c.g);
    result.g += (cm[1][3] * c.b);
    result.g += (cm[2][0] * c.a);
    result.g += cm[2][1];

    result.b = (cm[2][2] * c.r);
    result.b += (cm[2][3] * c.g);
    result.b += (cm[3][0] * c.b);
    result.b += (cm[3][1] * c.a);
    result.b += cm[3][2];

    result.a = (cm[3][3] * c.r);
    result.a += (cm[4][0] * c.g);
    result.a += (cm[4][1] * c.b);
    result.a += (cm[4][2] * c.a);
    result.a += cm[4][3];

    var rgb = mix(c.rgb, result.rgb, colorMatrixUniforms.uAlpha);

    rgb.r *= result.a;
    rgb.g *= result.a;
    rgb.b *= result.a;

    return vec4(rgb, result.a);
}`;class Cy extends xh{constructor(t={}){const n=new og({uColorMatrix:{value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],type:"f32",size:20},uAlpha:{value:1,type:"f32"}}),a=$s.from({vertex:{source:My,entryPoint:"mainVertex"},fragment:{source:My,entryPoint:"mainFragment"}}),o=Ir.from({vertex:Yv,fragment:Wv,name:"color-matrix-filter"});super({...t,gpuProgram:a,glProgram:o,resources:{colorMatrixUniforms:n}}),this.alpha=1}_loadMatrix(t,n=!1){let a=t;n&&(this._multiply(a,this.matrix,t),a=this._colorMatrix(a)),this.resources.colorMatrixUniforms.uniforms.uColorMatrix=a,this.resources.colorMatrixUniforms.update()}_multiply(t,n,a){return t[0]=n[0]*a[0]+n[1]*a[5]+n[2]*a[10]+n[3]*a[15],t[1]=n[0]*a[1]+n[1]*a[6]+n[2]*a[11]+n[3]*a[16],t[2]=n[0]*a[2]+n[1]*a[7]+n[2]*a[12]+n[3]*a[17],t[3]=n[0]*a[3]+n[1]*a[8]+n[2]*a[13]+n[3]*a[18],t[4]=n[0]*a[4]+n[1]*a[9]+n[2]*a[14]+n[3]*a[19]+n[4],t[5]=n[5]*a[0]+n[6]*a[5]+n[7]*a[10]+n[8]*a[15],t[6]=n[5]*a[1]+n[6]*a[6]+n[7]*a[11]+n[8]*a[16],t[7]=n[5]*a[2]+n[6]*a[7]+n[7]*a[12]+n[8]*a[17],t[8]=n[5]*a[3]+n[6]*a[8]+n[7]*a[13]+n[8]*a[18],t[9]=n[5]*a[4]+n[6]*a[9]+n[7]*a[14]+n[8]*a[19]+n[9],t[10]=n[10]*a[0]+n[11]*a[5]+n[12]*a[10]+n[13]*a[15],t[11]=n[10]*a[1]+n[11]*a[6]+n[12]*a[11]+n[13]*a[16],t[12]=n[10]*a[2]+n[11]*a[7]+n[12]*a[12]+n[13]*a[17],t[13]=n[10]*a[3]+n[11]*a[8]+n[12]*a[13]+n[13]*a[18],t[14]=n[10]*a[4]+n[11]*a[9]+n[12]*a[14]+n[13]*a[19]+n[14],t[15]=n[15]*a[0]+n[16]*a[5]+n[17]*a[10]+n[18]*a[15],t[16]=n[15]*a[1]+n[16]*a[6]+n[17]*a[11]+n[18]*a[16],t[17]=n[15]*a[2]+n[16]*a[7]+n[17]*a[12]+n[18]*a[17],t[18]=n[15]*a[3]+n[16]*a[8]+n[17]*a[13]+n[18]*a[18],t[19]=n[15]*a[4]+n[16]*a[9]+n[17]*a[14]+n[18]*a[19]+n[19],t}_colorMatrix(t){const n=new Float32Array(t);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(t,n){const a=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(a,n)}tint(t,n){const[a,o,u]=Ne.shared.setValue(t).toArray(),h=[a,0,0,0,0,0,o,0,0,0,0,0,u,0,0,0,0,0,1,0];this._loadMatrix(h,n)}greyscale(t,n){const a=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(a,n)}grayscale(t,n){this.greyscale(t,n)}blackAndWhite(t){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,t)}hue(t,n){t=(t||0)/180*Math.PI;const a=Math.cos(t),o=Math.sin(t),u=Math.sqrt,h=1/3,d=u(h),m=a+(1-a)*h,y=h*(1-a)-d*o,g=h*(1-a)+d*o,x=h*(1-a)+d*o,v=a+h*(1-a),w=h*(1-a)-d*o,A=h*(1-a)-d*o,D=h*(1-a)+d*o,T=a+h*(1-a),G=[m,y,g,0,0,x,v,w,0,0,A,D,T,0,0,0,0,0,1,0];this._loadMatrix(G,n)}contrast(t,n){const a=(t||0)+1,o=-.5*(a-1),u=[a,0,0,0,o,0,a,0,0,o,0,0,a,0,o,0,0,0,1,0];this._loadMatrix(u,n)}saturate(t=0,n){const a=t*2/3+1,o=(a-1)*-.5,u=[a,o,o,0,0,o,a,o,0,0,o,o,a,0,0,0,0,0,1,0];this._loadMatrix(u,n)}desaturate(){this.saturate(-1)}negative(t){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,t)}sepia(t){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,t)}technicolor(t){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,t)}polaroid(t){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,t)}toBGR(t){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,t)}kodachrome(t){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,t)}browni(t){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,t)}vintage(t){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,t)}colorTone(t,n,a,o,u){t=t||.2,n=n||.15,a=a||16770432,o=o||3375104;const h=Ne.shared,[d,m,y]=h.setValue(a).toArray(),[g,x,v]=h.setValue(o).toArray(),w=[.3,.59,.11,0,0,d,m,y,t,0,g,x,v,n,0,d-g,m-x,y-v,0,0];this._loadMatrix(w,u)}night(t,n){t=t||.1;const a=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(a,n)}predator(t,n){const a=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(a,n)}lsd(t){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,t)}reset(){const t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)}get matrix(){return this.resources.colorMatrixUniforms.uniforms.uColorMatrix}set matrix(t){this.resources.colorMatrixUniforms.uniforms.uColorMatrix=t}get alpha(){return this.resources.colorMatrixUniforms.uniforms.uAlpha}set alpha(t){this.resources.colorMatrixUniforms.uniforms.uAlpha=t}}class Ji extends ge{constructor(t){t instanceof Bn&&(t={context:t});const{context:n,roundPixels:a,...o}=t||{};super({label:"Graphics",...o}),this.canBundle=!0,this.renderPipeId="graphics",this._roundPixels=0,n?this._context=n:this._context=this._ownedContext=new Bn,this._context.on("update",this.onViewUpdate,this),this.allowChildren=!1,this.roundPixels=a??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}addBounds(t){t.addBounds(this._context.bounds)}containsPoint(t){return this._context.containsPoint(t)}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}onViewUpdate(){this._didChangeId+=4096,this._didGraphicsUpdate=!0,!this.didViewUpdate&&(this.didViewUpdate=!0,this.renderGroup&&this.renderGroup.onChildViewUpdate(this))}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||t?.context===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,n){return this.context[t](...n),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(...t){return this._callContextMethod("cut",t)}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(...t){return this._callContextMethod("closePath",t)}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(...t){return this._callContextMethod("save",t)}getTransform(...t){return this._callContextMethod("getTransform",t)}resetTransform(...t){return this._callContextMethod("resetTransform",t)}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(...t){return this._callContextMethod("clear",t)}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new Ji(this._context.clone()):(this._ownedContext=null,new Ji(this._context))}lineStyle(t,n,a){se(ne,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const o={};return t&&(o.width=t),n&&(o.color=n),a&&(o.alpha=a),this.context.strokeStyle=o,this}beginFill(t,n){se(ne,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const a={};return t&&(a.color=t),n&&(a.alpha=n),this.context.fillStyle=a,this}endFill(){se(ne,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==Bn.defaultStrokeStyle.width||t.color!==Bn.defaultStrokeStyle.color||t.alpha!==Bn.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return se(ne,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return se(ne,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return se(ne,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return se(ne,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return se(ne,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return se(ne,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}class Qv extends ge{constructor(t,n){const{text:a,resolution:o,style:u,anchor:h,width:d,height:m,roundPixels:y,...g}=t;super({...g}),this.batched=!0,this.resolution=null,this._didTextUpdate=!0,this._roundPixels=0,this._bounds=new Ri,this._boundsDirty=!0,this._styleClass=n,this.text=a??"",this.style=u,this.resolution=o??null,this.allowChildren=!1,this._anchor=new Fe({_onUpdate:()=>{this.onViewUpdate()}}),h&&(this.anchor=h),this.roundPixels=y??!1,d&&(this.width=d),m&&(this.height=m)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}set text(t){t=t.toString(),this._text!==t&&(this._text=t,this.onViewUpdate())}get text(){return this._text}get style(){return this._style}set style(t){t=t||{},this._style?.off("update",this.onViewUpdate,this),t instanceof this._styleClass?this._style=t:this._style=new this._styleClass(t),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(t){this._setWidth(t,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(t){this._setHeight(t,this.bounds.height)}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this.bounds.width,t.height=Math.abs(this.scale.y)*this.bounds.height,t}setSize(t,n){let a,o;typeof t!="object"?(a=t,o=n??t):(a=t.width,o=t.height??t.width),a!==void 0&&this._setWidth(a,this.bounds.width),o!==void 0&&this._setHeight(o,this.bounds.height)}addBounds(t){const n=this.bounds;t.addFrame(n.minX,n.minY,n.maxX,n.maxY)}containsPoint(t){const n=this.bounds.maxX,a=this.bounds.maxY,o=-n*this.anchor.x;let u=0;return t.x>=o&&t.x<=o+n&&(u=-a*this.anchor.y,t.y>=u&&t.y<=u+a)}onViewUpdate(){this._didChangeId+=4096,!this.didViewUpdate&&(this.didViewUpdate=!0,this._didTextUpdate=!0,this._boundsDirty=!0,this.renderGroup&&this.renderGroup.onChildViewUpdate(this))}_getKey(){return`${this.text}:${this._style.styleKey}`}destroy(t=!1){super.destroy(t),this.owner=null,this._bounds=null,this._anchor=null,this._style.destroy(t),this._style=null,this._text=null}}function Iv(l,t){let n=l[0]??{};return(typeof n=="string"||l[1])&&(se(ne,`use new ${t}({ text: "hi!", style }) instead`),n={text:n,style:l[1]}),n}const Kv=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function Jv(l){const t=typeof l.fontSize=="number"?`${l.fontSize}px`:l.fontSize;let n=l.fontFamily;Array.isArray(l.fontFamily)||(n=l.fontFamily.split(","));for(let a=n.length-1;a>=0;a--){let o=n[a].trim();!/([\"\'])[^\'\"]+\1/.test(o)&&!Kv.includes(o)&&(o=`"${o}"`),n[a]=o}return`${l.fontStyle} ${l.fontVariant} ${l.fontWeight} ${t} ${n.join(",")}`}const Qc={willReadFrequently:!0},Si=class xt{static get experimentalLetterSpacingSupported(){let t=xt._experimentalLetterSpacingSupported;if(t!==void 0){const n=Me.get().getCanvasRenderingContext2D().prototype;t=xt._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return t}constructor(t,n,a,o,u,h,d,m,y){this.text=t,this.style=n,this.width=a,this.height=o,this.lines=u,this.lineWidths=h,this.lineHeight=d,this.maxLineWidth=m,this.fontProperties=y}static measureText(t=" ",n,a=xt._canvas,o=n.wordWrap){const u=`${t}:${n.styleKey}`;if(xt._measurementCache[u])return xt._measurementCache[u];const h=Jv(n),d=xt.measureFont(h);d.fontSize===0&&(d.fontSize=n.fontSize,d.ascent=n.fontSize);const m=xt.__context;m.font=h;const g=(o?xt._wordWrap(t,n,a):t).split(/(?:\r\n|\r|\n)/),x=new Array(g.length);let v=0;for(let U=0;U<g.length;U++){const L=xt._measureText(g[U],n.letterSpacing,m);x[U]=L,v=Math.max(v,L)}const w=n._stroke?.width||0;let A=v+w;n.dropShadow&&(A+=n.dropShadow.distance);const D=n.lineHeight||d.fontSize+w;let T=Math.max(D,d.fontSize+w*2)+(g.length-1)*(D+n.leading);return n.dropShadow&&(T+=n.dropShadow.distance),new xt(t,n,A,T,g,x,D+n.leading,v,d)}static _measureText(t,n,a){let o=!1;xt.experimentalLetterSpacingSupported&&(xt.experimentalLetterSpacing?(a.letterSpacing=`${n}px`,a.textLetterSpacing=`${n}px`,o=!0):(a.letterSpacing="0px",a.textLetterSpacing="0px"));let u=a.measureText(t).width;return u>0&&(o?u-=n:u+=(xt.graphemeSegmenter(t).length-1)*n),u}static _wordWrap(t,n,a=xt._canvas){const o=a.getContext("2d",Qc);let u=0,h="",d="";const m=Object.create(null),{letterSpacing:y,whiteSpace:g}=n,x=xt._collapseSpaces(g),v=xt._collapseNewlines(g);let w=!x;const A=n.wordWrapWidth+y,D=xt._tokenize(t);for(let T=0;T<D.length;T++){let G=D[T];if(xt._isNewline(G)){if(!v){d+=xt._addLine(h),w=!x,h="",u=0;continue}G=" "}if(x){const L=xt.isBreakingSpace(G),Z=xt.isBreakingSpace(h[h.length-1]);if(L&&Z)continue}const U=xt._getFromCache(G,y,m,o);if(U>A)if(h!==""&&(d+=xt._addLine(h),h="",u=0),xt.canBreakWords(G,n.breakWords)){const L=xt.wordWrapSplit(G);for(let Z=0;Z<L.length;Z++){let K=L[Z],tt=K,Q=1;for(;L[Z+Q];){const Y=L[Z+Q];if(!xt.canBreakChars(tt,Y,G,Z,n.breakWords))K+=Y;else break;tt=Y,Q++}Z+=Q-1;const nt=xt._getFromCache(K,y,m,o);nt+u>A&&(d+=xt._addLine(h),w=!1,h="",u=0),h+=K,u+=nt}}else{h.length>0&&(d+=xt._addLine(h),h="",u=0);const L=T===D.length-1;d+=xt._addLine(G,!L),w=!1,h="",u=0}else U+u>A&&(w=!1,d+=xt._addLine(h),h="",u=0),(h.length>0||!xt.isBreakingSpace(G)||w)&&(h+=G,u+=U)}return d+=xt._addLine(h,!1),d}static _addLine(t,n=!0){return t=xt._trimRight(t),t=n?`${t}
`:t,t}static _getFromCache(t,n,a,o){let u=a[t];return typeof u!="number"&&(u=xt._measureText(t,n,o)+n,a[t]=u),u}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let n=t.length-1;n>=0;n--){const a=t[n];if(!xt.isBreakingSpace(a))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:xt._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,n){return typeof t!="string"?!1:xt._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const n=[];let a="";if(typeof t!="string")return n;for(let o=0;o<t.length;o++){const u=t[o],h=t[o+1];if(xt.isBreakingSpace(u,h)||xt._isNewline(u)){a!==""&&(n.push(a),a=""),n.push(u);continue}a+=u}return a!==""&&n.push(a),n}static canBreakWords(t,n){return n}static canBreakChars(t,n,a,o,u){return!0}static wordWrapSplit(t){return xt.graphemeSegmenter(t)}static measureFont(t){if(xt._fonts[t])return xt._fonts[t];const n=xt._context;n.font=t;const a=n.measureText(xt.METRICS_STRING+xt.BASELINE_SYMBOL),o={ascent:a.actualBoundingBoxAscent,descent:a.actualBoundingBoxDescent,fontSize:a.actualBoundingBoxAscent+a.actualBoundingBoxDescent};return xt._fonts[t]=o,o}static clearMetrics(t=""){t?delete xt._fonts[t]:xt._fonts={}}static get _canvas(){if(!xt.__canvas){let t;try{const n=new OffscreenCanvas(0,0);if(n.getContext("2d",Qc)?.measureText)return xt.__canvas=n,n;t=Me.get().createCanvas()}catch{t=Me.get().createCanvas()}t.width=t.height=10,xt.__canvas=t}return xt.__canvas}static get _context(){return xt.__context||(xt.__context=xt._canvas.getContext("2d",Qc)),xt.__context}};Si.METRICS_STRING="|q";Si.BASELINE_SYMBOL="M";Si.BASELINE_MULTIPLIER=1.4;Si.HEIGHT_MULTIPLIER=2;Si.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const l=new Intl.Segmenter;return t=>[...l.segment(t)].map(n=>n.segment)}return l=>[...l]})();Si.experimentalLetterSpacing=!1;Si._fonts={};Si._newlines=[10,13];Si._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];Si._measurementCache={};let $v=Si;const Ty=["_fontFamily","_fontStyle","_fontSize","_fontVariant","_fontWeight","_breakWords","_align","_leading","_letterSpacing","_lineHeight","_textBaseline","_whiteSpace","_wordWrap","_wordWrapWidth","_padding","_cssOverrides","_trim"];function t2(l){const t=[];let n=0;for(let a=0;a<Ty.length;a++){const o=Ty[a];t[n++]=l[o]}return n=jg(l._fill,t,n),n=e2(l._stroke,t,n),t.join("-")}function jg(l,t,n){return l&&(t[n++]=l.color,t[n++]=l.alpha,t[n++]=l.fill?.uid),n}function e2(l,t,n){return l&&(n=jg(l,t,n),t[n++]=l.width,t[n++]=l.alignment,t[n++]=l.cap,t[n++]=l.join,t[n++]=l.miterLimit),n}const Eh=class Vs extends sn{constructor(t={}){super(),i2(t);const n={...Vs.defaultTextStyle,...t};for(const a in n){const o=a;this[o]=n[a]}this.update()}get align(){return this._align}set align(t){this._align=t,this.update()}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords=t,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(t){t!==null&&typeof t=="object"?this._dropShadow={...Vs.defaultDropShadow,...t}:this._dropShadow=t?{...Vs.defaultDropShadow}:null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.update()}get fontSize(){return this._fontSize}set fontSize(t){typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t,this.update()}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t,this.update()}get leading(){return this._leading}set leading(t){this._leading=t,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing=t,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t,this.update()}get padding(){return this._padding}set padding(t){this._padding=t,this.update()}get trim(){return this._trim}set trim(t){this._trim=t,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace=t,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap=t,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth=t,this.update()}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._fill=On(t===0?"black":t,Bn.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._stroke=On(t,Bn.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=t2(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const t=Vs.defaultTextStyle;for(const n in t)this[n]=t[n]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new Vs({align:this.align,breakWords:this.breakWords,dropShadow:this.dropShadow,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(t=!1){if(this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const a=typeof t=="boolean"?t:t?.textureSource;this._fill?.texture&&this._fill.texture.destroy(a),this._originalFill?.texture&&this._originalFill.texture.destroy(a),this._stroke?.texture&&this._stroke.texture.destroy(a),this._originalStroke?.texture&&this._originalStroke.texture.destroy(a)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}};Eh.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};Eh.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let ol=Eh;function i2(l){const t=l;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const n=ol.defaultDropShadow;l.dropShadow={alpha:t.dropShadowAlpha??n.alpha,angle:t.dropShadowAngle??n.angle,blur:t.dropShadowBlur??n.blur,color:t.dropShadowColor??n.color,distance:t.dropShadowDistance??n.distance}}if(t.strokeThickness){se(ne,"strokeThickness is now a part of stroke");const n=t.stroke;l.stroke={color:n,width:t.strokeThickness}}if(Array.isArray(t.fill)){se(ne,"gradient fill is now a fill pattern: `new FillGradient(...)`");const n=new Og(0,0,0,l.fontSize*1.7),a=t.fill.map(o=>Ne.shared.setValue(o).toNumber());a.forEach((o,u)=>{const h=t.fillGradientStops[u]??u/a.length;n.addColorStop(h,o)}),l.fill={fill:n}}}class Ic extends Qv{constructor(...t){const n=Iv(t,"Text");super(n,ol),this.renderPipeId="text"}_updateBounds(){const t=this._bounds,n=this._style.padding,a=this._anchor,o=$v.measureText(this.text,this._style),{width:u,height:h}=o;t.minX=-a._x*u-n,t.maxX=t.minX+u,t.minY=-a._y*h-n,t.maxY=t.minY+h}}yi.add(vx,Sx);class n2{app=null;elementSprites=new Map;mainContainer;initPromise;isDestroyed=!1;constructor(t){this.mainContainer=new ge,this.initPromise=this.init(t)}async init(t){try{const n=window.devicePixelRatio||1,a=window.innerWidth,o=window.innerHeight,u=new gg;if(await u.init({canvas:t,backgroundColor:16777215,width:a,height:o,antialias:!0,resolution:n,autoDensity:!0,preference:"webgl"}),this.isDestroyed){await u.destroy(!1,{children:!0});return}this.app=u,this.app.stage.addChild(this.mainContainer),window.addEventListener("resize",this.handleResize)}catch(n){console.error("Failed to initialize PixiJS:",n)}}handleResize=()=>{if(!this.app)return;const t=window.innerWidth,n=window.innerHeight;this.app.renderer.resize(t,n)};async waitForInit(){await this.initPromise}async renderElement(t){if(!this.app)return;this.removeElement(t.id);let n;switch(t.type){case"rectangle":case"rounded-rectangle":case"circle":case"triangle":case"arrow":n=this.createShapeSprite(t);break;case"image":n=await this.createImageSprite(t);break;case"text":n=this.createTextSprite(t);break;default:return}n.pivot.set(t.width/2,t.height/2),n.position.set(t.x+t.width/2,t.y+t.height/2),n.rotation=t.rotation*Math.PI/180,n.zIndex=t.zIndex,this.mainContainer.addChild(n),this.elementSprites.set(t.id,n),this.mainContainer.sortChildren()}createShapeSprite(t){const n=new ge,a=new Ji;let o=null;const u=this.parseColor(t.backgroundColor),h=this.parseColor(t.borderColor);switch(t.type){case"rectangle":a.beginFill(u),a.drawRect(0,0,t.width,t.height),a.endFill(),t.borderWidth>0&&(a.lineStyle(t.borderWidth,h),a.drawRect(0,0,t.width,t.height),a.stroke({width:t.borderWidth,color:h}));break;case"rounded-rectangle":a.beginFill(u),a.drawRoundedRect(0,0,t.width,t.height,t.cornerRadius||10),a.endFill(),t.borderWidth>0&&(a.lineStyle(t.borderWidth,h),a.drawRoundedRect(0,0,t.width,t.height,t.cornerRadius||10),a.stroke({width:t.borderWidth,color:h}));break;case"circle":a.beginFill(u),a.drawEllipse(t.width/2,t.height/2,t.width/2,t.height/2),a.endFill(),t.borderWidth>0&&(a.lineStyle(t.borderWidth,h),a.drawEllipse(t.width/2,t.height/2,t.width/2,t.height/2),a.stroke({width:t.borderWidth,color:h}));break;case"triangle":a.beginFill(u),a.moveTo(t.width/2,0),a.lineTo(t.width,t.height),a.lineTo(0,t.height),a.closePath(),a.endFill(),t.borderWidth>0&&(a.lineStyle(t.borderWidth,h),a.moveTo(t.width/2,0),a.lineTo(t.width,t.height),a.lineTo(0,t.height),a.closePath(),a.stroke({width:t.borderWidth,color:h}));break;case"arrow":{const d=t.arrowTailWidth??t.borderWidth??4,m=t.arrowStart||{x:0,y:t.height/2},y=t.arrowEnd||{x:t.width,y:t.height/2},g=t.arrowHeadSize||16,x=t.arrowCurve??0,v=y.x-m.x,w=y.y-m.y,A=Math.sqrt(v*v+w*w)||1,D=-w/A,T=v/A,G=x*A*.5,U=(m.x+y.x)/2,L=(m.y+y.y)/2,K=Math.abs(x)>.001?{x:U+D*G,y:L+T*G}:null;a.lineStyle(d,h),a.moveTo(m.x,m.y),K?a.quadraticCurveTo(K.x,K.y,y.x,y.y):a.lineTo(y.x,y.y),a.stroke({width:d,color:h,cap:"round",join:"round"});const tt=K?y.x-K.x:v,Q=K?y.y-K.y:w,nt=Math.sqrt(tt*tt+Q*Q)||1,Y=tt/nt,k=Q/nt,at=Math.max(g,d*2),lt=Math.max(g*.75,d*1.5),B=y.x-Y*at,q=y.y-k*at,st=-k,b=Y,M=B+st*(lt/2),C=q+b*(lt/2),R=B-st*(lt/2),z=q-b*(lt/2),S=new Ji;S.beginFill(h),S.moveTo(y.x,y.y),S.lineTo(M,C),S.lineTo(R,z),S.closePath(),S.endFill(),o=S;break}}if(n.addChild(a),o&&n.addChild(o),t.content){const d=t.content,m=t.textStyle,y=new ol({fontFamily:m?.fontFamily||"Arial",fontSize:m?.fontSize||16,fill:m?.color||0,fontWeight:m?.bold?"bold":"normal",fontStyle:m?.italic?"italic":"normal",align:"center",wordWrap:!0,wordWrapWidth:Math.max(10,t.width-8)}),g=new Ic(d,y);g.resolution=Math.min(window.devicePixelRatio||1,2),g.style.wordWrapWidth=Math.max(10,t.width-12),g.x=Math.max(0,(t.width-g.width)/2),g.y=Math.max(0,(t.height-g.height)/2),n.addChild(g)}return n}async createImageSprite(t){const n=new ge;try{const a=await nl.load(t.src),o=new Is(a);o.width=t.width,o.height=t.height,this.applyImageFilter(o,t.filter),n.addChild(o)}catch(a){console.error("Failed to load image:",t.src.substring(0,50),a);const o=new Ji;o.beginFill(13421772),o.drawRect(0,0,t.width,t.height),o.endFill();const u=new Ic("",new ol({fontSize:16,fill:6710886}));u.x=t.width/2-u.width/2,u.y=t.height/2-u.height/2,n.addChild(o),n.addChild(u)}return n}applyImageFilter(t,n){const a=[];switch(n){case"grayscale":const o=new Cy;o.desaturate(),a.push(o);break;case"sepia":const u=new Cy;u.sepia(!0),a.push(u);break;case"blur":a.push(new Hg(8));break}a.length>0&&(t.filters=a)}createTextSprite(t){const n=new ge;if(t.style.backgroundColor){const u=new Ji,h=this.parseColor(t.style.backgroundColor);u.beginFill(h),u.drawRect(0,0,t.width,t.height),u.endFill(),n.addChild(u)}const a=new ol({fontFamily:t.style.fontFamily,fontSize:t.style.fontSize,fill:t.style.color,fontWeight:t.style.bold?"bold":"normal",fontStyle:t.style.italic?"italic":"normal",wordWrap:!0,wordWrapWidth:t.width}),o=new Ic({text:t.content,style:a});if(o.resolution=Math.min(window.devicePixelRatio||1,2),n.addChild(o),t.style.underline||t.style.strikethrough){const u=this.parseColor(t.style.color),h=o.width,d=o.height;if(t.style.underline){const m=new Ji;m.moveTo(0,d-2),m.lineTo(h,d-2),m.stroke({width:2,color:u}),n.addChild(m)}if(t.style.strikethrough){const m=new Ji,y=d/2;m.moveTo(0,y),m.lineTo(h,y),m.stroke({width:2,color:u}),n.addChild(m)}}return n}removeElement(t){const n=this.elementSprites.get(t);n&&(this.mainContainer.removeChild(n),n.destroy({children:!0}),this.elementSprites.delete(t))}updateViewport(t,n,a){this.mainContainer.position.set(t,n),this.mainContainer.scale.set(a,a)}clear(){this.elementSprites.forEach(t=>{this.mainContainer.removeChild(t),t.destroy({children:!0})}),this.elementSprites.clear()}getApp(){return this.app}getMainContainer(){return this.mainContainer}parseColor(t){if(t.startsWith("#"))return parseInt(t.slice(1),16);if(t.startsWith("rgb")){const n=t.match(/\d+/g);if(n&&n.length>=3){const a=parseInt(n[0]),o=parseInt(n[1]),u=parseInt(n[2]);return a<<16|o<<8|u}}return 0}destroy(){this.isDestroyed=!0,window.removeEventListener("resize",this.handleResize),this.clear(),this.app&&(this.app.destroy(!1,{children:!0}),this.app=null)}}const Ki=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,s2=(l,t)=>{const n=Math.min(t.startX,t.endX),a=Math.max(t.startX,t.endX),o=Math.min(t.startY,t.endY),u=Math.max(t.startY,t.endY);if(!l.rotation||l.rotation===0)return l.x>=n&&l.x+l.width<=a&&l.y>=o&&l.y+l.height<=u;{const h=Kr([l]);return h.x>=n&&h.x+h.width<=a&&h.y>=o&&h.y+h.height<=u}},Ey=(l,t,n)=>{if(!n.rotation||n.rotation===0)return l>=n.x&&l<=n.x+n.width&&t>=n.y&&t<=n.y+n.height;const a=n.x+n.width/2,o=n.y+n.height/2,u=l-a,h=t-o,d=n.rotation*Math.PI/180,m=u*Math.cos(-d)-h*Math.sin(-d),y=u*Math.sin(-d)+h*Math.cos(-d);return m>=-n.width/2&&m<=n.width/2&&y>=-n.height/2&&y<=n.height/2},Kr=l=>{if(l.length===0)return{x:0,y:0,width:0,height:0};let t=1/0,n=1/0,a=-1/0,o=-1/0;return l.forEach(u=>{if(!u.rotation||u.rotation===0)t=Math.min(t,u.x),n=Math.min(n,u.y),a=Math.max(a,u.x+u.width),o=Math.max(o,u.y+u.height);else{const h=u.x+u.width/2,d=u.y+u.height/2,m=u.rotation*Math.PI/180,y=Math.cos(m),g=Math.sin(m);[{x:-u.width/2,y:-u.height/2},{x:u.width/2,y:-u.height/2},{x:u.width/2,y:u.height/2},{x:-u.width/2,y:u.height/2}].forEach(v=>{const w=v.x*y-v.y*g+h,A=v.x*g+v.y*y+d;t=Math.min(t,w),n=Math.min(n,A),a=Math.max(a,w),o=Math.max(o,A)})}}),{x:t,y:n,width:a-t,height:o-n}},zy=l=>JSON.parse(JSON.stringify(l)),Xs=(l,t,n)=>({x:(l-n.x)/n.scale,y:(t-n.y)/n.scale}),qs=(l,t,n)=>({x:l*n.scale+n.x,y:t*n.scale+n.y}),a2=(l,t)=>{let n=null;return(...a)=>{n&&clearTimeout(n),n=window.setTimeout(()=>l(...a),t)}},kg=10,Fr=l=>({left:l.x,right:l.x+l.width,top:l.y,bottom:l.y+l.height,centerX:l.x+l.width/2,centerY:l.y+l.height/2}),l2=(l,t,n)=>{const a=[],o=Fr(l),u=kg/n.scale;return t.forEach(h=>{const d=Fr(h);["left","right","centerX"].forEach(m=>{const y=o[m],g=d[m],x=Math.abs(y-g);if(x<u&&x>0){const v=Math.min(l.y,h.y),w=Math.max(l.y+l.height,h.y+h.height);a.push({type:"vertical",position:g,start:v,end:w})}}),["top","bottom","centerY"].forEach(m=>{const y=o[m],g=d[m],x=Math.abs(y-g);if(x<u&&x>0){const v=Math.min(l.x,h.x),w=Math.max(l.x+l.width,h.x+h.width);a.push({type:"horizontal",position:g,start:v,end:w})}})}),a.filter((h,d,m)=>d===m.findIndex(y=>y.type===h.type&&y.position===h.position))},r2=(l,t,n)=>{let a=l.x,o=l.y;const u=Fr(l),h=kg/n.scale;return t.forEach(d=>{const m=Fr(d);["left","right","centerX"].forEach(y=>{const g=u[y],x=m[y],v=g-x;Math.abs(v)<h&&(y==="left"?(a=d.x-l.x+l.x,a=d.x):y==="right"?a=d.x+d.width-l.width:y==="centerX"&&(a=d.x+d.width/2-l.width/2))}),["top","bottom","centerY"].forEach(y=>{const g=u[y],x=m[y],v=g-x;Math.abs(v)<h&&(y==="top"?o=d.y:y==="bottom"?o=d.y+d.height-l.height:y==="centerY"&&(o=d.y+d.height/2-l.height/2))})}),{x:a,y:o}},o2=l=>{const t=nn.c(46),{selectedElements:n,viewport:a,onResizeStart:o}=l;if(n.length===0)return null;let u;t[0]!==n?(u=Kr(n),t[0]=n,t[1]=u):u=t[1];const h=u,d=h.x*a.scale+a.x,m=h.y*a.scale+a.y,y=h.width*a.scale,g=h.height*a.scale,x=d-5,v=m-5;let w;t[2]!==x||t[3]!==v?(w={pos:"tl",x,y:v,cursor:"nwse-resize"},t[2]=x,t[3]=v,t[4]=w):w=t[4];const A=d+y-5,D=m-5;let T;t[5]!==A||t[6]!==D?(T={pos:"tr",x:A,y:D,cursor:"nesw-resize"},t[5]=A,t[6]=D,t[7]=T):T=t[7];const G=d-5,U=m+g-5;let L;t[8]!==G||t[9]!==U?(L={pos:"bl",x:G,y:U,cursor:"nesw-resize"},t[8]=G,t[9]=U,t[10]=L):L=t[10];const Z=d+y-5,K=m+g-5;let tt;t[11]!==Z||t[12]!==K?(tt={pos:"br",x:Z,y:K,cursor:"nwse-resize"},t[11]=Z,t[12]=K,t[13]=tt):tt=t[13];const Q=d+y/2-5,nt=m-5;let Y;t[14]!==Q||t[15]!==nt?(Y={pos:"t",x:Q,y:nt,cursor:"ns-resize"},t[14]=Q,t[15]=nt,t[16]=Y):Y=t[16];const k=d+y/2-5,at=m+g-5;let lt;t[17]!==k||t[18]!==at?(lt={pos:"b",x:k,y:at,cursor:"ns-resize"},t[17]=k,t[18]=at,t[19]=lt):lt=t[19];const B=d-5,q=m+g/2-5;let st;t[20]!==B||t[21]!==q?(st={pos:"l",x:B,y:q,cursor:"ew-resize"},t[20]=B,t[21]=q,t[22]=st):st=t[22];const b=d+y-5,M=m+g/2-5;let C;t[23]!==b||t[24]!==M?(C={pos:"r",x:b,y:M,cursor:"ew-resize"},t[23]=b,t[24]=M,t[25]=C):C=t[25];let R;t[26]!==L||t[27]!==tt||t[28]!==Y||t[29]!==lt||t[30]!==st||t[31]!==C||t[32]!==w||t[33]!==T?(R=[w,T,L,tt,Y,lt,st,C],t[26]=L,t[27]=tt,t[28]=Y,t[29]=lt,t[30]=st,t[31]=C,t[32]=w,t[33]=T,t[34]=R):R=t[34];const z=R;let S;t[35]!==g||t[36]!==d||t[37]!==m||t[38]!==y?(S=j.jsx("div",{style:{position:"absolute",left:d,top:m,width:y,height:g,border:"2px solid #3b82f6",pointerEvents:"none",boxSizing:"border-box"}}),t[35]=g,t[36]=d,t[37]=m,t[38]=y,t[39]=S):S=t[39];let E;t[40]!==z||t[41]!==o?(E=z.map(W=>j.jsx("div",{onMouseDown:J=>{J.stopPropagation(),o(W.pos,J)},style:{position:"absolute",left:W.x,top:W.y,width:10,height:10,backgroundColor:"white",border:"2px solid #3b82f6",borderRadius:"3px",cursor:W.cursor,zIndex:1001,boxShadow:"0 1px 4px rgba(0,0,0,0.2)",transition:"transform 0.1s"},onMouseEnter:u2,onMouseLeave:c2},W.pos)),t[40]=z,t[41]=o,t[42]=E):E=t[42];let H;return t[43]!==S||t[44]!==E?(H=j.jsxs(ux.Fragment,{children:[S,E]}),t[43]=S,t[44]=E,t[45]=H):H=t[45],H};function u2(l){l.currentTarget.style.transform="scale(1.2)"}function c2(l){l.currentTarget.style.transform="scale(1)"}const h2=l=>{const t=nn.c(24),{element:n,viewport:a,onUpdateArrowPoint:o}=l;if(n.type!=="arrow"||!n.arrowStart||!n.arrowEnd)return null;const u=(n.x+n.arrowStart.x)*a.scale+a.x,h=(n.y+n.arrowStart.y)*a.scale+a.y,d=(n.x+n.arrowEnd.x)*a.scale+a.x,m=(n.y+n.arrowEnd.y)*a.scale+a.y;let y;t[0]!==n.arrowEnd||t[1]!==n.arrowStart||t[2]!==o||t[3]!==a.scale?(y=tt=>Q=>{Q.stopPropagation();const nt=Q.clientX,Y=Q.clientY,k=tt==="start"?n.arrowStart:n.arrowEnd,at=B=>{const q=(B.clientX-nt)/a.scale,st=(B.clientY-Y)/a.scale,b=k.x+q,M=k.y+st;o(tt,b,M)},lt=()=>{document.removeEventListener("mousemove",at),document.removeEventListener("mouseup",lt)};document.addEventListener("mousemove",at),document.addEventListener("mouseup",lt)},t[0]=n.arrowEnd,t[1]=n.arrowStart,t[2]=o,t[3]=a.scale,t[4]=y):y=t[4];const g=y;let x;t[5]!==g?(x=g("start"),t[5]=g,t[6]=x):x=t[6];const v=u-5,w=h-5;let A;t[7]!==v||t[8]!==w?(A={position:"absolute",left:v,top:w,width:10,height:10,backgroundColor:"#10b981",border:"2px solid white",borderRadius:"50%",cursor:"move",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",zIndex:1001},t[7]=v,t[8]=w,t[9]=A):A=t[9];let D;t[10]!==x||t[11]!==A?(D=j.jsx("div",{onMouseDown:x,style:A,title:""}),t[10]=x,t[11]=A,t[12]=D):D=t[12];let T;t[13]!==g?(T=g("end"),t[13]=g,t[14]=T):T=t[14];const G=d-5,U=m-5;let L;t[15]!==G||t[16]!==U?(L={position:"absolute",left:G,top:U,width:10,height:10,backgroundColor:"#ef4444",border:"2px solid white",borderRadius:"50%",cursor:"move",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",zIndex:1001},t[15]=G,t[16]=U,t[17]=L):L=t[17];let Z;t[18]!==L||t[19]!==T?(Z=j.jsx("div",{onMouseDown:T,style:L,title:""}),t[18]=L,t[19]=T,t[20]=Z):Z=t[20];let K;return t[21]!==Z||t[22]!==D?(K=j.jsxs(j.Fragment,{children:[D,Z]}),t[21]=Z,t[22]=D,t[23]=K):K=t[23],K},f2=l=>{const t=nn.c(29),{element:n,viewport:a,onUpdate:o,onClose:u}=l,[h,d]=yt.useState(n.content||""),m=yt.useRef(null);let y,g;t[0]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{m.current&&(m.current.focus(),m.current.select())},g=[],t[0]=y,t[1]=g):(y=t[0],g=t[1]),yt.useEffect(y,g);let x;t[2]!==u||t[3]!==o||t[4]!==h?(x=()=>{o(h),u()},t[2]=u,t[3]=o,t[4]=h,t[5]=x):x=t[5];const v=x;let w;t[6]!==v||t[7]!==u?(w=M=>{M.key==="Escape"?(u(),M.stopPropagation()):M.key==="Enter"&&!M.shiftKey?(M.preventDefault(),M.stopPropagation(),v()):(M.key==="Delete"||M.key==="Backspace")&&M.stopPropagation()},t[6]=v,t[7]=u,t[8]=w):w=t[8];const A=w,D=n.x*a.scale+a.x,T=n.y*a.scale+a.y,G=n.width*a.scale,U=n.height*a.scale,L=n.type&&n.type!=="text",Z=n.type==="text"?n.style:n.textStyle,K=(Z?.fontSize||16)*a.scale;let tt;t[9]===Symbol.for("react.memo_cache_sentinel")?(tt=M=>d(M.target.value),t[9]=tt):tt=t[9];const Q=Z?.fontFamily||"Arial",nt=Z?.color||"#000000",Y=Z?.backgroundColor||"transparent",k=Z?.bold?"bold":"normal",at=Z?.italic?"italic":"normal",lt=Z?.underline?"underline":Z?.strikethrough?"line-through":"none",B=L?"center":"left",q=`${K}px`;let st;t[10]!==K||t[11]!==U||t[12]!==D||t[13]!==at||t[14]!==lt||t[15]!==B||t[16]!==q||t[17]!==Q||t[18]!==nt||t[19]!==Y||t[20]!==k||t[21]!==T||t[22]!==G?(st={position:"absolute",left:D,top:T,width:G,height:U,minHeight:U,fontSize:K,fontFamily:Q,color:nt,backgroundColor:Y,fontWeight:k,fontStyle:at,textDecoration:lt,border:"2px solid #3b82f6",outline:"none",padding:"6px 8px",resize:"none",overflow:"hidden",zIndex:1e3,textAlign:B,lineHeight:q},t[10]=K,t[11]=U,t[12]=D,t[13]=at,t[14]=lt,t[15]=B,t[16]=q,t[17]=Q,t[18]=nt,t[19]=Y,t[20]=k,t[21]=T,t[22]=G,t[23]=st):st=t[23];let b;return t[24]!==v||t[25]!==A||t[26]!==st||t[27]!==h?(b=j.jsx("textarea",{ref:m,value:h,onChange:tt,onBlur:v,onKeyDown:A,style:st}),t[24]=v,t[25]=A,t[26]=st,t[27]=h,t[28]=b):b=t[28],b},d2=l=>{const t=nn.c(52),{x:n,y:a,onCopy:o,onPaste:u,onDelete:h,onClose:d,hasSelection:m}=l,y=yt.useRef(null);let g,x;t[0]!==d?(g=()=>{const rt=ht=>{y.current&&!y.current.contains(ht.target)&&d()},ot=ht=>{ht.key==="Escape"&&d()};return document.addEventListener("mousedown",rt),document.addEventListener("keydown",ot),()=>{document.removeEventListener("mousedown",rt),document.removeEventListener("keydown",ot)}},x=[d],t[0]=d,t[1]=g,t[2]=x):(g=t[1],x=t[2]),yt.useEffect(g,x);let v;t[3]!==n||t[4]!==a?(v={position:"fixed",left:n,top:a,backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"6px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",padding:"4px",minWidth:"160px",zIndex:1e4},t[3]=n,t[4]=a,t[5]=v):v=t[5];const w=v;let A;t[6]===Symbol.for("react.memo_cache_sentinel")?(A={padding:"8px 12px",cursor:"pointer",borderRadius:"4px",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px",transition:"background-color 0.1s"},t[6]=A):A=t[6];const D=A;let T;t[7]===Symbol.for("react.memo_cache_sentinel")?(T={...D,cursor:"not-allowed",opacity:.5},t[7]=T):T=t[7];const G=T;let U;t[8]!==d?(U=rt=>{rt(),d()},t[8]=d,t[9]=U):U=t[9];const L=U,Z=m?D:G;let K;t[10]!==m?(K=rt=>{m&&(rt.currentTarget.style.backgroundColor="#f3f4f6")},t[10]=m,t[11]=K):K=t[11];let tt;t[12]!==L||t[13]!==m||t[14]!==o?(tt=()=>m&&L(o),t[12]=L,t[13]=m,t[14]=o,t[15]=tt):tt=t[15];let Q,nt,Y;t[16]===Symbol.for("react.memo_cache_sentinel")?(Q=j.jsx("span",{children:""}),nt=j.jsx("span",{children:""}),Y=j.jsx("span",{style:{marginLeft:"auto",fontSize:"12px",color:"#9ca3af"},children:"Ctrl+C"}),t[16]=Q,t[17]=nt,t[18]=Y):(Q=t[16],nt=t[17],Y=t[18]);let k;t[19]!==Z||t[20]!==K||t[21]!==tt?(k=j.jsxs("div",{style:Z,onMouseEnter:K,onMouseLeave:m2,onClick:tt,children:[Q,nt,Y]}),t[19]=Z,t[20]=K,t[21]=tt,t[22]=k):k=t[22];let at;t[23]!==L||t[24]!==u?(at=()=>L(u),t[23]=L,t[24]=u,t[25]=at):at=t[25];let lt,B,q;t[26]===Symbol.for("react.memo_cache_sentinel")?(lt=j.jsx("span",{children:""}),B=j.jsx("span",{children:""}),q=j.jsx("span",{style:{marginLeft:"auto",fontSize:"12px",color:"#9ca3af"},children:"Ctrl+V"}),t[26]=lt,t[27]=B,t[28]=q):(lt=t[26],B=t[27],q=t[28]);let st;t[29]!==at?(st=j.jsxs("div",{style:D,onMouseEnter:y2,onMouseLeave:g2,onClick:at,children:[lt,B,q]}),t[29]=at,t[30]=st):st=t[30];let b;t[31]===Symbol.for("react.memo_cache_sentinel")?(b=j.jsx("div",{style:{height:"1px",backgroundColor:"#e5e7eb",margin:"4px 0"}}),t[31]=b):b=t[31];const M=m?D:G;let C;t[32]!==m?(C=rt=>{m&&(rt.currentTarget.style.backgroundColor="#fef2f2")},t[32]=m,t[33]=C):C=t[33];let R;t[34]!==L||t[35]!==m||t[36]!==h?(R=()=>m&&L(h),t[34]=L,t[35]=m,t[36]=h,t[37]=R):R=t[37];let z;t[38]===Symbol.for("react.memo_cache_sentinel")?(z=j.jsx("span",{children:""}),t[38]=z):z=t[38];const S=m?"#ef4444":"inherit";let E;t[39]!==S?(E=j.jsx("span",{style:{color:S},children:""}),t[39]=S,t[40]=E):E=t[40];let H;t[41]===Symbol.for("react.memo_cache_sentinel")?(H=j.jsx("span",{style:{marginLeft:"auto",fontSize:"12px",color:"#9ca3af"},children:"Del"}),t[41]=H):H=t[41];let W;t[42]!==M||t[43]!==C||t[44]!==R||t[45]!==E?(W=j.jsxs("div",{style:M,onMouseEnter:C,onMouseLeave:p2,onClick:R,children:[z,E,H]}),t[42]=M,t[43]=C,t[44]=R,t[45]=E,t[46]=W):W=t[46];let J;return t[47]!==w||t[48]!==k||t[49]!==st||t[50]!==W?(J=j.jsxs("div",{ref:y,style:w,children:[k,st,b,W]}),t[47]=w,t[48]=k,t[49]=st,t[50]=W,t[51]=J):J=t[51],J};function m2(l){l.currentTarget.style.backgroundColor="transparent"}function y2(l){l.currentTarget.style.backgroundColor="#f3f4f6"}function g2(l){l.currentTarget.style.backgroundColor="transparent"}function p2(l){l.currentTarget.style.backgroundColor="transparent"}const x2=l=>{const t=nn.c(54),{elements:n,viewport:a,canvasWidth:o,canvasHeight:u,onViewportChange:h}=l,d=yt.useRef(null),[m,y]=yt.useState(!1);let g;t[0]!==n?(g=n.length>0?Kr(n):null,t[0]=n,t[1]=g):g=t[1];const x=g;let v;t[2]!==u||t[3]!==o||t[4]!==x||t[5]!==a.scale?(v=()=>{if(!x)return 1;const M=x.width,C=x.height,R=Math.max(M,o/a.scale),z=Math.max(C,u/a.scale),S=R>0?180/R:1,E=z>0?180/z:1;return Math.min(S,E,1)},t[2]=u,t[3]=o,t[4]=x,t[5]=a.scale,t[6]=v):v=t[6];const A=v();let D;t[7]!==u||t[8]!==o||t[9]!==x||t[10]!==n||t[11]!==A||t[12]!==a.scale||t[13]!==a.x||t[14]!==a.y?(D=()=>{const M=d.current;if(!M)return;const C=M.getContext("2d");if(!C||(C.fillStyle="#f5f5f5",C.fillRect(0,0,200,200),C.strokeStyle="#d1d5db",C.lineWidth=1,C.strokeRect(0,0,200,200),!x))return;const R=10-x.x*A,z=10-x.y*A;n.forEach(J=>{const rt=R+J.x*A,ot=z+J.y*A,ht=J.width*A,ft=J.height*A;let At="#3b82f6";J.type==="text"?At="#8b5cf6":J.type==="image"&&(At="#ec4899"),C.fillStyle=At,C.globalAlpha=.6,C.fillRect(rt,ot,ht,ft),C.globalAlpha=1,C.strokeStyle=At,C.lineWidth=1,C.strokeRect(rt,ot,ht,ft)});const S=R-a.x*A/a.scale,E=z-a.y*A/a.scale,H=o/a.scale*A,W=u/a.scale*A;C.strokeStyle="#ef4444",C.lineWidth=2,C.strokeRect(S,E,H,W),C.fillStyle="#ef4444",C.globalAlpha=.1,C.fillRect(S,E,H,W),C.globalAlpha=1},t[7]=u,t[8]=o,t[9]=x,t[10]=n,t[11]=A,t[12]=a.scale,t[13]=a.x,t[14]=a.y,t[15]=D):D=t[15];let T;t[16]!==u||t[17]!==o||t[18]!==x||t[19]!==n||t[20]!==A||t[21]!==a?(T=[n,a,A,o,u,x],t[16]=u,t[17]=o,t[18]=x,t[19]=n,t[20]=A,t[21]=a,t[22]=T):T=t[22],yt.useEffect(D,T);let G;t[23]!==u||t[24]!==o||t[25]!==x||t[26]!==A||t[27]!==h||t[28]!==a.scale?(G=M=>{const C=d.current;if(!C)return;const R=C.getBoundingClientRect(),z=M.clientX-R.left,S=M.clientY-R.top;if(!x)return;const E=10-x.x*A,H=10-x.y*A,W=(z-E)/A,J=(S-H)/A,rt=W*a.scale-o/2,ot=J*a.scale-u/2;h({x:rt,y:ot})},t[23]=u,t[24]=o,t[25]=x,t[26]=A,t[27]=h,t[28]=a.scale,t[29]=G):G=t[29];const U=G;let L;t[30]===Symbol.for("react.memo_cache_sentinel")?(L=()=>{y(!0)},t[30]=L):L=t[30];const Z=L;let K;t[31]!==u||t[32]!==o||t[33]!==x||t[34]!==m||t[35]!==A||t[36]!==h||t[37]!==a.scale?(K=M=>{if(!m||!d.current||!x)return;const R=d.current.getBoundingClientRect(),z=M.clientX-R.left,S=M.clientY-R.top,E=10-x.x*A,H=10-x.y*A,W=(z-E)/A,J=(S-H)/A,rt=W*a.scale-o/2,ot=J*a.scale-u/2;h({x:rt,y:ot})},t[31]=u,t[32]=o,t[33]=x,t[34]=m,t[35]=A,t[36]=h,t[37]=a.scale,t[38]=K):K=t[38];const tt=K;let Q;t[39]===Symbol.for("react.memo_cache_sentinel")?(Q=()=>{y(!1)},t[39]=Q):Q=t[39];const nt=Q;let Y,k;t[40]!==tt||t[41]!==m?(k=()=>{if(m)return document.addEventListener("mousemove",tt),document.addEventListener("mouseup",nt),()=>{document.removeEventListener("mousemove",tt),document.removeEventListener("mouseup",nt)}},Y=[m,tt,nt],t[40]=tt,t[41]=m,t[42]=Y,t[43]=k):(Y=t[42],k=t[43]),yt.useEffect(k,Y);const at=m?"grabbing":"grab";let lt;t[44]!==at?(lt={position:"absolute",bottom:20,right:20,width:200,height:200,backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",zIndex:999,cursor:at},t[44]=at,t[45]=lt):lt=t[45];const B=m?"grabbing":"grab";let q;t[46]!==B?(q={display:"block",width:"100%",height:"100%",borderRadius:"8px",cursor:B},t[46]=B,t[47]=q):q=t[47];let st;t[48]!==U||t[49]!==q?(st=j.jsx("canvas",{ref:d,width:200,height:200,onClick:U,onMouseDown:Z,style:q}),t[48]=U,t[49]=q,t[50]=st):st=t[50];let b;return t[51]!==lt||t[52]!==st?(b=j.jsx("div",{style:lt,children:st}),t[51]=lt,t[52]=st,t[53]=b):b=t[53],b},b2=l=>{const t=nn.c(10),{guidelines:n,viewport:a,canvasWidth:o,canvasHeight:u}=l,h=yt.useRef(null);let d,m;t[0]!==u||t[1]!==o||t[2]!==n||t[3]!==a?(d=()=>{const x=h.current;if(!x)return;const v=x.getContext("2d");v&&(v.clearRect(0,0,o,u),n.forEach(w=>{if(w.type==="vertical"){const A=qs(w.position,0,a),D=qs(w.position,w.start,a),T=qs(w.position,w.end,a);v.strokeStyle="#ef4444",v.lineWidth=1,v.setLineDash([5,5]),v.beginPath(),v.moveTo(A.x,D.y),v.lineTo(A.x,T.y),v.stroke(),v.setLineDash([])}else{const A=qs(0,w.position,a),D=qs(w.start,w.position,a),T=qs(w.end,w.position,a);v.strokeStyle="#ef4444",v.lineWidth=1,v.setLineDash([5,5]),v.beginPath(),v.moveTo(D.x,A.y),v.lineTo(T.x,A.y),v.stroke(),v.setLineDash([])}}))},m=[n,a,o,u],t[0]=u,t[1]=o,t[2]=n,t[3]=a,t[4]=d,t[5]=m):(d=t[4],m=t[5]),yt.useEffect(d,m);let y;t[6]===Symbol.for("react.memo_cache_sentinel")?(y={position:"absolute",top:0,left:0,pointerEvents:"none",zIndex:500},t[6]=y):y=t[6];let g;return t[7]!==u||t[8]!==o?(g=j.jsx("canvas",{ref:h,width:o,height:u,style:y}),t[7]=u,t[8]=o,t[9]=g):g=t[9],g},ye={NONE:"none",PANNING:"panning",SELECTING:"selecting",DRAGGING:"dragging",RESIZING:"resizing",DRAWING_ARROW:"drawing-arrow"},_2=({elements:l,selectedIds:t,viewport:n,onSelectElements:a,onUpdateElement:o,onUpdateViewport:u,onClearSelection:h,onCopy:d,onPaste:m,onDelete:y,onCreateArrow:g,isDrawingArrow:x=!1,onCancelArrowDrawing:v,onUpdateArrowPoint:w})=>{const A=yt.useRef(null),D=yt.useRef(null),[T,G]=yt.useState(ye.NONE),[U,L]=yt.useState(null),[Z,K]=yt.useState(null),[tt,Q]=yt.useState(new Map),[nt,Y]=yt.useState(!1),[k,at]=yt.useState(null),[lt,B]=yt.useState(null),[q,st]=yt.useState(null),[b,M]=yt.useState(!1),[C,R]=yt.useState([]),z=5,[S,E]=yt.useState(null),[H,W]=yt.useState(null),J=yt.useRef(!1);yt.useEffect(()=>{if(!A.current)return;const ut=new n2(A.current);D.current=ut;let gt=!1;return ut.waitForInit().then(()=>{gt||D.current!==ut||(console.log("Renderer initialized"),Y(!0))}),()=>{gt=!0,ut&&ut.destroy(),D.current===ut&&(D.current=null,Y(!1))}},[]),yt.useEffect(()=>{if(console.log("Render useEffect triggered - rendererReady:",nt,"elements:",l.length),!D.current||!nt)return;(async()=>{console.log("Starting render of",l.length,"elements"),D.current.clear();for(const gt of l)await D.current.renderElement(gt);D.current.updateViewport(n.x,n.y,n.scale),console.log("Finished rendering")})()},[l,n,nt]),yt.useEffect(()=>{if(!nt||l.length===0||J.current)return;const ut=A.current;if(!ut)return;const gt=Kr(l),St=ut.width/n.scale,dt=ut.height/n.scale,ct=-n.x/n.scale,zt=-n.y/n.scale;if(gt.x<ct+St&&gt.x+gt.width>ct&&gt.y<zt+dt&&gt.y+gt.height>zt)return;const Gt=gt.x+gt.width/2,jt=gt.y+gt.height/2,Ut=ut.width/2-Gt*n.scale,pe=ut.height/2-jt*n.scale;J.current=!0,u({x:Ut,y:pe,scale:n.scale})},[nt,l,n,u]);const rt=yt.useCallback(ut=>{if(q)return;const gt=A.current?.getBoundingClientRect();if(!gt)return;const St=ut.clientX-gt.left,dt=ut.clientY-gt.top,{x:ct,y:zt}=Xs(St,dt,n);if(x){H?(g&&g(H.x,H.y,ct,zt),W(null),G(ye.NONE)):(W({x:ct,y:zt}),G(ye.DRAWING_ARROW));return}if(ut.button===0&&ut.nativeEvent.which===1&&ut.altKey){G(ye.PANNING),K({x:St,y:dt});return}let Et=null;for(let Gt=l.length-1;Gt>=0;Gt--)if(Ey(ct,zt,l[Gt])){Et=l[Gt];break}if(Et){ut.shiftKey?t.includes(Et.id)?a(t.filter(Ut=>Ut!==Et.id)):a([...t,Et.id]):t.includes(Et.id)||a([Et.id]),G(ye.DRAGGING),K({x:ct,y:zt}),M(!1);const Gt=new Map;(t.includes(Et.id)?t:[Et.id]).forEach(Ut=>{const pe=l.find(_t=>_t.id===Ut);pe&&Gt.set(Ut,{x:pe.x,y:pe.y})}),Q(Gt)}else G(ye.SELECTING),L({startX:ct,startY:zt,endX:ct,endY:zt}),ut.shiftKey||h()},[l,t,n,a,h,q,x,H,g]),ot=yt.useCallback(ut=>{if(q)return;const gt=A.current?.getBoundingClientRect();if(!gt)return;const St=ut.clientX-gt.left,dt=ut.clientY-gt.top;if(T===ye.PANNING&&Z){const ct=St-Z.x,zt=dt-Z.y;u({x:n.x+ct,y:n.y+zt}),K({x:St,y:dt})}else if(T===ye.SELECTING&&U){const{x:ct,y:zt}=Xs(St,dt,n);L({...U,endX:ct,endY:zt})}else if(T===ye.DRAGGING&&Z){const{x:ct,y:zt}=Xs(St,dt,n),Et=ct-Z.x,Gt=zt-Z.y;if(!b)if(Math.sqrt(Et*Et+Gt*Gt)>z/n.scale)M(!0);else return;const jt=Array.from(tt.entries()).map(([Ut,pe])=>{const _t=l.find(xe=>xe.id===Ut);return _t?{..._t,x:pe.x+Et,y:pe.y+Gt}:null}).filter(Boolean);if(jt.length>0){const Ut=l.filter(Ye=>!tt.has(Ye.id)),pe=l2(jt[0],Ut,n);R(pe);const _t=r2(jt[0],Ut,n),xe=_t.x-jt[0].x,Ai=_t.y-jt[0].y;tt.forEach((Ye,Jt)=>{o(Jt,{x:Ye.x+Et+xe,y:Ye.y+Gt+Ai})})}}},[T,Z,U,tt,b,z,n,u,o,q,l]),ht=yt.useCallback(()=>{if(!q){if(T===ye.SELECTING&&U){const gt=l.filter(St=>s2(St,U)).map(St=>St.id);a(gt),L(null)}G(ye.NONE),K(null),Q(new Map),at(null),B(null),M(!1),R([])}},[T,U,l,a,q]),ft=yt.useCallback((ut,gt)=>{gt.stopPropagation();const St=A.current?.getBoundingClientRect();if(!St)return;const dt=gt.clientX-St.left,ct=gt.clientY-St.top,{x:zt,y:Et}=Xs(dt,ct,n);G(ye.RESIZING),at(ut);const Gt=new Map;t.forEach(jt=>{const Ut=l.find(pe=>pe.id===jt);Ut&&Gt.set(jt,{x:Ut.x,y:Ut.y,width:Ut.width,height:Ut.height})}),B({mouseX:zt,mouseY:Et,elements:Gt,shiftKey:gt.shiftKey})},[l,t,n]);yt.useEffect(()=>{const ut=A.current;if(!ut)return;const gt=St=>{St.preventDefault();const dt=ut.getBoundingClientRect(),ct=St.clientX-dt.left,zt=St.clientY-dt.top,Et=(ct-n.x)/n.scale,Gt=(zt-n.y)/n.scale,jt=St.deltaY>0?.9:1.1,Ut=Math.max(.1,Math.min(5,n.scale*jt)),pe=ct-Et*Ut,_t=zt-Gt*Ut;u({scale:Ut,x:pe,y:_t})};return ut.addEventListener("wheel",gt,{passive:!1}),()=>{ut.removeEventListener("wheel",gt)}},[n,u]),yt.useEffect(()=>{const ut=St=>{if(T===ye.RESIZING&&lt&&k&&A.current){const dt=A.current.getBoundingClientRect(),ct=St.clientX-dt.left,zt=St.clientY-dt.top,{x:Et,y:Gt}=Xs(ct,zt,n),jt=Et-lt.mouseX,Ut=Gt-lt.mouseY,pe=!lt.shiftKey;lt.elements.forEach((_t,xe)=>{let Ai=_t.x,Ye=_t.y,Jt=_t.width,oe=_t.height;if(k==="tl"||k==="tr"||k==="bl"||k==="br")if(pe){const ns=_t.width/_t.height;k==="br"?(Jt=Math.max(20,_t.width+jt),oe=Math.max(20,Jt/ns)):k==="tl"?(Jt=Math.max(20,_t.width-jt),oe=Math.max(20,Jt/ns),Ai=_t.x+_t.width-Jt,Ye=_t.y+_t.height-oe):k==="tr"?(Jt=Math.max(20,_t.width+jt),oe=Math.max(20,Jt/ns),Ye=_t.y+_t.height-oe):k==="bl"&&(Jt=Math.max(20,_t.width-jt),oe=Math.max(20,Jt/ns),Ai=_t.x+_t.width-Jt)}else k==="br"?(Jt=Math.max(20,_t.width+jt),oe=Math.max(20,_t.height+Ut)):k==="tl"?(Jt=Math.max(20,_t.width-jt),oe=Math.max(20,_t.height-Ut),Ai=_t.x+_t.width-Jt,Ye=_t.y+_t.height-oe):k==="tr"?(Jt=Math.max(20,_t.width+jt),oe=Math.max(20,_t.height-Ut),Ye=_t.y+_t.height-oe):k==="bl"&&(Jt=Math.max(20,_t.width-jt),oe=Math.max(20,_t.height+Ut),Ai=_t.x+_t.width-Jt);else k==="t"?(oe=Math.max(20,_t.height-Ut),Ye=_t.y+_t.height-oe):k==="b"?oe=Math.max(20,_t.height+Ut):k==="l"?(Jt=Math.max(20,_t.width-jt),Ai=_t.x+_t.width-Jt):k==="r"&&(Jt=Math.max(20,_t.width+jt));o(xe,{x:Ai,y:Ye,width:Jt,height:oe})})}},gt=()=>{T===ye.RESIZING&&(G(ye.NONE),at(null),B(null))};if(T===ye.RESIZING)return document.addEventListener("mousemove",ut),document.addEventListener("mouseup",gt),()=>{document.removeEventListener("mousemove",ut),document.removeEventListener("mouseup",gt)}},[T,k,lt,n,o]);const At=yt.useCallback(ut=>{ut.preventDefault(),E({x:ut.clientX,y:ut.clientY})},[]),re=yt.useCallback(ut=>{const gt=A.current?.getBoundingClientRect();if(!gt)return;const St=ut.clientX-gt.left,dt=ut.clientY-gt.top,{x:ct,y:zt}=Xs(St,dt,n);let Et=null;for(let Gt=l.length-1;Gt>=0;Gt--)if(Ey(ct,zt,l[Gt])){Et=l[Gt];break}Et&&(Et.type==="text"||["rectangle","rounded-rectangle","circle","triangle"].includes(Et.type))&&(ut.stopPropagation(),a([Et.id]),st(Et.id),G(ye.NONE),K(null),M(!1))},[l,n,a]);return yt.useEffect(()=>{const ut=gt=>{gt.key==="Escape"&&x&&(W(null),G(ye.NONE),v&&v())};return window.addEventListener("keydown",ut),()=>window.removeEventListener("keydown",ut)},[x,v]),j.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[j.jsx("canvas",{ref:A,onMouseDown:rt,onMouseMove:ot,onMouseUp:ht,onMouseLeave:ht,onContextMenu:At,onDoubleClick:re,style:{display:"block",width:"100%",height:"100%",cursor:x?"crosshair":T===ye.PANNING?"grabbing":T===ye.DRAGGING?"move":"default"}}),x&&j.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(59, 130, 246, 0.9)",color:"white",padding:"12px 24px",borderRadius:"8px",fontSize:"14px",pointerEvents:"none",zIndex:2e3,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[H?"":"",j.jsx("div",{style:{fontSize:"12px",marginTop:"4px",opacity:.9},children:" ESC "})]}),A.current&&j.jsx(b2,{guidelines:C,viewport:n,canvasWidth:A.current.width,canvasHeight:A.current.height}),U&&j.jsx("div",{style:{position:"absolute",left:Math.min(U.startX,U.endX)*n.scale+n.x,top:Math.min(U.startY,U.endY)*n.scale+n.y,width:Math.abs(U.endX-U.startX)*n.scale,height:Math.abs(U.endY-U.startY)*n.scale,border:"2px dashed #3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",pointerEvents:"none"}}),!q&&j.jsx(o2,{selectedElements:l.filter(ut=>t.includes(ut.id)),viewport:n,onResizeStart:ft}),!q&&t.length===1&&w&&(()=>{const ut=l.find(gt=>gt.id===t[0]);return ut?.type==="arrow"?j.jsx(h2,{element:ut,viewport:n,onUpdateArrowPoint:(gt,St,dt)=>{w(t[0],gt,St,dt)}}):null})(),q&&(()=>{const ut=l.find(St=>St.id===q);if(!ut)return null;const gt=["rectangle","rounded-rectangle","circle","triangle"].includes(ut.type);return ut.type!=="text"&&!gt?null:j.jsx(f2,{element:ut,viewport:n,onUpdate:St=>{o(q,{content:St})},onClose:()=>st(null)})})(),S&&j.jsx(d2,{x:S.x,y:S.y,hasSelection:t.length>0,onCopy:d,onPaste:m,onDelete:y,onClose:()=>E(null)}),j.jsx(x2,{elements:l,viewport:n,canvasWidth:window.innerWidth,canvasHeight:window.innerHeight,onViewportChange:u})]})},Ht={RECTANGLE:"rectangle",ROUNDED_RECTANGLE:"rounded-rectangle",CIRCLE:"circle",TRIANGLE:"triangle",ARROW:"arrow",IMAGE:"image",TEXT:"text"},sl={GRAYSCALE:"grayscale",SEPIA:"sepia",BLUR:"blur",NONE:"none"},v2=l=>{const t=nn.c(45),{onCreateElement:n,onUploadImage:a,onDelete:o,onCopy:u,onPaste:h,onResetView:d,hasSelection:m}=l;let y;t[0]!==a?(y=R=>{const z=R.target.files?.[0];z&&z.type.startsWith("image/")&&a(z),R.target.value=""},t[0]=a,t[1]=y):y=t[1];const g=y;let x,v;t[2]===Symbol.for("react.memo_cache_sentinel")?(x={position:"absolute",top:20,left:20,backgroundColor:"white",padding:"12px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",display:"flex",gap:"8px",flexWrap:"wrap",maxWidth:"800px",zIndex:1e3},v={display:"flex",gap:"4px",borderRight:"1px solid #e5e7eb",paddingRight:"8px"},t[2]=x,t[3]=v):(x=t[2],v=t[3]);let w,A,D,T,G,U;t[4]!==n?(w=j.jsx("button",{onClick:()=>n(Ht.RECTANGLE),style:_i,title:"",children:""}),A=j.jsx("button",{onClick:()=>n(Ht.ROUNDED_RECTANGLE),style:_i,title:"",children:""}),D=j.jsx("button",{onClick:()=>n(Ht.CIRCLE),style:_i,title:"",children:""}),T=j.jsx("button",{onClick:()=>n(Ht.TRIANGLE),style:_i,title:"",children:""}),G=j.jsx("button",{onClick:()=>n(Ht.ARROW),style:_i,title:"",children:""}),U=j.jsx("button",{onClick:()=>n(Ht.TEXT),style:_i,title:"",children:"T"}),t[4]=n,t[5]=w,t[6]=A,t[7]=D,t[8]=T,t[9]=G,t[10]=U):(w=t[5],A=t[6],D=t[7],T=t[8],G=t[9],U=t[10]);let L;t[11]===Symbol.for("react.memo_cache_sentinel")?(L={..._i,cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center"},t[11]=L):L=t[11];let Z;t[12]===Symbol.for("react.memo_cache_sentinel")?(Z={display:"none"},t[12]=Z):Z=t[12];let K;t[13]!==g?(K=j.jsxs("label",{style:L,title:"",children:["",j.jsx("input",{type:"file",accept:"image/*",onChange:g,style:Z})]}),t[13]=g,t[14]=K):K=t[14];let tt;t[15]!==K||t[16]!==w||t[17]!==A||t[18]!==D||t[19]!==T||t[20]!==G||t[21]!==U?(tt=j.jsxs("div",{style:v,children:[w,A,D,T,G,U,K]}),t[15]=K,t[16]=w,t[17]=A,t[18]=D,t[19]=T,t[20]=G,t[21]=U,t[22]=tt):tt=t[22];let Q;t[23]===Symbol.for("react.memo_cache_sentinel")?(Q={display:"flex",gap:"4px",borderRight:"1px solid #e5e7eb",paddingRight:"8px"},t[23]=Q):Q=t[23];const nt=!m;let Y;t[24]!==u||t[25]!==nt?(Y=j.jsx("button",{onClick:u,disabled:nt,style:_i,title:" (Ctrl+C)",children:""}),t[24]=u,t[25]=nt,t[26]=Y):Y=t[26];let k;t[27]!==h?(k=j.jsx("button",{onClick:h,style:_i,title:" (Ctrl+V)",children:""}),t[27]=h,t[28]=k):k=t[28];const at=!m;let lt;t[29]===Symbol.for("react.memo_cache_sentinel")?(lt={..._i,color:"#ef4444"},t[29]=lt):lt=t[29];let B;t[30]!==o||t[31]!==at?(B=j.jsx("button",{onClick:o,disabled:at,style:lt,title:" (Delete)",children:""}),t[30]=o,t[31]=at,t[32]=B):B=t[32];let q;t[33]!==Y||t[34]!==k||t[35]!==B?(q=j.jsxs("div",{style:Q,children:[Y,k,B]}),t[33]=Y,t[34]=k,t[35]=B,t[36]=q):q=t[36];let st;t[37]===Symbol.for("react.memo_cache_sentinel")?(st={display:"flex",gap:"4px"},t[37]=st):st=t[37];let b;t[38]!==d?(b=j.jsx("div",{style:st,children:j.jsx("button",{onClick:d,style:_i,title:"",children:""})}),t[38]=d,t[39]=b):b=t[39];let M;t[40]===Symbol.for("react.memo_cache_sentinel")?(M=j.jsx("div",{style:{fontSize:"12px",color:"#6b7280",alignSelf:"center",marginLeft:"8px"},children:": Alt+ =  |  =  | Shift+ = "}),t[40]=M):M=t[40];let C;return t[41]!==tt||t[42]!==q||t[43]!==b?(C=j.jsxs("div",{style:x,children:[tt,q,b,M]}),t[41]=tt,t[42]=q,t[43]=b,t[44]=C):C=t[44],C},_i={padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"4px",backgroundColor:"white",cursor:"pointer",fontSize:"16px",transition:"all 0.2s",minWidth:"40px"},S2=l=>{const t=nn.c(54),{selectedElements:n,onUpdateElement:a}=l;if(n.length===0)return null;const o=n[0];let u;t[0]!==a?(u=B=>j.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsxs("select",{value:B.textStyle?.fontFamily||"Arial",onChange:q=>a(B.id,{textStyle:{...B.textStyle,fontFamily:q.target.value}}),style:Kt,children:[j.jsx("option",{value:"Arial",children:"Arial"}),j.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),j.jsx("option",{value:"Courier New",children:"Courier New"}),j.jsx("option",{value:"Georgia",children:"Georgia"}),j.jsx("option",{value:"Verdana",children:"Verdana"})]})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsx("input",{type:"number",value:B.textStyle?.fontSize||16,onChange:q=>a(B.id,{textStyle:{...B.textStyle,fontSize:Number(q.target.value)}}),min:"8",max:"120",style:Kt})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsx("input",{type:"color",value:B.textStyle?.color||"#000000",onChange:q=>a(B.id,{textStyle:{...B.textStyle,color:q.target.value}}),style:Kt})]}),j.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[j.jsx("button",{onClick:()=>a(B.id,{textStyle:{...B.textStyle,bold:!B.textStyle?.bold}}),style:{...Rn,backgroundColor:B.textStyle?.bold?"#3b82f6":"white",color:B.textStyle?.bold?"white":"black"},children:j.jsx("strong",{children:"B"})}),j.jsx("button",{onClick:()=>a(B.id,{textStyle:{...B.textStyle,italic:!B.textStyle?.italic}}),style:{...Rn,backgroundColor:B.textStyle?.italic?"#3b82f6":"white",color:B.textStyle?.italic?"white":"black"},children:j.jsx("em",{children:"I"})}),j.jsx("button",{onClick:()=>a(B.id,{textStyle:{...B.textStyle,underline:!B.textStyle?.underline}}),style:{...Rn,backgroundColor:B.textStyle?.underline?"#3b82f6":"white",color:B.textStyle?.underline?"white":"black"},children:j.jsx("u",{children:"U"})}),j.jsx("button",{onClick:()=>a(B.id,{textStyle:{...B.textStyle,strikethrough:!B.textStyle?.strikethrough}}),style:{...Rn,backgroundColor:B.textStyle?.strikethrough?"#3b82f6":"white",color:B.textStyle?.strikethrough?"white":"black"},children:j.jsx("s",{children:"S"})})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsx("input",{type:"color",value:B.backgroundColor,onChange:q=>a(B.id,{backgroundColor:q.target.value}),style:Kt})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsx("input",{type:"number",value:B.borderWidth,onChange:q=>a(B.id,{borderWidth:Number(q.target.value)}),min:"0",max:"20",style:Kt})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsx("input",{type:"color",value:B.borderColor,onChange:q=>a(B.id,{borderColor:q.target.value}),style:Kt})]}),B.type===Ht.ROUNDED_RECTANGLE&&j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsx("input",{type:"number",value:B.cornerRadius||10,onChange:q=>a(B.id,{cornerRadius:Number(q.target.value)}),min:"0",max:"100",style:Kt})]})]}),t[0]=a,t[1]=u):u=t[1];const h=u;let d;t[2]!==a?(d=B=>{const q=B.arrowStart??{x:10,y:B.height/2},st=B.arrowEnd??{x:B.width-10,y:B.height/2},b=B.arrowTailWidth??B.borderWidth??4,M=B.arrowCurve??0,C=z=>{a(B.id,{arrowStart:{...q,...z}})},R=z=>{a(B.id,{arrowEnd:{...st,...z}})};return j.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[j.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[j.jsxs("div",{children:[j.jsx("label",{style:It,children:" X:"}),j.jsx("input",{type:"number",value:Number(q.x.toFixed(1)),onChange:z=>C({x:Number(z.target.value)}),style:Kt})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:" Y:"}),j.jsx("input",{type:"number",value:Number(q.y.toFixed(1)),onChange:z=>C({y:Number(z.target.value)}),style:Kt})]})]}),j.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[j.jsxs("div",{children:[j.jsx("label",{style:It,children:" X:"}),j.jsx("input",{type:"number",value:Number(st.x.toFixed(1)),onChange:z=>R({x:Number(z.target.value)}),style:Kt})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:" Y:"}),j.jsx("input",{type:"number",value:Number(st.y.toFixed(1)),onChange:z=>R({y:Number(z.target.value)}),style:Kt})]})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsx("input",{type:"number",value:B.arrowHeadSize??16,min:4,max:80,onChange:z=>a(B.id,{arrowHeadSize:Number(z.target.value)}),style:Kt})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsx("input",{type:"number",value:b,min:1,max:64,onChange:z=>a(B.id,{borderWidth:Number(z.target.value),arrowTailWidth:Number(z.target.value)}),style:Kt})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[j.jsx("input",{type:"range",min:-1,max:1,step:.05,value:M,onChange:z=>a(B.id,{arrowCurve:Number(z.target.value)}),style:{flexGrow:1}}),j.jsx("input",{type:"number",value:Number(M.toFixed(2)),min:-1,max:1,step:.05,onChange:z=>a(B.id,{arrowCurve:Number(z.target.value)}),style:{...Kt,width:"80px"}})]})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsx("input",{type:"color",value:B.borderColor,onChange:z=>a(B.id,{borderColor:z.target.value}),style:Kt})]})]})},t[2]=a,t[3]=d):d=t[3];const m=d;let y;t[4]!==a?(y=B=>j.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsxs("select",{value:B.style.fontFamily,onChange:q=>a(B.id,{style:{...B.style,fontFamily:q.target.value}}),style:Kt,children:[j.jsx("option",{value:"Arial",children:"Arial"}),j.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),j.jsx("option",{value:"Courier New",children:"Courier New"}),j.jsx("option",{value:"Georgia",children:"Georgia"}),j.jsx("option",{value:"Verdana",children:"Verdana"})]})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsx("input",{type:"number",value:B.style.fontSize,onChange:q=>a(B.id,{style:{...B.style,fontSize:Number(q.target.value)}}),min:"8",max:"120",style:Kt})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsx("input",{type:"color",value:B.style.color,onChange:q=>a(B.id,{style:{...B.style,color:q.target.value}}),style:Kt})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsx("input",{type:"color",value:B.style.backgroundColor||"#ffffff",onChange:q=>a(B.id,{style:{...B.style,backgroundColor:q.target.value}}),style:Kt})]}),j.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[j.jsx("button",{onClick:()=>a(B.id,{style:{...B.style,bold:!B.style.bold}}),style:{...Rn,backgroundColor:B.style.bold?"#3b82f6":"white",color:B.style.bold?"white":"black"},children:j.jsx("strong",{children:"B"})}),j.jsx("button",{onClick:()=>a(B.id,{style:{...B.style,italic:!B.style.italic}}),style:{...Rn,backgroundColor:B.style.italic?"#3b82f6":"white",color:B.style.italic?"white":"black"},children:j.jsx("em",{children:"I"})}),j.jsx("button",{onClick:()=>a(B.id,{style:{...B.style,underline:!B.style.underline}}),style:{...Rn,backgroundColor:B.style.underline?"#3b82f6":"white",color:B.style.underline?"white":"black"},children:j.jsx("u",{children:"U"})}),j.jsx("button",{onClick:()=>a(B.id,{style:{...B.style,strikethrough:!B.style.strikethrough}}),style:{...Rn,backgroundColor:B.style.strikethrough?"#3b82f6":"white",color:B.style.strikethrough?"white":"black"},children:j.jsx("s",{children:"S"})})]})]}),t[4]=a,t[5]=y):y=t[5];const g=y;let x;t[6]!==a?(x=B=>j.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsx("input",{type:"text",value:B.src,onChange:q=>a(B.id,{src:q.target.value}),style:Kt})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsxs("select",{value:B.filter,onChange:q=>a(B.id,{filter:q.target.value}),style:Kt,children:[j.jsx("option",{value:sl.NONE,children:""}),j.jsx("option",{value:sl.GRAYSCALE,children:""}),j.jsx("option",{value:sl.SEPIA,children:""}),j.jsx("option",{value:sl.BLUR,children:""})]})]})]}),t[6]=a,t[7]=x):x=t[7];const v=x;let w;t[8]!==o.height||t[9]!==o.id||t[10]!==o.rotation||t[11]!==o.width||t[12]!==o.x||t[13]!==o.y||t[14]!==a?(w=()=>j.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"12px"},children:[j.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[j.jsxs("div",{children:[j.jsx("label",{style:It,children:"X:"}),j.jsx("input",{type:"number",value:Math.round(o.x),onChange:B=>a(o.id,{x:Number(B.target.value)}),style:Kt})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:"Y:"}),j.jsx("input",{type:"number",value:Math.round(o.y),onChange:B=>a(o.id,{y:Number(B.target.value)}),style:Kt})]})]}),j.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsx("input",{type:"number",value:Math.round(o.width),onChange:B=>a(o.id,{width:Number(B.target.value)}),min:"10",style:Kt})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsx("input",{type:"number",value:Math.round(o.height),onChange:B=>a(o.id,{height:Number(B.target.value)}),min:"10",style:Kt})]})]}),j.jsxs("div",{children:[j.jsx("label",{style:It,children:":"}),j.jsx("input",{type:"number",value:o.rotation,onChange:B=>a(o.id,{rotation:Number(B.target.value)}),style:Kt})]})]}),t[8]=o.height,t[9]=o.id,t[10]=o.rotation,t[11]=o.width,t[12]=o.x,t[13]=o.y,t[14]=a,t[15]=w):w=t[15];const A=w;let D,T,G;t[16]===Symbol.for("react.memo_cache_sentinel")?(D={position:"absolute",top:20,right:20,backgroundColor:"white",padding:"16px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",minWidth:"250px",maxWidth:"300px",maxHeight:"calc(100vh - 40px)",overflowY:"auto",zIndex:1e3},T=j.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:"bold"},children:""}),G={fontSize:"12px",color:"#6b7280",marginBottom:"12px"},t[16]=D,t[17]=T,t[18]=G):(D=t[16],T=t[17],G=t[18]);const U=n.length>1?` ${n.length} `:`: ${o.type}`;let L;t[19]!==U?(L=j.jsx("div",{style:G,children:U}),t[19]=U,t[20]=L):L=t[20];let Z;t[21]!==A?(Z=A(),t[21]=A,t[22]=Z):Z=t[22];let K;t[23]!==o||t[24]!==h?(K=o.type===Ht.RECTANGLE&&h(o),t[23]=o,t[24]=h,t[25]=K):K=t[25];let tt;t[26]!==o||t[27]!==h?(tt=o.type===Ht.ROUNDED_RECTANGLE&&h(o),t[26]=o,t[27]=h,t[28]=tt):tt=t[28];let Q;t[29]!==o||t[30]!==h?(Q=o.type===Ht.CIRCLE&&h(o),t[29]=o,t[30]=h,t[31]=Q):Q=t[31];let nt;t[32]!==o||t[33]!==h?(nt=o.type===Ht.TRIANGLE&&h(o),t[32]=o,t[33]=h,t[34]=nt):nt=t[34];let Y;t[35]!==o||t[36]!==m?(Y=o.type===Ht.ARROW&&m(o),t[35]=o,t[36]=m,t[37]=Y):Y=t[37];let k;t[38]!==o||t[39]!==g?(k=o.type===Ht.TEXT&&g(o),t[38]=o,t[39]=g,t[40]=k):k=t[40];let at;t[41]!==o||t[42]!==v?(at=o.type===Ht.IMAGE&&v(o),t[41]=o,t[42]=v,t[43]=at):at=t[43];let lt;return t[44]!==L||t[45]!==Z||t[46]!==K||t[47]!==tt||t[48]!==Q||t[49]!==nt||t[50]!==Y||t[51]!==k||t[52]!==at?(lt=j.jsxs("div",{style:D,children:[T,L,Z,K,tt,Q,nt,Y,k,at]}),t[44]=L,t[45]=Z,t[46]=K,t[47]=tt,t[48]=Q,t[49]=nt,t[50]=Y,t[51]=k,t[52]=at,t[53]=lt):lt=t[53],lt},It={display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px",color:"#374151"},Kt={width:"100%",padding:"6px 8px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px",boxSizing:"border-box"},Rn={padding:"6px 12px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"14px",transition:"all 0.2s"},Ps="canvas-editor-state",A2=l=>{try{const t=JSON.stringify(l);localStorage.setItem(Ps,t)}catch(t){console.error("Failed to save canvas state:",t)}},w2=()=>{try{const l=localStorage.getItem(Ps);if(l===null)return null;const t=JSON.parse(l);return!t||typeof t!="object"||!Array.isArray(t.elements)||!t.viewport||!t.elements.every(a=>!(!a.id||!a.type||a.type==="text"&&(!a.content||typeof a.content!="string")||typeof a.x!="number"||typeof a.y!="number"||typeof a.width!="number"||typeof a.height!="number"))?(localStorage.removeItem(Ps),null):t}catch(l){return console.error("Failed to load canvas state:",l),localStorage.removeItem(Ps),null}},M2={x:0,y:0,scale:1},C2=()=>{const[l,t]=yt.useState([]),[n,a]=yt.useState([]),[o,u]=yt.useState(M2),[h,d]=yt.useState([]),[m,y]=yt.useState(!1);yt.useEffect(()=>{const Y=w2();console.log("Loading saved state:",Y),Y&&Y.elements&&Y.elements.length>0?(console.log("Found saved elements:",Y.elements.length),t([...Y.elements]),u({...Y.viewport}),console.log("Elements set from saved state")):(console.log("No saved state, creating initial elements"),x()),y(!0)},[]);const g=yt.useCallback(a2(Y=>{A2(Y)},500),[]);yt.useEffect(()=>{m&&g({elements:l,selectedIds:n,viewport:o})},[l,o,n,g,m]);const x=()=>{const Y=[{id:Ki(),type:Ht.RECTANGLE,x:100,y:100,width:200,height:150,rotation:0,zIndex:0,backgroundColor:"#3b82f6",borderWidth:2,borderColor:"#1e40af"},{id:Ki(),type:Ht.ROUNDED_RECTANGLE,x:350,y:100,width:200,height:150,rotation:0,zIndex:1,backgroundColor:"#10b981",borderWidth:2,borderColor:"#059669",cornerRadius:20},{id:Ki(),type:Ht.CIRCLE,x:600,y:100,width:150,height:150,rotation:0,zIndex:2,backgroundColor:"#f59e0b",borderWidth:2,borderColor:"#d97706"},{id:Ki(),type:Ht.TRIANGLE,x:850,y:100,width:150,height:150,rotation:0,zIndex:3,backgroundColor:"#ef4444",borderWidth:2,borderColor:"#dc2626"},{id:Ki(),type:Ht.ARROW,x:150,y:280,width:220,height:80,rotation:0,zIndex:4,backgroundColor:"transparent",borderWidth:4,borderColor:"#1e3a8a",arrowStart:{x:20,y:40},arrowEnd:{x:200,y:40},arrowHeadSize:18,arrowTailWidth:4,arrowCurve:0},{id:Ki(),type:Ht.TEXT,x:100,y:300,width:400,height:100,rotation:0,zIndex:5,content:"",style:{fontFamily:"Arial",fontSize:32,color:"#1f2937",backgroundColor:"#fef3c7",bold:!0}}];t(Y)},v=yt.useCallback(Y=>{t(k=>[...k,Y])},[]),w=yt.useCallback((Y,k)=>{t(at=>at.map(lt=>{if(lt.id===Y){if(lt.type==="arrow"){const B=lt,q=k,st=typeof q.width=="number",b=typeof q.height=="number",M=st?q.width:B.width,C=b?q.height:B.height,R=st&&B.width!==0?M/B.width:1,z=b&&B.height!==0?C/B.height:1,S=q.arrowStart!==void 0,E=q.arrowEnd!==void 0,H=S?q.arrowStart||void 0:B.arrowStart?{x:B.arrowStart.x*R,y:B.arrowStart.y*z}:void 0,W=E?q.arrowEnd||void 0:B.arrowEnd?{x:B.arrowEnd.x*R,y:B.arrowEnd.y*z}:void 0;return{...B,...q,width:M,height:C,arrowStart:H,arrowEnd:W}}if(lt.type==="text"&&"style"in k){const B=lt,q=k;return{...B,...q,style:{...B.style,...q.style}}}return{...lt,...k}}return lt}))},[]),A=yt.useCallback(Y=>{t(k=>k.filter(at=>!Y.includes(at.id))),a(k=>k.filter(at=>!Y.includes(at)))},[]),D=yt.useCallback(Y=>{a(Y)},[]),T=yt.useCallback(Y=>{a(k=>k.includes(Y)?k.filter(at=>at!==Y):[...k,Y])},[]),G=yt.useCallback(()=>{a([])},[]),U=yt.useCallback(Y=>{u(k=>({...k,...Y}))},[]),L=yt.useCallback(()=>{const Y=l.filter(k=>n.includes(k.id));d(Y.map(zy))},[l,n]),Z=yt.useCallback(()=>{if(h.length===0)return;const Y=h.map(k=>{const at=zy(k);return at.id=Ki(),at.x+=20,at.y+=20,at});t(k=>[...k,...Y]),a(Y.map(k=>k.id)),d(Y)},[h]),K=yt.useCallback((Y,k,at,lt,B,q)=>{let st;const b={id:Ki(),x:k,y:at,rotation:0,zIndex:l.length};switch(Y){case Ht.RECTANGLE:case Ht.ROUNDED_RECTANGLE:case Ht.CIRCLE:case Ht.TRIANGLE:st={...b,type:Y,width:150,height:150,backgroundColor:"#3b82f6",borderWidth:2,borderColor:"#1e40af",cornerRadius:Y===Ht.ROUNDED_RECTANGLE?20:void 0,content:"",textStyle:{fontFamily:"Arial",fontSize:16,color:"#ffffff",bold:!1,italic:!1,underline:!1,strikethrough:!1}};break;case Ht.ARROW:st={...b,type:Y,width:180,height:60,backgroundColor:"transparent",borderWidth:4,borderColor:"#2563eb",arrowStart:{x:20,y:30},arrowEnd:{x:160,y:30},arrowHeadSize:18,arrowTailWidth:4,arrowCurve:0};break;case Ht.TEXT:st={...b,type:Y,width:300,height:80,content:"",style:{fontFamily:"Arial",fontSize:24,color:"#000000",bold:!1,italic:!1,underline:!1,strikethrough:!1}};break;case Ht.IMAGE:st={...b,type:Y,width:B||200,height:q||200,src:lt||"https://via.placeholder.com/200",filter:sl.NONE};break;default:return}v(st),D([st.id])},[l.length,v,D]),tt=yt.useCallback(()=>l.filter(Y=>n.includes(Y.id)),[l,n]),Q=yt.useCallback((Y,k,at,lt)=>{const B=Math.min(Y,at),q=Math.min(k,lt),st=Math.max(Math.abs(at-Y),50),b=Math.max(Math.abs(lt-k),50),M=Y-B,C=k-q,R=at-B,z=lt-q,S={id:Ki(),type:Ht.ARROW,x:B,y:q,width:st,height:b,rotation:0,zIndex:l.length,backgroundColor:"transparent",borderWidth:4,borderColor:"#2563eb",arrowStart:{x:M,y:C},arrowEnd:{x:R,y:z},arrowHeadSize:18,arrowTailWidth:4,arrowCurve:0};t(E=>[...E,S]),a([S.id])},[l.length]),nt=yt.useCallback((Y,k,at,lt)=>{t(B=>B.map(q=>{if(q.id!==Y||q.type!==Ht.ARROW)return q;const st=q,b=k==="start"?{x:at,y:lt}:st.arrowStart,M=k==="end"?{x:at,y:lt}:st.arrowEnd,C=st.x+b.x,R=st.y+b.y,z=st.x+M.x,S=st.y+M.y,E=Math.min(C,z),H=Math.min(R,S),W=Math.max(Math.abs(z-C),50),J=Math.max(Math.abs(S-R),50),rt=C-E,ot=R-H,ht=z-E,ft=S-H;return{...st,x:E,y:H,width:W,height:J,arrowStart:{x:rt,y:ot},arrowEnd:{x:ht,y:ft}}}))},[]);return{elements:l,selectedIds:n,viewport:o,addElement:v,updateElement:w,deleteElements:A,selectElements:D,toggleSelection:T,clearSelection:G,updateViewport:U,copySelected:L,paste:Z,createElement:K,createArrowWithPoints:Q,updateArrowPoint:nt,getSelectedElements:tt}};function T2(){const l=nn.c(71),{elements:t,selectedIds:n,viewport:a,updateElement:o,deleteElements:u,selectElements:h,clearSelection:d,updateViewport:m,copySelected:y,paste:g,createElement:x,createArrowWithPoints:v,updateArrowPoint:w,getSelectedElements:A}=C2(),[D,T]=yt.useState(!1);let G,U;l[0]!==d||l[1]!==y||l[2]!==u||l[3]!==g||l[4]!==n?(G=()=>{const ht=ft=>{(ft.ctrlKey||ft.metaKey)&&ft.key==="c"&&(ft.preventDefault(),y()),(ft.ctrlKey||ft.metaKey)&&ft.key==="v"&&(ft.preventDefault(),g()),(ft.key==="Delete"||ft.key==="Backspace")&&n.length>0&&(ft.preventDefault(),u(n)),ft.key==="Escape"&&d()};return window.addEventListener("keydown",ht),()=>window.removeEventListener("keydown",ht)},U=[n,y,g,u,d],l[0]=d,l[1]=y,l[2]=u,l[3]=g,l[4]=n,l[5]=G,l[6]=U):(G=l[5],U=l[6]),yt.useEffect(G,U);let L;l[7]!==d||l[8]!==x||l[9]!==a.scale||l[10]!==a.x||l[11]!==a.y?(L=ht=>{if(ht===Ht.ARROW){T(!0),d();return}const ft=-a.x/a.scale+window.innerWidth/2/a.scale,At=-a.y/a.scale+window.innerHeight/2/a.scale;x(ht,ft-75,At-75)},l[7]=d,l[8]=x,l[9]=a.scale,l[10]=a.x,l[11]=a.y,l[12]=L):L=l[12];const Z=L;let K;l[13]!==v?(K=(ht,ft,At,re)=>{v(ht,ft,At,re),T(!1)},l[13]=v,l[14]=K):K=l[14];const tt=K;let Q;l[15]===Symbol.for("react.memo_cache_sentinel")?(Q=()=>{T(!1)},l[15]=Q):Q=l[15];const nt=Q;let Y;l[16]!==x||l[17]!==a.scale||l[18]!==a.x||l[19]!==a.y?(Y=ht=>{const ft=new FileReader;ft.onload=At=>{const re=At.target?.result;if(re){const ut=new Image;ut.onload=()=>{const gt=-a.x/a.scale+window.innerWidth/2/a.scale,St=-a.y/a.scale+window.innerHeight/2/a.scale;let dt=ut.width,ct=ut.height;if(dt>400||ct>400){const zt=Math.min(400/dt,400/ct);dt=dt*zt,ct=ct*zt}x(Ht.IMAGE,gt-dt/2,St-ct/2,re,dt,ct)},ut.src=re}},ft.readAsDataURL(ht)},l[16]=x,l[17]=a.scale,l[18]=a.x,l[19]=a.y,l[20]=Y):Y=l[20];const k=Y;let at;l[21]!==m?(at=()=>{m({x:0,y:0,scale:1})},l[21]=m,l[22]=at):at=l[22];const lt=at;let B;l[23]!==u||l[24]!==n?(B=()=>{n.length>0&&u(n)},l[23]=u,l[24]=n,l[25]=B):B=l[25];const q=B;let st;l[26]===Symbol.for("react.memo_cache_sentinel")?(st={width:"100vw",height:"100vh",overflow:"hidden",position:"relative"},l[26]=st):st=l[26];let b;l[27]!==d||l[28]!==y||l[29]!==t||l[30]!==tt||l[31]!==q||l[32]!==D||l[33]!==g||l[34]!==h||l[35]!==n||l[36]!==w||l[37]!==o||l[38]!==m||l[39]!==a?(b=j.jsx(_2,{elements:t,selectedIds:n,viewport:a,onSelectElements:h,onUpdateElement:o,onUpdateViewport:m,onClearSelection:d,onCopy:y,onPaste:g,onDelete:q,onCreateArrow:tt,isDrawingArrow:D,onCancelArrowDrawing:nt,onUpdateArrowPoint:w}),l[27]=d,l[28]=y,l[29]=t,l[30]=tt,l[31]=q,l[32]=D,l[33]=g,l[34]=h,l[35]=n,l[36]=w,l[37]=o,l[38]=m,l[39]=a,l[40]=b):b=l[40];const M=n.length>0;let C;l[41]!==y||l[42]!==Z||l[43]!==q||l[44]!==k||l[45]!==lt||l[46]!==g||l[47]!==M?(C=j.jsx(v2,{onCreateElement:Z,onUploadImage:k,onDelete:q,onCopy:y,onPaste:g,onResetView:lt,hasSelection:M}),l[41]=y,l[42]=Z,l[43]=q,l[44]=k,l[45]=lt,l[46]=g,l[47]=M,l[48]=C):C=l[48];let R;l[49]!==A?(R=A(),l[49]=A,l[50]=R):R=l[50];let z;l[51]!==R||l[52]!==o?(z=j.jsx(S2,{selectedElements:R,onUpdateElement:o}),l[51]=R,l[52]=o,l[53]=z):z=l[53];let S;l[54]===Symbol.for("react.memo_cache_sentinel")?(S={position:"absolute",bottom:20,left:20,backgroundColor:"rgba(255, 255, 255, 0.9)",padding:"8px 12px",borderRadius:"4px",fontSize:"12px",color:"#6b7280",zIndex:1e3},l[54]=S):S=l[54];const E=t.length;let H;l[55]!==a.scale?(H=Math.round(a.scale*100),l[55]=a.scale,l[56]=H):H=l[56];let W;l[57]!==a.x?(W=Math.round(a.x),l[57]=a.x,l[58]=W):W=l[58];let J;l[59]!==a.y?(J=Math.round(a.y),l[59]=a.y,l[60]=J):J=l[60];let rt;l[61]!==t.length||l[62]!==H||l[63]!==W||l[64]!==J?(rt=j.jsxs("div",{style:S,children:[": ",E," | : ",H,"% | : (",W,", ",J,")"]}),l[61]=t.length,l[62]=H,l[63]=W,l[64]=J,l[65]=rt):rt=l[65];let ot;return l[66]!==C||l[67]!==z||l[68]!==rt||l[69]!==b?(ot=j.jsxs("div",{style:st,children:[b,C,z,rt]}),l[66]=C,l[67]=z,l[68]=rt,l[69]=b,l[70]=ot):ot=l[70],ot}gx.createRoot(document.getElementById("root")).render(j.jsx(yt.StrictMode,{children:j.jsx(T2,{})}));export{ne as $,mg as A,Ze as B,ge as C,Me as D,Mt as E,xh as F,$s as G,Kx as H,Is as I,Ob as J,kb as K,_e as L,bg as M,Be as N,Xb as O,Ue as P,L_ as Q,ul as R,ph as S,Br as T,og as U,ey as V,fb as W,zc as X,Ne as Y,Xy as Z,se as _,nh as a,w_ as a0,Qs as a1,xv as a2,Og as a3,Jv as a4,$v as a5,hl as a6,Le as a7,ol as a8,wg as a9,is as aa,Oi as ab,ny as ac,Ji as ad,Yx as ae,Cg as af,sn as b,Ir as c,Hb as d,yi as e,hy as f,E_ as g,O_ as h,cl as i,kr as j,gh as k,hg as l,Jy as m,qm as n,en as o,Zt as p,Qt as q,Qx as r,Lx as s,B_ as t,T_ as u,$i as v,Oe as w,jy as x,Ri as y,Pr as z};
